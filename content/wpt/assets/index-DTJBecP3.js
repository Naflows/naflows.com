(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function _c(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Mc={exports:{}},ei={},Lc={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uo=Symbol.for("react.element"),Dh=Symbol.for("react.portal"),Fh=Symbol.for("react.fragment"),zh=Symbol.for("react.strict_mode"),$h=Symbol.for("react.profiler"),Uh=Symbol.for("react.provider"),Hh=Symbol.for("react.context"),qh=Symbol.for("react.forward_ref"),Wh=Symbol.for("react.suspense"),Vh=Symbol.for("react.memo"),Yh=Symbol.for("react.lazy"),ca=Symbol.iterator;function Kh(t){return t===null||typeof t!="object"?null:(t=ca&&t[ca]||t["@@iterator"],typeof t=="function"?t:null)}var Oc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jc=Object.assign,Ac={};function Vn(t,e,n){this.props=t,this.context=e,this.refs=Ac,this.updater=n||Oc}Vn.prototype.isReactComponent={};Vn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Vn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Pc(){}Pc.prototype=Vn.prototype;function Gs(t,e,n){this.props=t,this.context=e,this.refs=Ac,this.updater=n||Oc}var Js=Gs.prototype=new Pc;Js.constructor=Gs;jc(Js,Vn.prototype);Js.isPureReactComponent=!0;var ua=Array.isArray,Rc=Object.prototype.hasOwnProperty,el={current:null},Dc={key:!0,ref:!0,__self:!0,__source:!0};function Fc(t,e,n){var o,r={},i=null,s=null;if(e!=null)for(o in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)Rc.call(e,o)&&!Dc.hasOwnProperty(o)&&(r[o]=e[o]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}if(t&&t.defaultProps)for(o in l=t.defaultProps,l)r[o]===void 0&&(r[o]=l[o]);return{$$typeof:Uo,type:t,key:i,ref:s,props:r,_owner:el.current}}function Zh(t,e){return{$$typeof:Uo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function tl(t){return typeof t=="object"&&t!==null&&t.$$typeof===Uo}function Qh(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var da=/\/+/g;function xi(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Qh(""+t.key):e.toString(36)}function fr(t,e,n,o,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Uo:case Dh:s=!0}}if(s)return s=t,r=r(s),t=o===""?"."+xi(s,0):o,ua(r)?(n="",t!=null&&(n=t.replace(da,"$&/")+"/"),fr(r,e,n,"",function(c){return c})):r!=null&&(tl(r)&&(r=Zh(r,n+(!r.key||s&&s.key===r.key?"":(""+r.key).replace(da,"$&/")+"/")+t)),e.push(r)),1;if(s=0,o=o===""?".":o+":",ua(t))for(var l=0;l<t.length;l++){i=t[l];var a=o+xi(i,l);s+=fr(i,e,n,a,r)}else if(a=Kh(t),typeof a=="function")for(t=a.call(t),l=0;!(i=t.next()).done;)i=i.value,a=o+xi(i,l++),s+=fr(i,e,n,a,r);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Qo(t,e,n){if(t==null)return t;var o=[],r=0;return fr(t,o,"","",function(i){return e.call(n,i,r++)}),o}function Xh(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ie={current:null},mr={transition:null},Gh={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:mr,ReactCurrentOwner:el};U.Children={map:Qo,forEach:function(t,e,n){Qo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Qo(t,function(){e++}),e},toArray:function(t){return Qo(t,function(e){return e})||[]},only:function(t){if(!tl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};U.Component=Vn;U.Fragment=Fh;U.Profiler=$h;U.PureComponent=Gs;U.StrictMode=zh;U.Suspense=Wh;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gh;U.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var o=jc({},t.props),r=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=el.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Rc.call(e,a)&&!Dc.hasOwnProperty(a)&&(o[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}return{$$typeof:Uo,type:t.type,key:r,ref:i,props:o,_owner:s}};U.createContext=function(t){return t={$$typeof:Hh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Uh,_context:t},t.Consumer=t};U.createElement=Fc;U.createFactory=function(t){var e=Fc.bind(null,t);return e.type=t,e};U.createRef=function(){return{current:null}};U.forwardRef=function(t){return{$$typeof:qh,render:t}};U.isValidElement=tl;U.lazy=function(t){return{$$typeof:Yh,_payload:{_status:-1,_result:t},_init:Xh}};U.memo=function(t,e){return{$$typeof:Vh,type:t,compare:e===void 0?null:e}};U.startTransition=function(t){var e=mr.transition;mr.transition={};try{t()}finally{mr.transition=e}};U.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};U.useCallback=function(t,e){return Ie.current.useCallback(t,e)};U.useContext=function(t){return Ie.current.useContext(t)};U.useDebugValue=function(){};U.useDeferredValue=function(t){return Ie.current.useDeferredValue(t)};U.useEffect=function(t,e){return Ie.current.useEffect(t,e)};U.useId=function(){return Ie.current.useId()};U.useImperativeHandle=function(t,e,n){return Ie.current.useImperativeHandle(t,e,n)};U.useInsertionEffect=function(t,e){return Ie.current.useInsertionEffect(t,e)};U.useLayoutEffect=function(t,e){return Ie.current.useLayoutEffect(t,e)};U.useMemo=function(t,e){return Ie.current.useMemo(t,e)};U.useReducer=function(t,e,n){return Ie.current.useReducer(t,e,n)};U.useRef=function(t){return Ie.current.useRef(t)};U.useState=function(t){return Ie.current.useState(t)};U.useSyncExternalStore=function(t,e,n){return Ie.current.useSyncExternalStore(t,e,n)};U.useTransition=function(){return Ie.current.useTransition()};U.version="18.2.0";Lc.exports=U;var F=Lc.exports;const Jh=_c(F);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ep=F,tp=Symbol.for("react.element"),np=Symbol.for("react.fragment"),op=Object.prototype.hasOwnProperty,rp=ep.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ip={key:!0,ref:!0,__self:!0,__source:!0};function zc(t,e,n){var o,r={},i=null,s=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(o in e)op.call(e,o)&&!ip.hasOwnProperty(o)&&(r[o]=e[o]);if(t&&t.defaultProps)for(o in e=t.defaultProps,e)r[o]===void 0&&(r[o]=e[o]);return{$$typeof:tp,type:t,key:i,ref:s,props:r,_owner:rp.current}}ei.Fragment=np;ei.jsx=zc;ei.jsxs=zc;Mc.exports=ei;var u=Mc.exports,Qi={},$c={exports:{}},qe={},Uc={exports:{}},Hc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(_,R){var $=_.length;_.push(R);e:for(;0<$;){var J=$-1>>>1,se=_[J];if(0<r(se,R))_[J]=R,_[$]=se,$=J;else break e}}function n(_){return _.length===0?null:_[0]}function o(_){if(_.length===0)return null;var R=_[0],$=_.pop();if($!==R){_[0]=$;e:for(var J=0,se=_.length,Ko=se>>>1;J<Ko;){var Zt=2*(J+1)-1,wi=_[Zt],Qt=Zt+1,Zo=_[Qt];if(0>r(wi,$))Qt<se&&0>r(Zo,wi)?(_[J]=Zo,_[Qt]=$,J=Qt):(_[J]=wi,_[Zt]=$,J=Zt);else if(Qt<se&&0>r(Zo,$))_[J]=Zo,_[Qt]=$,J=Qt;else break e}}return R}function r(_,R){var $=_.sortIndex-R.sortIndex;return $!==0?$:_.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var a=[],c=[],p=1,d=null,f=3,y=!1,v=!1,x=!1,L=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(_){for(var R=n(c);R!==null;){if(R.callback===null)o(c);else if(R.startTime<=_)o(c),R.sortIndex=R.expirationTime,e(a,R);else break;R=n(c)}}function w(_){if(x=!1,g(_),!v)if(n(a)!==null)v=!0,ie(S);else{var R=n(c);R!==null&&De(w,R.startTime-_)}}function S(_,R){v=!1,x&&(x=!1,m(b),b=-1),y=!0;var $=f;try{for(g(R),d=n(a);d!==null&&(!(d.expirationTime>R)||_&&!j());){var J=d.callback;if(typeof J=="function"){d.callback=null,f=d.priorityLevel;var se=J(d.expirationTime<=R);R=t.unstable_now(),typeof se=="function"?d.callback=se:d===n(a)&&o(a),g(R)}else o(a);d=n(a)}if(d!==null)var Ko=!0;else{var Zt=n(c);Zt!==null&&De(w,Zt.startTime-R),Ko=!1}return Ko}finally{d=null,f=$,y=!1}}var N=!1,I=null,b=-1,B=5,T=-1;function j(){return!(t.unstable_now()-T<B)}function P(){if(I!==null){var _=t.unstable_now();T=_;var R=!0;try{R=I(!0,_)}finally{R?D():(N=!1,I=null)}}else N=!1}var D;if(typeof h=="function")D=function(){h(P)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,z=V.port2;V.port1.onmessage=P,D=function(){z.postMessage(null)}}else D=function(){L(P,0)};function ie(_){I=_,N||(N=!0,D())}function De(_,R){b=L(function(){_(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(_){_.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,ie(S))},t.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<_?Math.floor(1e3/_):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(_){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var $=f;f=R;try{return _()}finally{f=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(_,R){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var $=f;f=_;try{return R()}finally{f=$}},t.unstable_scheduleCallback=function(_,R,$){var J=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?J+$:J):$=J,_){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=$+se,_={id:p++,callback:R,priorityLevel:_,startTime:$,expirationTime:se,sortIndex:-1},$>J?(_.sortIndex=$,e(c,_),n(a)===null&&_===n(c)&&(x?(m(b),b=-1):x=!0,De(w,$-J))):(_.sortIndex=se,e(a,_),v||y||(v=!0,ie(S))),_},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(_){var R=f;return function(){var $=f;f=R;try{return _.apply(this,arguments)}finally{f=$}}}})(Hc);Uc.exports=Hc;var sp=Uc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qc=F,He=sp;function C(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wc=new Set,So={};function pn(t,e){Rn(t,e),Rn(t+"Capture",e)}function Rn(t,e){for(So[t]=e,t=0;t<e.length;t++)Wc.add(e[t])}var xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xi=Object.prototype.hasOwnProperty,lp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ha={},pa={};function ap(t){return Xi.call(pa,t)?!0:Xi.call(ha,t)?!1:lp.test(t)?pa[t]=!0:(ha[t]=!0,!1)}function cp(t,e,n,o){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function up(t,e,n,o){if(e===null||typeof e>"u"||cp(t,e,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _e(t,e,n,o,r,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xe[t]=new _e(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xe[e]=new _e(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xe[t]=new _e(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xe[t]=new _e(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xe[t]=new _e(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xe[t]=new _e(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xe[t]=new _e(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xe[t]=new _e(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xe[t]=new _e(t,5,!1,t.toLowerCase(),null,!1,!1)});var nl=/[\-:]([a-z])/g;function ol(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(nl,ol);xe[e]=new _e(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(nl,ol);xe[e]=new _e(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(nl,ol);xe[e]=new _e(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xe[t]=new _e(t,1,!1,t.toLowerCase(),null,!1,!1)});xe.xlinkHref=new _e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xe[t]=new _e(t,1,!1,t.toLowerCase(),null,!0,!0)});function rl(t,e,n,o){var r=xe.hasOwnProperty(e)?xe[e]:null;(r!==null?r.type!==0:o||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(up(e,n,r,o)&&(n=null),o||r===null?ap(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,o=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,o?t.setAttributeNS(o,e,n):t.setAttribute(e,n))))}var Tt=qc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xo=Symbol.for("react.element"),kn=Symbol.for("react.portal"),wn=Symbol.for("react.fragment"),il=Symbol.for("react.strict_mode"),Gi=Symbol.for("react.profiler"),Vc=Symbol.for("react.provider"),Yc=Symbol.for("react.context"),sl=Symbol.for("react.forward_ref"),Ji=Symbol.for("react.suspense"),es=Symbol.for("react.suspense_list"),ll=Symbol.for("react.memo"),Nt=Symbol.for("react.lazy"),Kc=Symbol.for("react.offscreen"),fa=Symbol.iterator;function Qn(t){return t===null||typeof t!="object"?null:(t=fa&&t[fa]||t["@@iterator"],typeof t=="function"?t:null)}var oe=Object.assign,bi;function ro(t){if(bi===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);bi=e&&e[1]||""}return`
`+bi+t}var Si=!1;function Ei(t,e){if(!t||Si)return"";Si=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var o=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){o=c}t.call(e.prototype)}else{try{throw Error()}catch(c){o=c}t()}}catch(c){if(c&&o&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),i=o.stack.split(`
`),s=r.length-1,l=i.length-1;1<=s&&0<=l&&r[s]!==i[l];)l--;for(;1<=s&&0<=l;s--,l--)if(r[s]!==i[l]){if(s!==1||l!==1)do if(s--,l--,0>l||r[s]!==i[l]){var a=`
`+r[s].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=s&&0<=l);break}}}finally{Si=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ro(t):""}function dp(t){switch(t.tag){case 5:return ro(t.type);case 16:return ro("Lazy");case 13:return ro("Suspense");case 19:return ro("SuspenseList");case 0:case 2:case 15:return t=Ei(t.type,!1),t;case 11:return t=Ei(t.type.render,!1),t;case 1:return t=Ei(t.type,!0),t;default:return""}}function ts(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wn:return"Fragment";case kn:return"Portal";case Gi:return"Profiler";case il:return"StrictMode";case Ji:return"Suspense";case es:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Yc:return(t.displayName||"Context")+".Consumer";case Vc:return(t._context.displayName||"Context")+".Provider";case sl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ll:return e=t.displayName||null,e!==null?e:ts(t.type)||"Memo";case Nt:e=t._payload,t=t._init;try{return ts(t(e))}catch{}}return null}function hp(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ts(e);case 8:return e===il?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ut(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pp(t){var e=Zc(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),o=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(s){o=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(s){o=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Go(t){t._valueTracker||(t._valueTracker=pp(t))}function Qc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),o="";return t&&(o=Zc(t)?t.checked?"true":"false":t.value),t=o,t!==n?(e.setValue(t),!0):!1}function Nr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ns(t,e){var n=e.checked;return oe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ma(t,e){var n=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;n=Ut(e.value!=null?e.value:n),t._wrapperState={initialChecked:o,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Xc(t,e){e=e.checked,e!=null&&rl(t,"checked",e,!1)}function os(t,e){Xc(t,e);var n=Ut(e.value),o=e.type;if(n!=null)o==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(o==="submit"||o==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?rs(t,e.type,n):e.hasOwnProperty("defaultValue")&&rs(t,e.type,Ut(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ga(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function rs(t,e,n){(e!=="number"||Nr(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var io=Array.isArray;function Mn(t,e,n,o){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&o&&(t[n].defaultSelected=!0)}else{for(n=""+Ut(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,o&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function is(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(C(91));return oe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function va(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(C(92));if(io(n)){if(1<n.length)throw Error(C(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ut(n)}}function Gc(t,e){var n=Ut(e.value),o=Ut(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),o!=null&&(t.defaultValue=""+o)}function ya(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Jc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ss(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Jc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Jo,eu=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,o,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,o,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Jo=Jo||document.createElement("div"),Jo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Jo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Eo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var uo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fp=["Webkit","ms","Moz","O"];Object.keys(uo).forEach(function(t){fp.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),uo[e]=uo[t]})});function tu(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||uo.hasOwnProperty(t)&&uo[t]?(""+e).trim():e+"px"}function nu(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var o=n.indexOf("--")===0,r=tu(n,e[n],o);n==="float"&&(n="cssFloat"),o?t.setProperty(n,r):t[n]=r}}var mp=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ls(t,e){if(e){if(mp[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(C(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(C(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(C(61))}if(e.style!=null&&typeof e.style!="object")throw Error(C(62))}}function as(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cs=null;function al(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var us=null,Ln=null,On=null;function ka(t){if(t=Wo(t)){if(typeof us!="function")throw Error(C(280));var e=t.stateNode;e&&(e=ii(e),us(t.stateNode,t.type,e))}}function ou(t){Ln?On?On.push(t):On=[t]:Ln=t}function ru(){if(Ln){var t=Ln,e=On;if(On=Ln=null,ka(t),e)for(t=0;t<e.length;t++)ka(e[t])}}function iu(t,e){return t(e)}function su(){}var Ci=!1;function lu(t,e,n){if(Ci)return t(e,n);Ci=!0;try{return iu(t,e,n)}finally{Ci=!1,(Ln!==null||On!==null)&&(su(),ru())}}function Co(t,e){var n=t.stateNode;if(n===null)return null;var o=ii(n);if(o===null)return null;n=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(C(231,e,typeof n));return n}var ds=!1;if(xt)try{var Xn={};Object.defineProperty(Xn,"passive",{get:function(){ds=!0}}),window.addEventListener("test",Xn,Xn),window.removeEventListener("test",Xn,Xn)}catch{ds=!1}function gp(t,e,n,o,r,i,s,l,a){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(p){this.onError(p)}}var ho=!1,Ir=null,_r=!1,hs=null,vp={onError:function(t){ho=!0,Ir=t}};function yp(t,e,n,o,r,i,s,l,a){ho=!1,Ir=null,gp.apply(vp,arguments)}function kp(t,e,n,o,r,i,s,l,a){if(yp.apply(this,arguments),ho){if(ho){var c=Ir;ho=!1,Ir=null}else throw Error(C(198));_r||(_r=!0,hs=c)}}function fn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function au(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wa(t){if(fn(t)!==t)throw Error(C(188))}function wp(t){var e=t.alternate;if(!e){if(e=fn(t),e===null)throw Error(C(188));return e!==t?null:t}for(var n=t,o=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(o=r.return,o!==null){n=o;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return wa(r),t;if(i===o)return wa(r),e;i=i.sibling}throw Error(C(188))}if(n.return!==o.return)n=r,o=i;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,o=i;break}if(l===o){s=!0,o=r,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,o=r;break}if(l===o){s=!0,o=i,n=r;break}l=l.sibling}if(!s)throw Error(C(189))}}if(n.alternate!==o)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?t:e}function cu(t){return t=wp(t),t!==null?uu(t):null}function uu(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=uu(t);if(e!==null)return e;t=t.sibling}return null}var du=He.unstable_scheduleCallback,xa=He.unstable_cancelCallback,xp=He.unstable_shouldYield,bp=He.unstable_requestPaint,ae=He.unstable_now,Sp=He.unstable_getCurrentPriorityLevel,cl=He.unstable_ImmediatePriority,hu=He.unstable_UserBlockingPriority,Mr=He.unstable_NormalPriority,Ep=He.unstable_LowPriority,pu=He.unstable_IdlePriority,ti=null,ht=null;function Cp(t){if(ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(ti,t,void 0,(t.current.flags&128)===128)}catch{}}var it=Math.clz32?Math.clz32:Np,Tp=Math.log,Bp=Math.LN2;function Np(t){return t>>>=0,t===0?32:31-(Tp(t)/Bp|0)|0}var er=64,tr=4194304;function so(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Lr(t,e){var n=t.pendingLanes;if(n===0)return 0;var o=0,r=t.suspendedLanes,i=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~r;l!==0?o=so(l):(i&=s,i!==0&&(o=so(i)))}else s=n&~r,s!==0?o=so(s):i!==0&&(o=so(i));if(o===0)return 0;if(e!==0&&e!==o&&!(e&r)&&(r=o&-o,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(o&4&&(o|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=o;0<e;)n=31-it(e),r=1<<n,o|=t[n],e&=~r;return o}function Ip(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _p(t,e){for(var n=t.suspendedLanes,o=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-it(i),l=1<<s,a=r[s];a===-1?(!(l&n)||l&o)&&(r[s]=Ip(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}}function ps(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fu(){var t=er;return er<<=1,!(er&4194240)&&(er=64),t}function Ti(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ho(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-it(e),t[e]=n}function Mp(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var o=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-it(n),i=1<<r;e[r]=0,o[r]=-1,t[r]=-1,n&=~i}}function ul(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var o=31-it(n),r=1<<o;r&e|t[o]&e&&(t[o]|=e),n&=~r}}var Y=0;function mu(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var gu,dl,vu,yu,ku,fs=!1,nr=[],jt=null,At=null,Pt=null,To=new Map,Bo=new Map,_t=[],Lp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ba(t,e){switch(t){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":To.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bo.delete(e.pointerId)}}function Gn(t,e,n,o,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:o,nativeEvent:i,targetContainers:[r]},e!==null&&(e=Wo(e),e!==null&&dl(e)),t):(t.eventSystemFlags|=o,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function Op(t,e,n,o,r){switch(e){case"focusin":return jt=Gn(jt,t,e,n,o,r),!0;case"dragenter":return At=Gn(At,t,e,n,o,r),!0;case"mouseover":return Pt=Gn(Pt,t,e,n,o,r),!0;case"pointerover":var i=r.pointerId;return To.set(i,Gn(To.get(i)||null,t,e,n,o,r)),!0;case"gotpointercapture":return i=r.pointerId,Bo.set(i,Gn(Bo.get(i)||null,t,e,n,o,r)),!0}return!1}function wu(t){var e=en(t.target);if(e!==null){var n=fn(e);if(n!==null){if(e=n.tag,e===13){if(e=au(n),e!==null){t.blockedOn=e,ku(t.priority,function(){vu(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gr(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ms(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var o=new n.constructor(n.type,n);cs=o,n.target.dispatchEvent(o),cs=null}else return e=Wo(n),e!==null&&dl(e),t.blockedOn=n,!1;e.shift()}return!0}function Sa(t,e,n){gr(t)&&n.delete(e)}function jp(){fs=!1,jt!==null&&gr(jt)&&(jt=null),At!==null&&gr(At)&&(At=null),Pt!==null&&gr(Pt)&&(Pt=null),To.forEach(Sa),Bo.forEach(Sa)}function Jn(t,e){t.blockedOn===e&&(t.blockedOn=null,fs||(fs=!0,He.unstable_scheduleCallback(He.unstable_NormalPriority,jp)))}function No(t){function e(r){return Jn(r,t)}if(0<nr.length){Jn(nr[0],t);for(var n=1;n<nr.length;n++){var o=nr[n];o.blockedOn===t&&(o.blockedOn=null)}}for(jt!==null&&Jn(jt,t),At!==null&&Jn(At,t),Pt!==null&&Jn(Pt,t),To.forEach(e),Bo.forEach(e),n=0;n<_t.length;n++)o=_t[n],o.blockedOn===t&&(o.blockedOn=null);for(;0<_t.length&&(n=_t[0],n.blockedOn===null);)wu(n),n.blockedOn===null&&_t.shift()}var jn=Tt.ReactCurrentBatchConfig,Or=!0;function Ap(t,e,n,o){var r=Y,i=jn.transition;jn.transition=null;try{Y=1,hl(t,e,n,o)}finally{Y=r,jn.transition=i}}function Pp(t,e,n,o){var r=Y,i=jn.transition;jn.transition=null;try{Y=4,hl(t,e,n,o)}finally{Y=r,jn.transition=i}}function hl(t,e,n,o){if(Or){var r=ms(t,e,n,o);if(r===null)Pi(t,e,o,jr,n),ba(t,o);else if(Op(r,t,e,n,o))o.stopPropagation();else if(ba(t,o),e&4&&-1<Lp.indexOf(t)){for(;r!==null;){var i=Wo(r);if(i!==null&&gu(i),i=ms(t,e,n,o),i===null&&Pi(t,e,o,jr,n),i===r)break;r=i}r!==null&&o.stopPropagation()}else Pi(t,e,o,null,n)}}var jr=null;function ms(t,e,n,o){if(jr=null,t=al(o),t=en(t),t!==null)if(e=fn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=au(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return jr=t,null}function xu(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sp()){case cl:return 1;case hu:return 4;case Mr:case Ep:return 16;case pu:return 536870912;default:return 16}default:return 16}}var Lt=null,pl=null,vr=null;function bu(){if(vr)return vr;var t,e=pl,n=e.length,o,r="value"in Lt?Lt.value:Lt.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var s=n-t;for(o=1;o<=s&&e[n-o]===r[i-o];o++);return vr=r.slice(t,1<o?1-o:void 0)}function yr(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function or(){return!0}function Ea(){return!1}function We(t){function e(n,o,r,i,s){this._reactName=n,this._targetInst=r,this.type=o,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?or:Ea,this.isPropagationStopped=Ea,this}return oe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),e}var Yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fl=We(Yn),qo=oe({},Yn,{view:0,detail:0}),Rp=We(qo),Bi,Ni,eo,ni=oe({},qo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ml,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==eo&&(eo&&t.type==="mousemove"?(Bi=t.screenX-eo.screenX,Ni=t.screenY-eo.screenY):Ni=Bi=0,eo=t),Bi)},movementY:function(t){return"movementY"in t?t.movementY:Ni}}),Ca=We(ni),Dp=oe({},ni,{dataTransfer:0}),Fp=We(Dp),zp=oe({},qo,{relatedTarget:0}),Ii=We(zp),$p=oe({},Yn,{animationName:0,elapsedTime:0,pseudoElement:0}),Up=We($p),Hp=oe({},Yn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qp=We(Hp),Wp=oe({},Yn,{data:0}),Ta=We(Wp),Vp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zp(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Kp[t])?!!e[t]:!1}function ml(){return Zp}var Qp=oe({},qo,{key:function(t){if(t.key){var e=Vp[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ml,charCode:function(t){return t.type==="keypress"?yr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Xp=We(Qp),Gp=oe({},ni,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ba=We(Gp),Jp=oe({},qo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ml}),ef=We(Jp),tf=oe({},Yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),nf=We(tf),of=oe({},ni,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rf=We(of),sf=[9,13,27,32],gl=xt&&"CompositionEvent"in window,po=null;xt&&"documentMode"in document&&(po=document.documentMode);var lf=xt&&"TextEvent"in window&&!po,Su=xt&&(!gl||po&&8<po&&11>=po),Na=" ",Ia=!1;function Eu(t,e){switch(t){case"keyup":return sf.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cu(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xn=!1;function af(t,e){switch(t){case"compositionend":return Cu(e);case"keypress":return e.which!==32?null:(Ia=!0,Na);case"textInput":return t=e.data,t===Na&&Ia?null:t;default:return null}}function cf(t,e){if(xn)return t==="compositionend"||!gl&&Eu(t,e)?(t=bu(),vr=pl=Lt=null,xn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Su&&e.locale!=="ko"?null:e.data;default:return null}}var uf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _a(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!uf[t.type]:e==="textarea"}function Tu(t,e,n,o){ou(o),e=Ar(e,"onChange"),0<e.length&&(n=new fl("onChange","change",null,n,o),t.push({event:n,listeners:e}))}var fo=null,Io=null;function df(t){Ru(t,0)}function oi(t){var e=En(t);if(Qc(e))return t}function hf(t,e){if(t==="change")return e}var Bu=!1;if(xt){var _i;if(xt){var Mi="oninput"in document;if(!Mi){var Ma=document.createElement("div");Ma.setAttribute("oninput","return;"),Mi=typeof Ma.oninput=="function"}_i=Mi}else _i=!1;Bu=_i&&(!document.documentMode||9<document.documentMode)}function La(){fo&&(fo.detachEvent("onpropertychange",Nu),Io=fo=null)}function Nu(t){if(t.propertyName==="value"&&oi(Io)){var e=[];Tu(e,Io,t,al(t)),lu(df,e)}}function pf(t,e,n){t==="focusin"?(La(),fo=e,Io=n,fo.attachEvent("onpropertychange",Nu)):t==="focusout"&&La()}function ff(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return oi(Io)}function mf(t,e){if(t==="click")return oi(e)}function gf(t,e){if(t==="input"||t==="change")return oi(e)}function vf(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var at=typeof Object.is=="function"?Object.is:vf;function _o(t,e){if(at(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var r=n[o];if(!Xi.call(e,r)||!at(t[r],e[r]))return!1}return!0}function Oa(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ja(t,e){var n=Oa(t);t=0;for(var o;n;){if(n.nodeType===3){if(o=t+n.textContent.length,t<=e&&o>=e)return{node:n,offset:e-t};t=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Oa(n)}}function Iu(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Iu(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _u(){for(var t=window,e=Nr();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Nr(t.document)}return e}function vl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function yf(t){var e=_u(),n=t.focusedElem,o=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Iu(n.ownerDocument.documentElement,n)){if(o!==null&&vl(n)){if(e=o.start,t=o.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,i=Math.min(o.start,r);o=o.end===void 0?i:Math.min(o.end,r),!t.extend&&i>o&&(r=o,o=i,i=r),r=ja(n,i);var s=ja(n,o);r&&s&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),i>o?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var kf=xt&&"documentMode"in document&&11>=document.documentMode,bn=null,gs=null,mo=null,vs=!1;function Aa(t,e,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vs||bn==null||bn!==Nr(o)||(o=bn,"selectionStart"in o&&vl(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),mo&&_o(mo,o)||(mo=o,o=Ar(gs,"onSelect"),0<o.length&&(e=new fl("onSelect","select",null,e,n),t.push({event:e,listeners:o}),e.target=bn)))}function rr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Sn={animationend:rr("Animation","AnimationEnd"),animationiteration:rr("Animation","AnimationIteration"),animationstart:rr("Animation","AnimationStart"),transitionend:rr("Transition","TransitionEnd")},Li={},Mu={};xt&&(Mu=document.createElement("div").style,"AnimationEvent"in window||(delete Sn.animationend.animation,delete Sn.animationiteration.animation,delete Sn.animationstart.animation),"TransitionEvent"in window||delete Sn.transitionend.transition);function ri(t){if(Li[t])return Li[t];if(!Sn[t])return t;var e=Sn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Mu)return Li[t]=e[n];return t}var Lu=ri("animationend"),Ou=ri("animationiteration"),ju=ri("animationstart"),Au=ri("transitionend"),Pu=new Map,Pa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wt(t,e){Pu.set(t,e),pn(e,[t])}for(var Oi=0;Oi<Pa.length;Oi++){var ji=Pa[Oi],wf=ji.toLowerCase(),xf=ji[0].toUpperCase()+ji.slice(1);Wt(wf,"on"+xf)}Wt(Lu,"onAnimationEnd");Wt(Ou,"onAnimationIteration");Wt(ju,"onAnimationStart");Wt("dblclick","onDoubleClick");Wt("focusin","onFocus");Wt("focusout","onBlur");Wt(Au,"onTransitionEnd");Rn("onMouseEnter",["mouseout","mouseover"]);Rn("onMouseLeave",["mouseout","mouseover"]);Rn("onPointerEnter",["pointerout","pointerover"]);Rn("onPointerLeave",["pointerout","pointerover"]);pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pn("onBeforeInput",["compositionend","keypress","textInput","paste"]);pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lo));function Ra(t,e,n){var o=t.type||"unknown-event";t.currentTarget=n,kp(o,e,void 0,t),t.currentTarget=null}function Ru(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var o=t[n],r=o.event;o=o.listeners;e:{var i=void 0;if(e)for(var s=o.length-1;0<=s;s--){var l=o[s],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==i&&r.isPropagationStopped())break e;Ra(r,l,c),i=a}else for(s=0;s<o.length;s++){if(l=o[s],a=l.instance,c=l.currentTarget,l=l.listener,a!==i&&r.isPropagationStopped())break e;Ra(r,l,c),i=a}}}if(_r)throw t=hs,_r=!1,hs=null,t}function Z(t,e){var n=e[bs];n===void 0&&(n=e[bs]=new Set);var o=t+"__bubble";n.has(o)||(Du(e,t,2,!1),n.add(o))}function Ai(t,e,n){var o=0;e&&(o|=4),Du(n,t,o,e)}var ir="_reactListening"+Math.random().toString(36).slice(2);function Mo(t){if(!t[ir]){t[ir]=!0,Wc.forEach(function(n){n!=="selectionchange"&&(bf.has(n)||Ai(n,!1,t),Ai(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ir]||(e[ir]=!0,Ai("selectionchange",!1,e))}}function Du(t,e,n,o){switch(xu(e)){case 1:var r=Ap;break;case 4:r=Pp;break;default:r=hl}n=r.bind(null,e,n,t),r=void 0,!ds||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),o?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Pi(t,e,n,o,r){var i=o;if(!(e&1)&&!(e&2)&&o!==null)e:for(;;){if(o===null)return;var s=o.tag;if(s===3||s===4){var l=o.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(s===4)for(s=o.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===r||a.nodeType===8&&a.parentNode===r))return;s=s.return}for(;l!==null;){if(s=en(l),s===null)return;if(a=s.tag,a===5||a===6){o=i=s;continue e}l=l.parentNode}}o=o.return}lu(function(){var c=i,p=al(n),d=[];e:{var f=Pu.get(t);if(f!==void 0){var y=fl,v=t;switch(t){case"keypress":if(yr(n)===0)break e;case"keydown":case"keyup":y=Xp;break;case"focusin":v="focus",y=Ii;break;case"focusout":v="blur",y=Ii;break;case"beforeblur":case"afterblur":y=Ii;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Ca;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Fp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=ef;break;case Lu:case Ou:case ju:y=Up;break;case Au:y=nf;break;case"scroll":y=Rp;break;case"wheel":y=rf;break;case"copy":case"cut":case"paste":y=qp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Ba}var x=(e&4)!==0,L=!x&&t==="scroll",m=x?f!==null?f+"Capture":null:f;x=[];for(var h=c,g;h!==null;){g=h;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,m!==null&&(w=Co(h,m),w!=null&&x.push(Lo(h,w,g)))),L)break;h=h.return}0<x.length&&(f=new y(f,v,null,n,p),d.push({event:f,listeners:x}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",f&&n!==cs&&(v=n.relatedTarget||n.fromElement)&&(en(v)||v[bt]))break e;if((y||f)&&(f=p.window===p?p:(f=p.ownerDocument)?f.defaultView||f.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=c,v=v?en(v):null,v!==null&&(L=fn(v),v!==L||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=c),y!==v)){if(x=Ca,w="onMouseLeave",m="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(x=Ba,w="onPointerLeave",m="onPointerEnter",h="pointer"),L=y==null?f:En(y),g=v==null?f:En(v),f=new x(w,h+"leave",y,n,p),f.target=L,f.relatedTarget=g,w=null,en(p)===c&&(x=new x(m,h+"enter",v,n,p),x.target=g,x.relatedTarget=L,w=x),L=w,y&&v)t:{for(x=y,m=v,h=0,g=x;g;g=mn(g))h++;for(g=0,w=m;w;w=mn(w))g++;for(;0<h-g;)x=mn(x),h--;for(;0<g-h;)m=mn(m),g--;for(;h--;){if(x===m||m!==null&&x===m.alternate)break t;x=mn(x),m=mn(m)}x=null}else x=null;y!==null&&Da(d,f,y,x,!1),v!==null&&L!==null&&Da(d,L,v,x,!0)}}e:{if(f=c?En(c):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var S=hf;else if(_a(f))if(Bu)S=gf;else{S=ff;var N=pf}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=mf);if(S&&(S=S(t,c))){Tu(d,S,n,p);break e}N&&N(t,f,c),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&rs(f,"number",f.value)}switch(N=c?En(c):window,t){case"focusin":(_a(N)||N.contentEditable==="true")&&(bn=N,gs=c,mo=null);break;case"focusout":mo=gs=bn=null;break;case"mousedown":vs=!0;break;case"contextmenu":case"mouseup":case"dragend":vs=!1,Aa(d,n,p);break;case"selectionchange":if(kf)break;case"keydown":case"keyup":Aa(d,n,p)}var I;if(gl)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else xn?Eu(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(Su&&n.locale!=="ko"&&(xn||b!=="onCompositionStart"?b==="onCompositionEnd"&&xn&&(I=bu()):(Lt=p,pl="value"in Lt?Lt.value:Lt.textContent,xn=!0)),N=Ar(c,b),0<N.length&&(b=new Ta(b,t,null,n,p),d.push({event:b,listeners:N}),I?b.data=I:(I=Cu(n),I!==null&&(b.data=I)))),(I=lf?af(t,n):cf(t,n))&&(c=Ar(c,"onBeforeInput"),0<c.length&&(p=new Ta("onBeforeInput","beforeinput",null,n,p),d.push({event:p,listeners:c}),p.data=I))}Ru(d,e)})}function Lo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ar(t,e){for(var n=e+"Capture",o=[];t!==null;){var r=t,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=Co(t,n),i!=null&&o.unshift(Lo(t,i,r)),i=Co(t,e),i!=null&&o.push(Lo(t,i,r))),t=t.return}return o}function mn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Da(t,e,n,o,r){for(var i=e._reactName,s=[];n!==null&&n!==o;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===o)break;l.tag===5&&c!==null&&(l=c,r?(a=Co(n,i),a!=null&&s.unshift(Lo(n,a,l))):r||(a=Co(n,i),a!=null&&s.push(Lo(n,a,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var Sf=/\r\n?/g,Ef=/\u0000|\uFFFD/g;function Fa(t){return(typeof t=="string"?t:""+t).replace(Sf,`
`).replace(Ef,"")}function sr(t,e,n){if(e=Fa(e),Fa(t)!==e&&n)throw Error(C(425))}function Pr(){}var ys=null,ks=null;function ws(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xs=typeof setTimeout=="function"?setTimeout:void 0,Cf=typeof clearTimeout=="function"?clearTimeout:void 0,za=typeof Promise=="function"?Promise:void 0,Tf=typeof queueMicrotask=="function"?queueMicrotask:typeof za<"u"?function(t){return za.resolve(null).then(t).catch(Bf)}:xs;function Bf(t){setTimeout(function(){throw t})}function Ri(t,e){var n=e,o=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(o===0){t.removeChild(r),No(e);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=r}while(n);No(e)}function Rt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function $a(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Kn=Math.random().toString(36).slice(2),dt="__reactFiber$"+Kn,Oo="__reactProps$"+Kn,bt="__reactContainer$"+Kn,bs="__reactEvents$"+Kn,Nf="__reactListeners$"+Kn,If="__reactHandles$"+Kn;function en(t){var e=t[dt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[bt]||n[dt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=$a(t);t!==null;){if(n=t[dt])return n;t=$a(t)}return e}t=n,n=t.parentNode}return null}function Wo(t){return t=t[dt]||t[bt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function En(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(C(33))}function ii(t){return t[Oo]||null}var Ss=[],Cn=-1;function Vt(t){return{current:t}}function X(t){0>Cn||(t.current=Ss[Cn],Ss[Cn]=null,Cn--)}function K(t,e){Cn++,Ss[Cn]=t.current,t.current=e}var Ht={},Te=Vt(Ht),Ae=Vt(!1),ln=Ht;function Dn(t,e){var n=t.type.contextTypes;if(!n)return Ht;var o=t.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=e[i];return o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Pe(t){return t=t.childContextTypes,t!=null}function Rr(){X(Ae),X(Te)}function Ua(t,e,n){if(Te.current!==Ht)throw Error(C(168));K(Te,e),K(Ae,n)}function Fu(t,e,n){var o=t.stateNode;if(e=e.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var r in o)if(!(r in e))throw Error(C(108,hp(t)||"Unknown",r));return oe({},n,o)}function Dr(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ht,ln=Te.current,K(Te,t),K(Ae,Ae.current),!0}function Ha(t,e,n){var o=t.stateNode;if(!o)throw Error(C(169));n?(t=Fu(t,e,ln),o.__reactInternalMemoizedMergedChildContext=t,X(Ae),X(Te),K(Te,t)):X(Ae),K(Ae,n)}var mt=null,si=!1,Di=!1;function zu(t){mt===null?mt=[t]:mt.push(t)}function _f(t){si=!0,zu(t)}function Yt(){if(!Di&&mt!==null){Di=!0;var t=0,e=Y;try{var n=mt;for(Y=1;t<n.length;t++){var o=n[t];do o=o(!0);while(o!==null)}mt=null,si=!1}catch(r){throw mt!==null&&(mt=mt.slice(t+1)),du(cl,Yt),r}finally{Y=e,Di=!1}}return null}var Tn=[],Bn=0,Fr=null,zr=0,Ve=[],Ye=0,an=null,vt=1,yt="";function Xt(t,e){Tn[Bn++]=zr,Tn[Bn++]=Fr,Fr=t,zr=e}function $u(t,e,n){Ve[Ye++]=vt,Ve[Ye++]=yt,Ve[Ye++]=an,an=t;var o=vt;t=yt;var r=32-it(o)-1;o&=~(1<<r),n+=1;var i=32-it(e)+r;if(30<i){var s=r-r%5;i=(o&(1<<s)-1).toString(32),o>>=s,r-=s,vt=1<<32-it(e)+r|n<<r|o,yt=i+t}else vt=1<<i|n<<r|o,yt=t}function yl(t){t.return!==null&&(Xt(t,1),$u(t,1,0))}function kl(t){for(;t===Fr;)Fr=Tn[--Bn],Tn[Bn]=null,zr=Tn[--Bn],Tn[Bn]=null;for(;t===an;)an=Ve[--Ye],Ve[Ye]=null,yt=Ve[--Ye],Ve[Ye]=null,vt=Ve[--Ye],Ve[Ye]=null}var Ue=null,$e=null,G=!1,nt=null;function Uu(t,e){var n=Ke(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function qa(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ue=t,$e=Rt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ue=t,$e=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=an!==null?{id:vt,overflow:yt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ke(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ue=t,$e=null,!0):!1;default:return!1}}function Es(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Cs(t){if(G){var e=$e;if(e){var n=e;if(!qa(t,e)){if(Es(t))throw Error(C(418));e=Rt(n.nextSibling);var o=Ue;e&&qa(t,e)?Uu(o,n):(t.flags=t.flags&-4097|2,G=!1,Ue=t)}}else{if(Es(t))throw Error(C(418));t.flags=t.flags&-4097|2,G=!1,Ue=t}}}function Wa(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ue=t}function lr(t){if(t!==Ue)return!1;if(!G)return Wa(t),G=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ws(t.type,t.memoizedProps)),e&&(e=$e)){if(Es(t))throw Hu(),Error(C(418));for(;e;)Uu(t,e),e=Rt(e.nextSibling)}if(Wa(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(C(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){$e=Rt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}$e=null}}else $e=Ue?Rt(t.stateNode.nextSibling):null;return!0}function Hu(){for(var t=$e;t;)t=Rt(t.nextSibling)}function Fn(){$e=Ue=null,G=!1}function wl(t){nt===null?nt=[t]:nt.push(t)}var Mf=Tt.ReactCurrentBatchConfig;function et(t,e){if(t&&t.defaultProps){e=oe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var $r=Vt(null),Ur=null,Nn=null,xl=null;function bl(){xl=Nn=Ur=null}function Sl(t){var e=$r.current;X($r),t._currentValue=e}function Ts(t,e,n){for(;t!==null;){var o=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),t===n)break;t=t.return}}function An(t,e){Ur=t,xl=Nn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Oe=!0),t.firstContext=null)}function Qe(t){var e=t._currentValue;if(xl!==t)if(t={context:t,memoizedValue:e,next:null},Nn===null){if(Ur===null)throw Error(C(308));Nn=t,Ur.dependencies={lanes:0,firstContext:t}}else Nn=Nn.next=t;return e}var tn=null;function El(t){tn===null?tn=[t]:tn.push(t)}function qu(t,e,n,o){var r=e.interleaved;return r===null?(n.next=n,El(e)):(n.next=r.next,r.next=n),e.interleaved=n,St(t,o)}function St(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var It=!1;function Cl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wu(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Dt(t,e,n){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,q&2){var r=o.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),o.pending=e,St(t,n)}return r=o.interleaved,r===null?(e.next=e,El(o)):(e.next=r.next,r.next=e),o.interleaved=e,St(t,n)}function kr(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var o=e.lanes;o&=t.pendingLanes,n|=o,e.lanes=n,ul(t,n)}}function Va(t,e){var n=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:o.shared,effects:o.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hr(t,e,n,o){var r=t.updateQueue;It=!1;var i=r.firstBaseUpdate,s=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var a=l,c=a.next;a.next=null,s===null?i=c:s.next=c,s=a;var p=t.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==s&&(l===null?p.firstBaseUpdate=c:l.next=c,p.lastBaseUpdate=a))}if(i!==null){var d=r.baseState;s=0,p=c=a=null,l=i;do{var f=l.lane,y=l.eventTime;if((o&f)===f){p!==null&&(p=p.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,x=l;switch(f=e,y=n,x.tag){case 1:if(v=x.payload,typeof v=="function"){d=v.call(y,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,f=typeof v=="function"?v.call(y,d,f):v,f==null)break e;d=oe({},d,f);break e;case 2:It=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=r.effects,f===null?r.effects=[l]:f.push(l))}else y={eventTime:y,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(c=p=y,a=d):p=p.next=y,s|=f;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;f=l,l=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(p===null&&(a=d),r.baseState=a,r.firstBaseUpdate=c,r.lastBaseUpdate=p,e=r.shared.interleaved,e!==null){r=e;do s|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);un|=s,t.lanes=s,t.memoizedState=d}}function Ya(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var o=t[e],r=o.callback;if(r!==null){if(o.callback=null,o=n,typeof r!="function")throw Error(C(191,r));r.call(o)}}}var Vu=new qc.Component().refs;function Bs(t,e,n,o){e=t.memoizedState,n=n(o,e),n=n==null?e:oe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var li={isMounted:function(t){return(t=t._reactInternals)?fn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var o=Ne(),r=zt(t),i=wt(o,r);i.payload=e,n!=null&&(i.callback=n),e=Dt(t,i,r),e!==null&&(st(e,t,r,o),kr(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var o=Ne(),r=zt(t),i=wt(o,r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Dt(t,i,r),e!==null&&(st(e,t,r,o),kr(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ne(),o=zt(t),r=wt(n,o);r.tag=2,e!=null&&(r.callback=e),e=Dt(t,r,o),e!==null&&(st(e,t,o,n),kr(e,t,o))}};function Ka(t,e,n,o,r,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,i,s):e.prototype&&e.prototype.isPureReactComponent?!_o(n,o)||!_o(r,i):!0}function Yu(t,e,n){var o=!1,r=Ht,i=e.contextType;return typeof i=="object"&&i!==null?i=Qe(i):(r=Pe(e)?ln:Te.current,o=e.contextTypes,i=(o=o!=null)?Dn(t,r):Ht),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=li,t.stateNode=e,e._reactInternals=t,o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),e}function Za(t,e,n,o){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,o),e.state!==t&&li.enqueueReplaceState(e,e.state,null)}function Ns(t,e,n,o){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=Vu,Cl(t);var i=e.contextType;typeof i=="object"&&i!==null?r.context=Qe(i):(i=Pe(e)?ln:Te.current,r.context=Dn(t,i)),r.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Bs(t,e,i,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&li.enqueueReplaceState(r,r.state,null),Hr(t,n,r,o),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function to(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var o=n.stateNode}if(!o)throw Error(C(147,t));var r=o,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var l=r.refs;l===Vu&&(l=r.refs={}),s===null?delete l[i]:l[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,t))}return t}function ar(t,e){throw t=Object.prototype.toString.call(e),Error(C(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Qa(t){var e=t._init;return e(t._payload)}function Ku(t){function e(m,h){if(t){var g=m.deletions;g===null?(m.deletions=[h],m.flags|=16):g.push(h)}}function n(m,h){if(!t)return null;for(;h!==null;)e(m,h),h=h.sibling;return null}function o(m,h){for(m=new Map;h!==null;)h.key!==null?m.set(h.key,h):m.set(h.index,h),h=h.sibling;return m}function r(m,h){return m=$t(m,h),m.index=0,m.sibling=null,m}function i(m,h,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<h?(m.flags|=2,h):g):(m.flags|=2,h)):(m.flags|=1048576,h)}function s(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,h,g,w){return h===null||h.tag!==6?(h=Wi(g,m.mode,w),h.return=m,h):(h=r(h,g),h.return=m,h)}function a(m,h,g,w){var S=g.type;return S===wn?p(m,h,g.props.children,w,g.key):h!==null&&(h.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Nt&&Qa(S)===h.type)?(w=r(h,g.props),w.ref=to(m,h,g),w.return=m,w):(w=Cr(g.type,g.key,g.props,null,m.mode,w),w.ref=to(m,h,g),w.return=m,w)}function c(m,h,g,w){return h===null||h.tag!==4||h.stateNode.containerInfo!==g.containerInfo||h.stateNode.implementation!==g.implementation?(h=Vi(g,m.mode,w),h.return=m,h):(h=r(h,g.children||[]),h.return=m,h)}function p(m,h,g,w,S){return h===null||h.tag!==7?(h=rn(g,m.mode,w,S),h.return=m,h):(h=r(h,g),h.return=m,h)}function d(m,h,g){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Wi(""+h,m.mode,g),h.return=m,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Xo:return g=Cr(h.type,h.key,h.props,null,m.mode,g),g.ref=to(m,null,h),g.return=m,g;case kn:return h=Vi(h,m.mode,g),h.return=m,h;case Nt:var w=h._init;return d(m,w(h._payload),g)}if(io(h)||Qn(h))return h=rn(h,m.mode,g,null),h.return=m,h;ar(m,h)}return null}function f(m,h,g,w){var S=h!==null?h.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return S!==null?null:l(m,h,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Xo:return g.key===S?a(m,h,g,w):null;case kn:return g.key===S?c(m,h,g,w):null;case Nt:return S=g._init,f(m,h,S(g._payload),w)}if(io(g)||Qn(g))return S!==null?null:p(m,h,g,w,null);ar(m,g)}return null}function y(m,h,g,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(g)||null,l(h,m,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Xo:return m=m.get(w.key===null?g:w.key)||null,a(h,m,w,S);case kn:return m=m.get(w.key===null?g:w.key)||null,c(h,m,w,S);case Nt:var N=w._init;return y(m,h,g,N(w._payload),S)}if(io(w)||Qn(w))return m=m.get(g)||null,p(h,m,w,S,null);ar(h,w)}return null}function v(m,h,g,w){for(var S=null,N=null,I=h,b=h=0,B=null;I!==null&&b<g.length;b++){I.index>b?(B=I,I=null):B=I.sibling;var T=f(m,I,g[b],w);if(T===null){I===null&&(I=B);break}t&&I&&T.alternate===null&&e(m,I),h=i(T,h,b),N===null?S=T:N.sibling=T,N=T,I=B}if(b===g.length)return n(m,I),G&&Xt(m,b),S;if(I===null){for(;b<g.length;b++)I=d(m,g[b],w),I!==null&&(h=i(I,h,b),N===null?S=I:N.sibling=I,N=I);return G&&Xt(m,b),S}for(I=o(m,I);b<g.length;b++)B=y(I,m,b,g[b],w),B!==null&&(t&&B.alternate!==null&&I.delete(B.key===null?b:B.key),h=i(B,h,b),N===null?S=B:N.sibling=B,N=B);return t&&I.forEach(function(j){return e(m,j)}),G&&Xt(m,b),S}function x(m,h,g,w){var S=Qn(g);if(typeof S!="function")throw Error(C(150));if(g=S.call(g),g==null)throw Error(C(151));for(var N=S=null,I=h,b=h=0,B=null,T=g.next();I!==null&&!T.done;b++,T=g.next()){I.index>b?(B=I,I=null):B=I.sibling;var j=f(m,I,T.value,w);if(j===null){I===null&&(I=B);break}t&&I&&j.alternate===null&&e(m,I),h=i(j,h,b),N===null?S=j:N.sibling=j,N=j,I=B}if(T.done)return n(m,I),G&&Xt(m,b),S;if(I===null){for(;!T.done;b++,T=g.next())T=d(m,T.value,w),T!==null&&(h=i(T,h,b),N===null?S=T:N.sibling=T,N=T);return G&&Xt(m,b),S}for(I=o(m,I);!T.done;b++,T=g.next())T=y(I,m,b,T.value,w),T!==null&&(t&&T.alternate!==null&&I.delete(T.key===null?b:T.key),h=i(T,h,b),N===null?S=T:N.sibling=T,N=T);return t&&I.forEach(function(P){return e(m,P)}),G&&Xt(m,b),S}function L(m,h,g,w){if(typeof g=="object"&&g!==null&&g.type===wn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Xo:e:{for(var S=g.key,N=h;N!==null;){if(N.key===S){if(S=g.type,S===wn){if(N.tag===7){n(m,N.sibling),h=r(N,g.props.children),h.return=m,m=h;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Nt&&Qa(S)===N.type){n(m,N.sibling),h=r(N,g.props),h.ref=to(m,N,g),h.return=m,m=h;break e}n(m,N);break}else e(m,N);N=N.sibling}g.type===wn?(h=rn(g.props.children,m.mode,w,g.key),h.return=m,m=h):(w=Cr(g.type,g.key,g.props,null,m.mode,w),w.ref=to(m,h,g),w.return=m,m=w)}return s(m);case kn:e:{for(N=g.key;h!==null;){if(h.key===N)if(h.tag===4&&h.stateNode.containerInfo===g.containerInfo&&h.stateNode.implementation===g.implementation){n(m,h.sibling),h=r(h,g.children||[]),h.return=m,m=h;break e}else{n(m,h);break}else e(m,h);h=h.sibling}h=Vi(g,m.mode,w),h.return=m,m=h}return s(m);case Nt:return N=g._init,L(m,h,N(g._payload),w)}if(io(g))return v(m,h,g,w);if(Qn(g))return x(m,h,g,w);ar(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,h!==null&&h.tag===6?(n(m,h.sibling),h=r(h,g),h.return=m,m=h):(n(m,h),h=Wi(g,m.mode,w),h.return=m,m=h),s(m)):n(m,h)}return L}var zn=Ku(!0),Zu=Ku(!1),Vo={},pt=Vt(Vo),jo=Vt(Vo),Ao=Vt(Vo);function nn(t){if(t===Vo)throw Error(C(174));return t}function Tl(t,e){switch(K(Ao,e),K(jo,t),K(pt,Vo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ss(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ss(e,t)}X(pt),K(pt,e)}function $n(){X(pt),X(jo),X(Ao)}function Qu(t){nn(Ao.current);var e=nn(pt.current),n=ss(e,t.type);e!==n&&(K(jo,t),K(pt,n))}function Bl(t){jo.current===t&&(X(pt),X(jo))}var ee=Vt(0);function qr(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Fi=[];function Nl(){for(var t=0;t<Fi.length;t++)Fi[t]._workInProgressVersionPrimary=null;Fi.length=0}var wr=Tt.ReactCurrentDispatcher,zi=Tt.ReactCurrentBatchConfig,cn=0,ne=null,de=null,pe=null,Wr=!1,go=!1,Po=0,Lf=0;function be(){throw Error(C(321))}function Il(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!at(t[n],e[n]))return!1;return!0}function _l(t,e,n,o,r,i){if(cn=i,ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wr.current=t===null||t.memoizedState===null?Pf:Rf,t=n(o,r),go){i=0;do{if(go=!1,Po=0,25<=i)throw Error(C(301));i+=1,pe=de=null,e.updateQueue=null,wr.current=Df,t=n(o,r)}while(go)}if(wr.current=Vr,e=de!==null&&de.next!==null,cn=0,pe=de=ne=null,Wr=!1,e)throw Error(C(300));return t}function Ml(){var t=Po!==0;return Po=0,t}function ut(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?ne.memoizedState=pe=t:pe=pe.next=t,pe}function Xe(){if(de===null){var t=ne.alternate;t=t!==null?t.memoizedState:null}else t=de.next;var e=pe===null?ne.memoizedState:pe.next;if(e!==null)pe=e,de=t;else{if(t===null)throw Error(C(310));de=t,t={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},pe===null?ne.memoizedState=pe=t:pe=pe.next=t}return pe}function Ro(t,e){return typeof e=="function"?e(t):e}function $i(t){var e=Xe(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var o=de,r=o.baseQueue,i=n.pending;if(i!==null){if(r!==null){var s=r.next;r.next=i.next,i.next=s}o.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,o=o.baseState;var l=s=null,a=null,c=i;do{var p=c.lane;if((cn&p)===p)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),o=c.hasEagerState?c.eagerState:t(o,c.action);else{var d={lane:p,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=d,s=o):a=a.next=d,ne.lanes|=p,un|=p}c=c.next}while(c!==null&&c!==i);a===null?s=o:a.next=l,at(o,e.memoizedState)||(Oe=!0),e.memoizedState=o,e.baseState=s,e.baseQueue=a,n.lastRenderedState=o}if(t=n.interleaved,t!==null){r=t;do i=r.lane,ne.lanes|=i,un|=i,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ui(t){var e=Xe(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var o=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var s=r=r.next;do i=t(i,s.action),s=s.next;while(s!==r);at(i,e.memoizedState)||(Oe=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,o]}function Xu(){}function Gu(t,e){var n=ne,o=Xe(),r=e(),i=!at(o.memoizedState,r);if(i&&(o.memoizedState=r,Oe=!0),o=o.queue,Ll(td.bind(null,n,o,t),[t]),o.getSnapshot!==e||i||pe!==null&&pe.memoizedState.tag&1){if(n.flags|=2048,Do(9,ed.bind(null,n,o,r,e),void 0,null),fe===null)throw Error(C(349));cn&30||Ju(n,e,r)}return r}function Ju(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ne.updateQueue,e===null?(e={lastEffect:null,stores:null},ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ed(t,e,n,o){e.value=n,e.getSnapshot=o,nd(e)&&od(t)}function td(t,e,n){return n(function(){nd(e)&&od(t)})}function nd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!at(t,n)}catch{return!0}}function od(t){var e=St(t,1);e!==null&&st(e,t,1,-1)}function Xa(t){var e=ut();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:t},e.queue=t,t=t.dispatch=Af.bind(null,ne,t),[e.memoizedState,t]}function Do(t,e,n,o){return t={tag:t,create:e,destroy:n,deps:o,next:null},e=ne.updateQueue,e===null?(e={lastEffect:null,stores:null},ne.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(o=n.next,n.next=t,t.next=o,e.lastEffect=t)),t}function rd(){return Xe().memoizedState}function xr(t,e,n,o){var r=ut();ne.flags|=t,r.memoizedState=Do(1|e,n,void 0,o===void 0?null:o)}function ai(t,e,n,o){var r=Xe();o=o===void 0?null:o;var i=void 0;if(de!==null){var s=de.memoizedState;if(i=s.destroy,o!==null&&Il(o,s.deps)){r.memoizedState=Do(e,n,i,o);return}}ne.flags|=t,r.memoizedState=Do(1|e,n,i,o)}function Ga(t,e){return xr(8390656,8,t,e)}function Ll(t,e){return ai(2048,8,t,e)}function id(t,e){return ai(4,2,t,e)}function sd(t,e){return ai(4,4,t,e)}function ld(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ad(t,e,n){return n=n!=null?n.concat([t]):null,ai(4,4,ld.bind(null,e,t),n)}function Ol(){}function cd(t,e){var n=Xe();e=e===void 0?null:e;var o=n.memoizedState;return o!==null&&e!==null&&Il(e,o[1])?o[0]:(n.memoizedState=[t,e],t)}function ud(t,e){var n=Xe();e=e===void 0?null:e;var o=n.memoizedState;return o!==null&&e!==null&&Il(e,o[1])?o[0]:(t=t(),n.memoizedState=[t,e],t)}function dd(t,e,n){return cn&21?(at(n,e)||(n=fu(),ne.lanes|=n,un|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Oe=!0),t.memoizedState=n)}function Of(t,e){var n=Y;Y=n!==0&&4>n?n:4,t(!0);var o=zi.transition;zi.transition={};try{t(!1),e()}finally{Y=n,zi.transition=o}}function hd(){return Xe().memoizedState}function jf(t,e,n){var o=zt(t);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},pd(t))fd(e,n);else if(n=qu(t,e,n,o),n!==null){var r=Ne();st(n,t,o,r),md(n,e,o)}}function Af(t,e,n){var o=zt(t),r={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(pd(t))fd(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,l=i(s,n);if(r.hasEagerState=!0,r.eagerState=l,at(l,s)){var a=e.interleaved;a===null?(r.next=r,El(e)):(r.next=a.next,a.next=r),e.interleaved=r;return}}catch{}finally{}n=qu(t,e,r,o),n!==null&&(r=Ne(),st(n,t,o,r),md(n,e,o))}}function pd(t){var e=t.alternate;return t===ne||e!==null&&e===ne}function fd(t,e){go=Wr=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function md(t,e,n){if(n&4194240){var o=e.lanes;o&=t.pendingLanes,n|=o,e.lanes=n,ul(t,n)}}var Vr={readContext:Qe,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useInsertionEffect:be,useLayoutEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useMutableSource:be,useSyncExternalStore:be,useId:be,unstable_isNewReconciler:!1},Pf={readContext:Qe,useCallback:function(t,e){return ut().memoizedState=[t,e===void 0?null:e],t},useContext:Qe,useEffect:Ga,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,xr(4194308,4,ld.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xr(4194308,4,t,e)},useInsertionEffect:function(t,e){return xr(4,2,t,e)},useMemo:function(t,e){var n=ut();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var o=ut();return e=n!==void 0?n(e):e,o.memoizedState=o.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},o.queue=t,t=t.dispatch=jf.bind(null,ne,t),[o.memoizedState,t]},useRef:function(t){var e=ut();return t={current:t},e.memoizedState=t},useState:Xa,useDebugValue:Ol,useDeferredValue:function(t){return ut().memoizedState=t},useTransition:function(){var t=Xa(!1),e=t[0];return t=Of.bind(null,t[1]),ut().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var o=ne,r=ut();if(G){if(n===void 0)throw Error(C(407));n=n()}else{if(n=e(),fe===null)throw Error(C(349));cn&30||Ju(o,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,Ga(td.bind(null,o,i,t),[t]),o.flags|=2048,Do(9,ed.bind(null,o,i,n,e),void 0,null),n},useId:function(){var t=ut(),e=fe.identifierPrefix;if(G){var n=yt,o=vt;n=(o&~(1<<32-it(o)-1)).toString(32)+n,e=":"+e+"R"+n,n=Po++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Lf++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Rf={readContext:Qe,useCallback:cd,useContext:Qe,useEffect:Ll,useImperativeHandle:ad,useInsertionEffect:id,useLayoutEffect:sd,useMemo:ud,useReducer:$i,useRef:rd,useState:function(){return $i(Ro)},useDebugValue:Ol,useDeferredValue:function(t){var e=Xe();return dd(e,de.memoizedState,t)},useTransition:function(){var t=$i(Ro)[0],e=Xe().memoizedState;return[t,e]},useMutableSource:Xu,useSyncExternalStore:Gu,useId:hd,unstable_isNewReconciler:!1},Df={readContext:Qe,useCallback:cd,useContext:Qe,useEffect:Ll,useImperativeHandle:ad,useInsertionEffect:id,useLayoutEffect:sd,useMemo:ud,useReducer:Ui,useRef:rd,useState:function(){return Ui(Ro)},useDebugValue:Ol,useDeferredValue:function(t){var e=Xe();return de===null?e.memoizedState=t:dd(e,de.memoizedState,t)},useTransition:function(){var t=Ui(Ro)[0],e=Xe().memoizedState;return[t,e]},useMutableSource:Xu,useSyncExternalStore:Gu,useId:hd,unstable_isNewReconciler:!1};function Un(t,e){try{var n="",o=e;do n+=dp(o),o=o.return;while(o);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:r,digest:null}}function Hi(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Is(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ff=typeof WeakMap=="function"?WeakMap:Map;function gd(t,e,n){n=wt(-1,n),n.tag=3,n.payload={element:null};var o=e.value;return n.callback=function(){Kr||(Kr=!0,Fs=o),Is(t,e)},n}function vd(t,e,n){n=wt(-1,n),n.tag=3;var o=t.type.getDerivedStateFromError;if(typeof o=="function"){var r=e.value;n.payload=function(){return o(r)},n.callback=function(){Is(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Is(t,e),typeof o!="function"&&(Ft===null?Ft=new Set([this]):Ft.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Ja(t,e,n){var o=t.pingCache;if(o===null){o=t.pingCache=new Ff;var r=new Set;o.set(e,r)}else r=o.get(e),r===void 0&&(r=new Set,o.set(e,r));r.has(n)||(r.add(n),t=Jf.bind(null,t,e,n),e.then(t,t))}function ec(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function tc(t,e,n,o,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=wt(-1,1),e.tag=2,Dt(n,e,1))),n.lanes|=1),t)}var zf=Tt.ReactCurrentOwner,Oe=!1;function Be(t,e,n,o){e.child=t===null?Zu(e,null,n,o):zn(e,t.child,n,o)}function nc(t,e,n,o,r){n=n.render;var i=e.ref;return An(e,r),o=_l(t,e,n,o,i,r),n=Ml(),t!==null&&!Oe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Et(t,e,r)):(G&&n&&yl(e),e.flags|=1,Be(t,e,o,r),e.child)}function oc(t,e,n,o,r){if(t===null){var i=n.type;return typeof i=="function"&&!$l(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,yd(t,e,i,o,r)):(t=Cr(n.type,null,o,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&r)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:_o,n(s,o)&&t.ref===e.ref)return Et(t,e,r)}return e.flags|=1,t=$t(i,o),t.ref=e.ref,t.return=e,e.child=t}function yd(t,e,n,o,r){if(t!==null){var i=t.memoizedProps;if(_o(i,o)&&t.ref===e.ref)if(Oe=!1,e.pendingProps=o=i,(t.lanes&r)!==0)t.flags&131072&&(Oe=!0);else return e.lanes=t.lanes,Et(t,e,r)}return _s(t,e,n,o,r)}function kd(t,e,n){var o=e.pendingProps,r=o.children,i=t!==null?t.memoizedState:null;if(o.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(_n,ze),ze|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,K(_n,ze),ze|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=i!==null?i.baseLanes:n,K(_n,ze),ze|=o}else i!==null?(o=i.baseLanes|n,e.memoizedState=null):o=n,K(_n,ze),ze|=o;return Be(t,e,r,n),e.child}function wd(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function _s(t,e,n,o,r){var i=Pe(n)?ln:Te.current;return i=Dn(e,i),An(e,r),n=_l(t,e,n,o,i,r),o=Ml(),t!==null&&!Oe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Et(t,e,r)):(G&&o&&yl(e),e.flags|=1,Be(t,e,n,r),e.child)}function rc(t,e,n,o,r){if(Pe(n)){var i=!0;Dr(e)}else i=!1;if(An(e,r),e.stateNode===null)br(t,e),Yu(e,n,o),Ns(e,n,o,r),o=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var a=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Qe(c):(c=Pe(n)?ln:Te.current,c=Dn(e,c));var p=n.getDerivedStateFromProps,d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==o||a!==c)&&Za(e,s,o,c),It=!1;var f=e.memoizedState;s.state=f,Hr(e,o,s,r),a=e.memoizedState,l!==o||f!==a||Ae.current||It?(typeof p=="function"&&(Bs(e,n,p,o),a=e.memoizedState),(l=It||Ka(e,n,l,o,f,a,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=a),s.props=o,s.state=a,s.context=c,o=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{s=e.stateNode,Wu(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:et(e.type,l),s.props=c,d=e.pendingProps,f=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=Qe(a):(a=Pe(n)?ln:Te.current,a=Dn(e,a));var y=n.getDerivedStateFromProps;(p=typeof y=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==d||f!==a)&&Za(e,s,o,a),It=!1,f=e.memoizedState,s.state=f,Hr(e,o,s,r);var v=e.memoizedState;l!==d||f!==v||Ae.current||It?(typeof y=="function"&&(Bs(e,n,y,o),v=e.memoizedState),(c=It||Ka(e,n,c,o,f,v,a)||!1)?(p||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(o,v,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(o,v,a)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=v),s.props=o,s.state=v,s.context=a,o=c):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),o=!1)}return Ms(t,e,n,o,i,r)}function Ms(t,e,n,o,r,i){wd(t,e);var s=(e.flags&128)!==0;if(!o&&!s)return r&&Ha(e,n,!1),Et(t,e,i);o=e.stateNode,zf.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,t!==null&&s?(e.child=zn(e,t.child,null,i),e.child=zn(e,null,l,i)):Be(t,e,l,i),e.memoizedState=o.state,r&&Ha(e,n,!0),e.child}function xd(t){var e=t.stateNode;e.pendingContext?Ua(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ua(t,e.context,!1),Tl(t,e.containerInfo)}function ic(t,e,n,o,r){return Fn(),wl(r),e.flags|=256,Be(t,e,n,o),e.child}var Ls={dehydrated:null,treeContext:null,retryLane:0};function Os(t){return{baseLanes:t,cachePool:null,transitions:null}}function bd(t,e,n){var o=e.pendingProps,r=ee.current,i=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(r&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),K(ee,r&1),t===null)return Cs(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=o.children,t=o.fallback,i?(o=e.mode,i=e.child,s={mode:"hidden",children:s},!(o&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=di(s,o,0,null),t=rn(t,o,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Os(n),e.memoizedState=Ls,t):jl(e,s));if(r=t.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return $f(t,e,s,o,l,r,n);if(i){i=o.fallback,s=e.mode,r=t.child,l=r.sibling;var a={mode:"hidden",children:o.children};return!(s&1)&&e.child!==r?(o=e.child,o.childLanes=0,o.pendingProps=a,e.deletions=null):(o=$t(r,a),o.subtreeFlags=r.subtreeFlags&14680064),l!==null?i=$t(l,i):(i=rn(i,s,n,null),i.flags|=2),i.return=e,o.return=e,o.sibling=i,e.child=o,o=i,i=e.child,s=t.child.memoizedState,s=s===null?Os(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=t.childLanes&~n,e.memoizedState=Ls,o}return i=t.child,t=i.sibling,o=$t(i,{mode:"visible",children:o.children}),!(e.mode&1)&&(o.lanes=n),o.return=e,o.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=o,e.memoizedState=null,o}function jl(t,e){return e=di({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cr(t,e,n,o){return o!==null&&wl(o),zn(e,t.child,null,n),t=jl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $f(t,e,n,o,r,i,s){if(n)return e.flags&256?(e.flags&=-257,o=Hi(Error(C(422))),cr(t,e,s,o)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=o.fallback,r=e.mode,o=di({mode:"visible",children:o.children},r,0,null),i=rn(i,r,s,null),i.flags|=2,o.return=e,i.return=e,o.sibling=i,e.child=o,e.mode&1&&zn(e,t.child,null,s),e.child.memoizedState=Os(s),e.memoizedState=Ls,i);if(!(e.mode&1))return cr(t,e,s,null);if(r.data==="$!"){if(o=r.nextSibling&&r.nextSibling.dataset,o)var l=o.dgst;return o=l,i=Error(C(419)),o=Hi(i,o,void 0),cr(t,e,s,o)}if(l=(s&t.childLanes)!==0,Oe||l){if(o=fe,o!==null){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(o.suspendedLanes|s)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,St(t,r),st(o,t,r,-1))}return zl(),o=Hi(Error(C(421))),cr(t,e,s,o)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=em.bind(null,t),r._reactRetry=e,null):(t=i.treeContext,$e=Rt(r.nextSibling),Ue=e,G=!0,nt=null,t!==null&&(Ve[Ye++]=vt,Ve[Ye++]=yt,Ve[Ye++]=an,vt=t.id,yt=t.overflow,an=e),e=jl(e,o.children),e.flags|=4096,e)}function sc(t,e,n){t.lanes|=e;var o=t.alternate;o!==null&&(o.lanes|=e),Ts(t.return,e,n)}function qi(t,e,n,o,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=o,i.tail=n,i.tailMode=r)}function Sd(t,e,n){var o=e.pendingProps,r=o.revealOrder,i=o.tail;if(Be(t,e,o.children,n),o=ee.current,o&2)o=o&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sc(t,n,e);else if(t.tag===19)sc(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}if(K(ee,o),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&qr(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),qi(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&qr(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}qi(e,!0,n,null,i);break;case"together":qi(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function br(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Et(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),un|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(C(153));if(e.child!==null){for(t=e.child,n=$t(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=$t(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Uf(t,e,n){switch(e.tag){case 3:xd(e),Fn();break;case 5:Qu(e);break;case 1:Pe(e.type)&&Dr(e);break;case 4:Tl(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,r=e.memoizedProps.value;K($r,o._currentValue),o._currentValue=r;break;case 13:if(o=e.memoizedState,o!==null)return o.dehydrated!==null?(K(ee,ee.current&1),e.flags|=128,null):n&e.child.childLanes?bd(t,e,n):(K(ee,ee.current&1),t=Et(t,e,n),t!==null?t.sibling:null);K(ee,ee.current&1);break;case 19:if(o=(n&e.childLanes)!==0,t.flags&128){if(o)return Sd(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),K(ee,ee.current),o)break;return null;case 22:case 23:return e.lanes=0,kd(t,e,n)}return Et(t,e,n)}var Ed,js,Cd,Td;Ed=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};js=function(){};Cd=function(t,e,n,o){var r=t.memoizedProps;if(r!==o){t=e.stateNode,nn(pt.current);var i=null;switch(n){case"input":r=ns(t,r),o=ns(t,o),i=[];break;case"select":r=oe({},r,{value:void 0}),o=oe({},o,{value:void 0}),i=[];break;case"textarea":r=is(t,r),o=is(t,o),i=[];break;default:typeof r.onClick!="function"&&typeof o.onClick=="function"&&(t.onclick=Pr)}ls(n,o);var s;n=null;for(c in r)if(!o.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var l=r[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(So.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in o){var a=o[c];if(l=r!=null?r[c]:void 0,o.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(i||(i=[]),i.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(So.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&Z("scroll",t),i||l===a||(i=[])):(i=i||[]).push(c,a))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Td=function(t,e,n,o){n!==o&&(e.flags|=4)};function no(t,e){if(!G)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Se(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,o=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags&14680064,o|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=o,t.childLanes=n,e}function Hf(t,e,n){var o=e.pendingProps;switch(kl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(e),null;case 1:return Pe(e.type)&&Rr(),Se(e),null;case 3:return o=e.stateNode,$n(),X(Ae),X(Te),Nl(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(lr(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,nt!==null&&(Us(nt),nt=null))),js(t,e),Se(e),null;case 5:Bl(e);var r=nn(Ao.current);if(n=e.type,t!==null&&e.stateNode!=null)Cd(t,e,n,o,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(e.stateNode===null)throw Error(C(166));return Se(e),null}if(t=nn(pt.current),lr(e)){o=e.stateNode,n=e.type;var i=e.memoizedProps;switch(o[dt]=e,o[Oo]=i,t=(e.mode&1)!==0,n){case"dialog":Z("cancel",o),Z("close",o);break;case"iframe":case"object":case"embed":Z("load",o);break;case"video":case"audio":for(r=0;r<lo.length;r++)Z(lo[r],o);break;case"source":Z("error",o);break;case"img":case"image":case"link":Z("error",o),Z("load",o);break;case"details":Z("toggle",o);break;case"input":ma(o,i),Z("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!i.multiple},Z("invalid",o);break;case"textarea":va(o,i),Z("invalid",o)}ls(n,i),r=null;for(var s in i)if(i.hasOwnProperty(s)){var l=i[s];s==="children"?typeof l=="string"?o.textContent!==l&&(i.suppressHydrationWarning!==!0&&sr(o.textContent,l,t),r=["children",l]):typeof l=="number"&&o.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&sr(o.textContent,l,t),r=["children",""+l]):So.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Z("scroll",o)}switch(n){case"input":Go(o),ga(o,i,!0);break;case"textarea":Go(o),ya(o);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(o.onclick=Pr)}o=r,e.updateQueue=o,o!==null&&(e.flags|=4)}else{s=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Jc(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof o.is=="string"?t=s.createElement(n,{is:o.is}):(t=s.createElement(n),n==="select"&&(s=t,o.multiple?s.multiple=!0:o.size&&(s.size=o.size))):t=s.createElementNS(t,n),t[dt]=e,t[Oo]=o,Ed(t,e,!1,!1),e.stateNode=t;e:{switch(s=as(n,o),n){case"dialog":Z("cancel",t),Z("close",t),r=o;break;case"iframe":case"object":case"embed":Z("load",t),r=o;break;case"video":case"audio":for(r=0;r<lo.length;r++)Z(lo[r],t);r=o;break;case"source":Z("error",t),r=o;break;case"img":case"image":case"link":Z("error",t),Z("load",t),r=o;break;case"details":Z("toggle",t),r=o;break;case"input":ma(t,o),r=ns(t,o),Z("invalid",t);break;case"option":r=o;break;case"select":t._wrapperState={wasMultiple:!!o.multiple},r=oe({},o,{value:void 0}),Z("invalid",t);break;case"textarea":va(t,o),r=is(t,o),Z("invalid",t);break;default:r=o}ls(n,r),l=r;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?nu(t,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&eu(t,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Eo(t,a):typeof a=="number"&&Eo(t,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(So.hasOwnProperty(i)?a!=null&&i==="onScroll"&&Z("scroll",t):a!=null&&rl(t,i,a,s))}switch(n){case"input":Go(t),ga(t,o,!1);break;case"textarea":Go(t),ya(t);break;case"option":o.value!=null&&t.setAttribute("value",""+Ut(o.value));break;case"select":t.multiple=!!o.multiple,i=o.value,i!=null?Mn(t,!!o.multiple,i,!1):o.defaultValue!=null&&Mn(t,!!o.multiple,o.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Pr)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Se(e),null;case 6:if(t&&e.stateNode!=null)Td(t,e,t.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(C(166));if(n=nn(Ao.current),nn(pt.current),lr(e)){if(o=e.stateNode,n=e.memoizedProps,o[dt]=e,(i=o.nodeValue!==n)&&(t=Ue,t!==null))switch(t.tag){case 3:sr(o.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&sr(o.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[dt]=e,e.stateNode=o}return Se(e),null;case 13:if(X(ee),o=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(G&&$e!==null&&e.mode&1&&!(e.flags&128))Hu(),Fn(),e.flags|=98560,i=!1;else if(i=lr(e),o!==null&&o.dehydrated!==null){if(t===null){if(!i)throw Error(C(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[dt]=e}else Fn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Se(e),i=!1}else nt!==null&&(Us(nt),nt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(o=o!==null,o!==(t!==null&&t.memoizedState!==null)&&o&&(e.child.flags|=8192,e.mode&1&&(t===null||ee.current&1?he===0&&(he=3):zl())),e.updateQueue!==null&&(e.flags|=4),Se(e),null);case 4:return $n(),js(t,e),t===null&&Mo(e.stateNode.containerInfo),Se(e),null;case 10:return Sl(e.type._context),Se(e),null;case 17:return Pe(e.type)&&Rr(),Se(e),null;case 19:if(X(ee),i=e.memoizedState,i===null)return Se(e),null;if(o=(e.flags&128)!==0,s=i.rendering,s===null)if(o)no(i,!1);else{if(he!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=qr(t),s!==null){for(e.flags|=128,no(i,!1),o=s.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=n,n=e.child;n!==null;)i=n,t=o,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return K(ee,ee.current&1|2),e.child}t=t.sibling}i.tail!==null&&ae()>Hn&&(e.flags|=128,o=!0,no(i,!1),e.lanes=4194304)}else{if(!o)if(t=qr(s),t!==null){if(e.flags|=128,o=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),no(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!G)return Se(e),null}else 2*ae()-i.renderingStartTime>Hn&&n!==1073741824&&(e.flags|=128,o=!0,no(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(n=i.last,n!==null?n.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ae(),e.sibling=null,n=ee.current,K(ee,o?n&1|2:n&1),e):(Se(e),null);case 22:case 23:return Fl(),o=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==o&&(e.flags|=8192),o&&e.mode&1?ze&1073741824&&(Se(e),e.subtreeFlags&6&&(e.flags|=8192)):Se(e),null;case 24:return null;case 25:return null}throw Error(C(156,e.tag))}function qf(t,e){switch(kl(e),e.tag){case 1:return Pe(e.type)&&Rr(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $n(),X(Ae),X(Te),Nl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Bl(e),null;case 13:if(X(ee),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(C(340));Fn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return X(ee),null;case 4:return $n(),null;case 10:return Sl(e.type._context),null;case 22:case 23:return Fl(),null;case 24:return null;default:return null}}var ur=!1,Ce=!1,Wf=typeof WeakSet=="function"?WeakSet:Set,M=null;function In(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){re(t,e,o)}else n.current=null}function As(t,e,n){try{n()}catch(o){re(t,e,o)}}var lc=!1;function Vf(t,e){if(ys=Or,t=_u(),vl(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var r=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,c=0,p=0,d=t,f=null;t:for(;;){for(var y;d!==n||r!==0&&d.nodeType!==3||(l=s+r),d!==i||o!==0&&d.nodeType!==3||(a=s+o),d.nodeType===3&&(s+=d.nodeValue.length),(y=d.firstChild)!==null;)f=d,d=y;for(;;){if(d===t)break t;if(f===n&&++c===r&&(l=s),f===i&&++p===o&&(a=s),(y=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=y}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(ks={focusedElem:t,selectionRange:n},Or=!1,M=e;M!==null;)if(e=M,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,M=t;else for(;M!==null;){e=M;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,L=v.memoizedState,m=e.stateNode,h=m.getSnapshotBeforeUpdate(e.elementType===e.type?x:et(e.type,x),L);m.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(w){re(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,M=t;break}M=e.return}return v=lc,lc=!1,v}function vo(t,e,n){var o=e.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var r=o=o.next;do{if((r.tag&t)===t){var i=r.destroy;r.destroy=void 0,i!==void 0&&As(e,n,i)}r=r.next}while(r!==o)}}function ci(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var o=n.create;n.destroy=o()}n=n.next}while(n!==e)}}function Ps(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Bd(t){var e=t.alternate;e!==null&&(t.alternate=null,Bd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[dt],delete e[Oo],delete e[bs],delete e[Nf],delete e[If])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Nd(t){return t.tag===5||t.tag===3||t.tag===4}function ac(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Nd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rs(t,e,n){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Pr));else if(o!==4&&(t=t.child,t!==null))for(Rs(t,e,n),t=t.sibling;t!==null;)Rs(t,e,n),t=t.sibling}function Ds(t,e,n){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(o!==4&&(t=t.child,t!==null))for(Ds(t,e,n),t=t.sibling;t!==null;)Ds(t,e,n),t=t.sibling}var ve=null,tt=!1;function Bt(t,e,n){for(n=n.child;n!==null;)Id(t,e,n),n=n.sibling}function Id(t,e,n){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(ti,n)}catch{}switch(n.tag){case 5:Ce||In(n,e);case 6:var o=ve,r=tt;ve=null,Bt(t,e,n),ve=o,tt=r,ve!==null&&(tt?(t=ve,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ve.removeChild(n.stateNode));break;case 18:ve!==null&&(tt?(t=ve,n=n.stateNode,t.nodeType===8?Ri(t.parentNode,n):t.nodeType===1&&Ri(t,n),No(t)):Ri(ve,n.stateNode));break;case 4:o=ve,r=tt,ve=n.stateNode.containerInfo,tt=!0,Bt(t,e,n),ve=o,tt=r;break;case 0:case 11:case 14:case 15:if(!Ce&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){r=o=o.next;do{var i=r,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&As(n,e,s),r=r.next}while(r!==o)}Bt(t,e,n);break;case 1:if(!Ce&&(In(n,e),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(l){re(n,e,l)}Bt(t,e,n);break;case 21:Bt(t,e,n);break;case 22:n.mode&1?(Ce=(o=Ce)||n.memoizedState!==null,Bt(t,e,n),Ce=o):Bt(t,e,n);break;default:Bt(t,e,n)}}function cc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Wf),e.forEach(function(o){var r=tm.bind(null,t,o);n.has(o)||(n.add(o),o.then(r,r))})}}function Je(t,e){var n=e.deletions;if(n!==null)for(var o=0;o<n.length;o++){var r=n[o];try{var i=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:ve=l.stateNode,tt=!1;break e;case 3:ve=l.stateNode.containerInfo,tt=!0;break e;case 4:ve=l.stateNode.containerInfo,tt=!0;break e}l=l.return}if(ve===null)throw Error(C(160));Id(i,s,r),ve=null,tt=!1;var a=r.alternate;a!==null&&(a.return=null),r.return=null}catch(c){re(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_d(e,t),e=e.sibling}function _d(t,e){var n=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Je(e,t),ct(t),o&4){try{vo(3,t,t.return),ci(3,t)}catch(x){re(t,t.return,x)}try{vo(5,t,t.return)}catch(x){re(t,t.return,x)}}break;case 1:Je(e,t),ct(t),o&512&&n!==null&&In(n,n.return);break;case 5:if(Je(e,t),ct(t),o&512&&n!==null&&In(n,n.return),t.flags&32){var r=t.stateNode;try{Eo(r,"")}catch(x){re(t,t.return,x)}}if(o&4&&(r=t.stateNode,r!=null)){var i=t.memoizedProps,s=n!==null?n.memoizedProps:i,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Xc(r,i),as(l,s);var c=as(l,i);for(s=0;s<a.length;s+=2){var p=a[s],d=a[s+1];p==="style"?nu(r,d):p==="dangerouslySetInnerHTML"?eu(r,d):p==="children"?Eo(r,d):rl(r,p,d,c)}switch(l){case"input":os(r,i);break;case"textarea":Gc(r,i);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Mn(r,!!i.multiple,y,!1):f!==!!i.multiple&&(i.defaultValue!=null?Mn(r,!!i.multiple,i.defaultValue,!0):Mn(r,!!i.multiple,i.multiple?[]:"",!1))}r[Oo]=i}catch(x){re(t,t.return,x)}}break;case 6:if(Je(e,t),ct(t),o&4){if(t.stateNode===null)throw Error(C(162));r=t.stateNode,i=t.memoizedProps;try{r.nodeValue=i}catch(x){re(t,t.return,x)}}break;case 3:if(Je(e,t),ct(t),o&4&&n!==null&&n.memoizedState.isDehydrated)try{No(e.containerInfo)}catch(x){re(t,t.return,x)}break;case 4:Je(e,t),ct(t);break;case 13:Je(e,t),ct(t),r=t.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(Rl=ae())),o&4&&cc(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(Ce=(c=Ce)||p,Je(e,t),Ce=c):Je(e,t),ct(t),o&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!p&&t.mode&1)for(M=t,p=t.child;p!==null;){for(d=M=p;M!==null;){switch(f=M,y=f.child,f.tag){case 0:case 11:case 14:case 15:vo(4,f,f.return);break;case 1:In(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){o=f,n=f.return;try{e=o,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(x){re(o,n,x)}}break;case 5:In(f,f.return);break;case 22:if(f.memoizedState!==null){dc(d);continue}}y!==null?(y.return=f,M=y):dc(d)}p=p.sibling}e:for(p=null,d=t;;){if(d.tag===5){if(p===null){p=d;try{r=d.stateNode,c?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,a=d.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=tu("display",s))}catch(x){re(t,t.return,x)}}}else if(d.tag===6){if(p===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(x){re(t,t.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;p===d&&(p=null),d=d.return}p===d&&(p=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Je(e,t),ct(t),o&4&&cc(t);break;case 21:break;default:Je(e,t),ct(t)}}function ct(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Nd(n)){var o=n;break e}n=n.return}throw Error(C(160))}switch(o.tag){case 5:var r=o.stateNode;o.flags&32&&(Eo(r,""),o.flags&=-33);var i=ac(t);Ds(t,i,r);break;case 3:case 4:var s=o.stateNode.containerInfo,l=ac(t);Rs(t,l,s);break;default:throw Error(C(161))}}catch(a){re(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Yf(t,e,n){M=t,Md(t)}function Md(t,e,n){for(var o=(t.mode&1)!==0;M!==null;){var r=M,i=r.child;if(r.tag===22&&o){var s=r.memoizedState!==null||ur;if(!s){var l=r.alternate,a=l!==null&&l.memoizedState!==null||Ce;l=ur;var c=Ce;if(ur=s,(Ce=a)&&!c)for(M=r;M!==null;)s=M,a=s.child,s.tag===22&&s.memoizedState!==null?hc(r):a!==null?(a.return=s,M=a):hc(r);for(;i!==null;)M=i,Md(i),i=i.sibling;M=r,ur=l,Ce=c}uc(t)}else r.subtreeFlags&8772&&i!==null?(i.return=r,M=i):uc(t)}}function uc(t){for(;M!==null;){var e=M;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ce||ci(5,e);break;case 1:var o=e.stateNode;if(e.flags&4&&!Ce)if(n===null)o.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:et(e.type,n.memoizedProps);o.componentDidUpdate(r,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ya(e,i,o);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ya(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var p=c.memoizedState;if(p!==null){var d=p.dehydrated;d!==null&&No(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}Ce||e.flags&512&&Ps(e)}catch(f){re(e,e.return,f)}}if(e===t){M=null;break}if(n=e.sibling,n!==null){n.return=e.return,M=n;break}M=e.return}}function dc(t){for(;M!==null;){var e=M;if(e===t){M=null;break}var n=e.sibling;if(n!==null){n.return=e.return,M=n;break}M=e.return}}function hc(t){for(;M!==null;){var e=M;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ci(4,e)}catch(a){re(e,n,a)}break;case 1:var o=e.stateNode;if(typeof o.componentDidMount=="function"){var r=e.return;try{o.componentDidMount()}catch(a){re(e,r,a)}}var i=e.return;try{Ps(e)}catch(a){re(e,i,a)}break;case 5:var s=e.return;try{Ps(e)}catch(a){re(e,s,a)}}}catch(a){re(e,e.return,a)}if(e===t){M=null;break}var l=e.sibling;if(l!==null){l.return=e.return,M=l;break}M=e.return}}var Kf=Math.ceil,Yr=Tt.ReactCurrentDispatcher,Al=Tt.ReactCurrentOwner,Ze=Tt.ReactCurrentBatchConfig,q=0,fe=null,ue=null,ke=0,ze=0,_n=Vt(0),he=0,Fo=null,un=0,ui=0,Pl=0,yo=null,Me=null,Rl=0,Hn=1/0,ft=null,Kr=!1,Fs=null,Ft=null,dr=!1,Ot=null,Zr=0,ko=0,zs=null,Sr=-1,Er=0;function Ne(){return q&6?ae():Sr!==-1?Sr:Sr=ae()}function zt(t){return t.mode&1?q&2&&ke!==0?ke&-ke:Mf.transition!==null?(Er===0&&(Er=fu()),Er):(t=Y,t!==0||(t=window.event,t=t===void 0?16:xu(t.type)),t):1}function st(t,e,n,o){if(50<ko)throw ko=0,zs=null,Error(C(185));Ho(t,n,o),(!(q&2)||t!==fe)&&(t===fe&&(!(q&2)&&(ui|=n),he===4&&Mt(t,ke)),Re(t,o),n===1&&q===0&&!(e.mode&1)&&(Hn=ae()+500,si&&Yt()))}function Re(t,e){var n=t.callbackNode;_p(t,e);var o=Lr(t,t===fe?ke:0);if(o===0)n!==null&&xa(n),t.callbackNode=null,t.callbackPriority=0;else if(e=o&-o,t.callbackPriority!==e){if(n!=null&&xa(n),e===1)t.tag===0?_f(pc.bind(null,t)):zu(pc.bind(null,t)),Tf(function(){!(q&6)&&Yt()}),n=null;else{switch(mu(o)){case 1:n=cl;break;case 4:n=hu;break;case 16:n=Mr;break;case 536870912:n=pu;break;default:n=Mr}n=Fd(n,Ld.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ld(t,e){if(Sr=-1,Er=0,q&6)throw Error(C(327));var n=t.callbackNode;if(Pn()&&t.callbackNode!==n)return null;var o=Lr(t,t===fe?ke:0);if(o===0)return null;if(o&30||o&t.expiredLanes||e)e=Qr(t,o);else{e=o;var r=q;q|=2;var i=jd();(fe!==t||ke!==e)&&(ft=null,Hn=ae()+500,on(t,e));do try{Xf();break}catch(l){Od(t,l)}while(!0);bl(),Yr.current=i,q=r,ue!==null?e=0:(fe=null,ke=0,e=he)}if(e!==0){if(e===2&&(r=ps(t),r!==0&&(o=r,e=$s(t,r))),e===1)throw n=Fo,on(t,0),Mt(t,o),Re(t,ae()),n;if(e===6)Mt(t,o);else{if(r=t.current.alternate,!(o&30)&&!Zf(r)&&(e=Qr(t,o),e===2&&(i=ps(t),i!==0&&(o=i,e=$s(t,i))),e===1))throw n=Fo,on(t,0),Mt(t,o),Re(t,ae()),n;switch(t.finishedWork=r,t.finishedLanes=o,e){case 0:case 1:throw Error(C(345));case 2:Gt(t,Me,ft);break;case 3:if(Mt(t,o),(o&130023424)===o&&(e=Rl+500-ae(),10<e)){if(Lr(t,0)!==0)break;if(r=t.suspendedLanes,(r&o)!==o){Ne(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=xs(Gt.bind(null,t,Me,ft),e);break}Gt(t,Me,ft);break;case 4:if(Mt(t,o),(o&4194240)===o)break;for(e=t.eventTimes,r=-1;0<o;){var s=31-it(o);i=1<<s,s=e[s],s>r&&(r=s),o&=~i}if(o=r,o=ae()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Kf(o/1960))-o,10<o){t.timeoutHandle=xs(Gt.bind(null,t,Me,ft),o);break}Gt(t,Me,ft);break;case 5:Gt(t,Me,ft);break;default:throw Error(C(329))}}}return Re(t,ae()),t.callbackNode===n?Ld.bind(null,t):null}function $s(t,e){var n=yo;return t.current.memoizedState.isDehydrated&&(on(t,e).flags|=256),t=Qr(t,e),t!==2&&(e=Me,Me=n,e!==null&&Us(e)),t}function Us(t){Me===null?Me=t:Me.push.apply(Me,t)}function Zf(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var r=n[o],i=r.getSnapshot;r=r.value;try{if(!at(i(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mt(t,e){for(e&=~Pl,e&=~ui,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-it(e),o=1<<n;t[n]=-1,e&=~o}}function pc(t){if(q&6)throw Error(C(327));Pn();var e=Lr(t,0);if(!(e&1))return Re(t,ae()),null;var n=Qr(t,e);if(t.tag!==0&&n===2){var o=ps(t);o!==0&&(e=o,n=$s(t,o))}if(n===1)throw n=Fo,on(t,0),Mt(t,e),Re(t,ae()),n;if(n===6)throw Error(C(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gt(t,Me,ft),Re(t,ae()),null}function Dl(t,e){var n=q;q|=1;try{return t(e)}finally{q=n,q===0&&(Hn=ae()+500,si&&Yt())}}function dn(t){Ot!==null&&Ot.tag===0&&!(q&6)&&Pn();var e=q;q|=1;var n=Ze.transition,o=Y;try{if(Ze.transition=null,Y=1,t)return t()}finally{Y=o,Ze.transition=n,q=e,!(q&6)&&Yt()}}function Fl(){ze=_n.current,X(_n)}function on(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Cf(n)),ue!==null)for(n=ue.return;n!==null;){var o=n;switch(kl(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Rr();break;case 3:$n(),X(Ae),X(Te),Nl();break;case 5:Bl(o);break;case 4:$n();break;case 13:X(ee);break;case 19:X(ee);break;case 10:Sl(o.type._context);break;case 22:case 23:Fl()}n=n.return}if(fe=t,ue=t=$t(t.current,null),ke=ze=e,he=0,Fo=null,Pl=ui=un=0,Me=yo=null,tn!==null){for(e=0;e<tn.length;e++)if(n=tn[e],o=n.interleaved,o!==null){n.interleaved=null;var r=o.next,i=n.pending;if(i!==null){var s=i.next;i.next=r,o.next=s}n.pending=o}tn=null}return t}function Od(t,e){do{var n=ue;try{if(bl(),wr.current=Vr,Wr){for(var o=ne.memoizedState;o!==null;){var r=o.queue;r!==null&&(r.pending=null),o=o.next}Wr=!1}if(cn=0,pe=de=ne=null,go=!1,Po=0,Al.current=null,n===null||n.return===null){he=1,Fo=e,ue=null;break}e:{var i=t,s=n.return,l=n,a=e;if(e=ke,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,p=l,d=p.tag;if(!(p.mode&1)&&(d===0||d===11||d===15)){var f=p.alternate;f?(p.updateQueue=f.updateQueue,p.memoizedState=f.memoizedState,p.lanes=f.lanes):(p.updateQueue=null,p.memoizedState=null)}var y=ec(s);if(y!==null){y.flags&=-257,tc(y,s,l,i,e),y.mode&1&&Ja(i,c,e),e=y,a=c;var v=e.updateQueue;if(v===null){var x=new Set;x.add(a),e.updateQueue=x}else v.add(a);break e}else{if(!(e&1)){Ja(i,c,e),zl();break e}a=Error(C(426))}}else if(G&&l.mode&1){var L=ec(s);if(L!==null){!(L.flags&65536)&&(L.flags|=256),tc(L,s,l,i,e),wl(Un(a,l));break e}}i=a=Un(a,l),he!==4&&(he=2),yo===null?yo=[i]:yo.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=gd(i,a,e);Va(i,m);break e;case 1:l=a;var h=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ft===null||!Ft.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=vd(i,l,e);Va(i,w);break e}}i=i.return}while(i!==null)}Pd(n)}catch(S){e=S,ue===n&&n!==null&&(ue=n=n.return);continue}break}while(!0)}function jd(){var t=Yr.current;return Yr.current=Vr,t===null?Vr:t}function zl(){(he===0||he===3||he===2)&&(he=4),fe===null||!(un&268435455)&&!(ui&268435455)||Mt(fe,ke)}function Qr(t,e){var n=q;q|=2;var o=jd();(fe!==t||ke!==e)&&(ft=null,on(t,e));do try{Qf();break}catch(r){Od(t,r)}while(!0);if(bl(),q=n,Yr.current=o,ue!==null)throw Error(C(261));return fe=null,ke=0,he}function Qf(){for(;ue!==null;)Ad(ue)}function Xf(){for(;ue!==null&&!xp();)Ad(ue)}function Ad(t){var e=Dd(t.alternate,t,ze);t.memoizedProps=t.pendingProps,e===null?Pd(t):ue=e,Al.current=null}function Pd(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=qf(n,e),n!==null){n.flags&=32767,ue=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{he=6,ue=null;return}}else if(n=Hf(n,e,ze),n!==null){ue=n;return}if(e=e.sibling,e!==null){ue=e;return}ue=e=t}while(e!==null);he===0&&(he=5)}function Gt(t,e,n){var o=Y,r=Ze.transition;try{Ze.transition=null,Y=1,Gf(t,e,n,o)}finally{Ze.transition=r,Y=o}return null}function Gf(t,e,n,o){do Pn();while(Ot!==null);if(q&6)throw Error(C(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(C(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Mp(t,i),t===fe&&(ue=fe=null,ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||dr||(dr=!0,Fd(Mr,function(){return Pn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ze.transition,Ze.transition=null;var s=Y;Y=1;var l=q;q|=4,Al.current=null,Vf(t,n),_d(n,t),yf(ks),Or=!!ys,ks=ys=null,t.current=n,Yf(n),bp(),q=l,Y=s,Ze.transition=i}else t.current=n;if(dr&&(dr=!1,Ot=t,Zr=r),i=t.pendingLanes,i===0&&(Ft=null),Cp(n.stateNode),Re(t,ae()),e!==null)for(o=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],o(r.value,{componentStack:r.stack,digest:r.digest});if(Kr)throw Kr=!1,t=Fs,Fs=null,t;return Zr&1&&t.tag!==0&&Pn(),i=t.pendingLanes,i&1?t===zs?ko++:(ko=0,zs=t):ko=0,Yt(),null}function Pn(){if(Ot!==null){var t=mu(Zr),e=Ze.transition,n=Y;try{if(Ze.transition=null,Y=16>t?16:t,Ot===null)var o=!1;else{if(t=Ot,Ot=null,Zr=0,q&6)throw Error(C(331));var r=q;for(q|=4,M=t.current;M!==null;){var i=M,s=i.child;if(M.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(M=c;M!==null;){var p=M;switch(p.tag){case 0:case 11:case 15:vo(8,p,i)}var d=p.child;if(d!==null)d.return=p,M=d;else for(;M!==null;){p=M;var f=p.sibling,y=p.return;if(Bd(p),p===c){M=null;break}if(f!==null){f.return=y,M=f;break}M=y}}}var v=i.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var L=x.sibling;x.sibling=null,x=L}while(x!==null)}}M=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,M=s;else e:for(;M!==null;){if(i=M,i.flags&2048)switch(i.tag){case 0:case 11:case 15:vo(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,M=m;break e}M=i.return}}var h=t.current;for(M=h;M!==null;){s=M;var g=s.child;if(s.subtreeFlags&2064&&g!==null)g.return=s,M=g;else e:for(s=h;M!==null;){if(l=M,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ci(9,l)}}catch(S){re(l,l.return,S)}if(l===s){M=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,M=w;break e}M=l.return}}if(q=r,Yt(),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(ti,t)}catch{}o=!0}return o}finally{Y=n,Ze.transition=e}}return!1}function fc(t,e,n){e=Un(n,e),e=gd(t,e,1),t=Dt(t,e,1),e=Ne(),t!==null&&(Ho(t,1,e),Re(t,e))}function re(t,e,n){if(t.tag===3)fc(t,t,n);else for(;e!==null;){if(e.tag===3){fc(e,t,n);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ft===null||!Ft.has(o))){t=Un(n,t),t=vd(e,t,1),e=Dt(e,t,1),t=Ne(),e!==null&&(Ho(e,1,t),Re(e,t));break}}e=e.return}}function Jf(t,e,n){var o=t.pingCache;o!==null&&o.delete(e),e=Ne(),t.pingedLanes|=t.suspendedLanes&n,fe===t&&(ke&n)===n&&(he===4||he===3&&(ke&130023424)===ke&&500>ae()-Rl?on(t,0):Pl|=n),Re(t,e)}function Rd(t,e){e===0&&(t.mode&1?(e=tr,tr<<=1,!(tr&130023424)&&(tr=4194304)):e=1);var n=Ne();t=St(t,e),t!==null&&(Ho(t,e,n),Re(t,n))}function em(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Rd(t,n)}function tm(t,e){var n=0;switch(t.tag){case 13:var o=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:o=t.stateNode;break;default:throw Error(C(314))}o!==null&&o.delete(e),Rd(t,n)}var Dd;Dd=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ae.current)Oe=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Oe=!1,Uf(t,e,n);Oe=!!(t.flags&131072)}else Oe=!1,G&&e.flags&1048576&&$u(e,zr,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;br(t,e),t=e.pendingProps;var r=Dn(e,Te.current);An(e,n),r=_l(null,e,o,t,r,n);var i=Ml();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pe(o)?(i=!0,Dr(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Cl(e),r.updater=li,e.stateNode=r,r._reactInternals=e,Ns(e,o,t,n),e=Ms(null,e,o,!0,i,n)):(e.tag=0,G&&i&&yl(e),Be(null,e,r,n),e=e.child),e;case 16:o=e.elementType;e:{switch(br(t,e),t=e.pendingProps,r=o._init,o=r(o._payload),e.type=o,r=e.tag=om(o),t=et(o,t),r){case 0:e=_s(null,e,o,t,n);break e;case 1:e=rc(null,e,o,t,n);break e;case 11:e=nc(null,e,o,t,n);break e;case 14:e=oc(null,e,o,et(o.type,t),n);break e}throw Error(C(306,o,""))}return e;case 0:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:et(o,r),_s(t,e,o,r,n);case 1:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:et(o,r),rc(t,e,o,r,n);case 3:e:{if(xd(e),t===null)throw Error(C(387));o=e.pendingProps,i=e.memoizedState,r=i.element,Wu(t,e),Hr(e,o,null,n);var s=e.memoizedState;if(o=s.element,i.isDehydrated)if(i={element:o,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=Un(Error(C(423)),e),e=ic(t,e,o,n,r);break e}else if(o!==r){r=Un(Error(C(424)),e),e=ic(t,e,o,n,r);break e}else for($e=Rt(e.stateNode.containerInfo.firstChild),Ue=e,G=!0,nt=null,n=Zu(e,null,o,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fn(),o===r){e=Et(t,e,n);break e}Be(t,e,o,n)}e=e.child}return e;case 5:return Qu(e),t===null&&Cs(e),o=e.type,r=e.pendingProps,i=t!==null?t.memoizedProps:null,s=r.children,ws(o,r)?s=null:i!==null&&ws(o,i)&&(e.flags|=32),wd(t,e),Be(t,e,s,n),e.child;case 6:return t===null&&Cs(e),null;case 13:return bd(t,e,n);case 4:return Tl(e,e.stateNode.containerInfo),o=e.pendingProps,t===null?e.child=zn(e,null,o,n):Be(t,e,o,n),e.child;case 11:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:et(o,r),nc(t,e,o,r,n);case 7:return Be(t,e,e.pendingProps,n),e.child;case 8:return Be(t,e,e.pendingProps.children,n),e.child;case 12:return Be(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(o=e.type._context,r=e.pendingProps,i=e.memoizedProps,s=r.value,K($r,o._currentValue),o._currentValue=s,i!==null)if(at(i.value,s)){if(i.children===r.children&&!Ae.current){e=Et(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){s=i.child;for(var a=l.firstContext;a!==null;){if(a.context===o){if(i.tag===1){a=wt(-1,n&-n),a.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var p=c.pending;p===null?a.next=a:(a.next=p.next,p.next=a),c.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Ts(i.return,n,e),l.lanes|=n;break}a=a.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(C(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ts(s,n,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Be(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,o=e.pendingProps.children,An(e,n),r=Qe(r),o=o(r),e.flags|=1,Be(t,e,o,n),e.child;case 14:return o=e.type,r=et(o,e.pendingProps),r=et(o.type,r),oc(t,e,o,r,n);case 15:return yd(t,e,e.type,e.pendingProps,n);case 17:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:et(o,r),br(t,e),e.tag=1,Pe(o)?(t=!0,Dr(e)):t=!1,An(e,n),Yu(e,o,r),Ns(e,o,r,n),Ms(null,e,o,!0,t,n);case 19:return Sd(t,e,n);case 22:return kd(t,e,n)}throw Error(C(156,e.tag))};function Fd(t,e){return du(t,e)}function nm(t,e,n,o){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ke(t,e,n,o){return new nm(t,e,n,o)}function $l(t){return t=t.prototype,!(!t||!t.isReactComponent)}function om(t){if(typeof t=="function")return $l(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sl)return 11;if(t===ll)return 14}return 2}function $t(t,e){var n=t.alternate;return n===null?(n=Ke(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Cr(t,e,n,o,r,i){var s=2;if(o=t,typeof t=="function")$l(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case wn:return rn(n.children,r,i,e);case il:s=8,r|=8;break;case Gi:return t=Ke(12,n,e,r|2),t.elementType=Gi,t.lanes=i,t;case Ji:return t=Ke(13,n,e,r),t.elementType=Ji,t.lanes=i,t;case es:return t=Ke(19,n,e,r),t.elementType=es,t.lanes=i,t;case Kc:return di(n,r,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Vc:s=10;break e;case Yc:s=9;break e;case sl:s=11;break e;case ll:s=14;break e;case Nt:s=16,o=null;break e}throw Error(C(130,t==null?t:typeof t,""))}return e=Ke(s,n,e,r),e.elementType=t,e.type=o,e.lanes=i,e}function rn(t,e,n,o){return t=Ke(7,t,o,e),t.lanes=n,t}function di(t,e,n,o){return t=Ke(22,t,o,e),t.elementType=Kc,t.lanes=n,t.stateNode={isHidden:!1},t}function Wi(t,e,n){return t=Ke(6,t,null,e),t.lanes=n,t}function Vi(t,e,n){return e=Ke(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function rm(t,e,n,o,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ti(0),this.expirationTimes=Ti(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Ul(t,e,n,o,r,i,s,l,a){return t=new rm(t,e,n,l,a),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ke(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cl(i),t}function im(t,e,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kn,key:o==null?null:""+o,children:t,containerInfo:e,implementation:n}}function zd(t){if(!t)return Ht;t=t._reactInternals;e:{if(fn(t)!==t||t.tag!==1)throw Error(C(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(C(171))}if(t.tag===1){var n=t.type;if(Pe(n))return Fu(t,n,e)}return e}function $d(t,e,n,o,r,i,s,l,a){return t=Ul(n,o,!0,t,r,i,s,l,a),t.context=zd(null),n=t.current,o=Ne(),r=zt(n),i=wt(o,r),i.callback=e??null,Dt(n,i,r),t.current.lanes=r,Ho(t,r,o),Re(t,o),t}function hi(t,e,n,o){var r=e.current,i=Ne(),s=zt(r);return n=zd(n),e.context===null?e.context=n:e.pendingContext=n,e=wt(i,s),e.payload={element:t},o=o===void 0?null:o,o!==null&&(e.callback=o),t=Dt(r,e,s),t!==null&&(st(t,r,s,i),kr(t,r,s)),s}function Xr(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function mc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Hl(t,e){mc(t,e),(t=t.alternate)&&mc(t,e)}function sm(){return null}var Ud=typeof reportError=="function"?reportError:function(t){console.error(t)};function ql(t){this._internalRoot=t}pi.prototype.render=ql.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(C(409));hi(t,e,null,null)};pi.prototype.unmount=ql.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;dn(function(){hi(null,t,null,null)}),e[bt]=null}};function pi(t){this._internalRoot=t}pi.prototype.unstable_scheduleHydration=function(t){if(t){var e=yu();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_t.length&&e!==0&&e<_t[n].priority;n++);_t.splice(n,0,t),n===0&&wu(t)}};function Wl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function gc(){}function lm(t,e,n,o,r){if(r){if(typeof o=="function"){var i=o;o=function(){var c=Xr(s);i.call(c)}}var s=$d(e,o,t,0,null,!1,!1,"",gc);return t._reactRootContainer=s,t[bt]=s.current,Mo(t.nodeType===8?t.parentNode:t),dn(),s}for(;r=t.lastChild;)t.removeChild(r);if(typeof o=="function"){var l=o;o=function(){var c=Xr(a);l.call(c)}}var a=Ul(t,0,!1,null,null,!1,!1,"",gc);return t._reactRootContainer=a,t[bt]=a.current,Mo(t.nodeType===8?t.parentNode:t),dn(function(){hi(e,a,n,o)}),a}function mi(t,e,n,o,r){var i=n._reactRootContainer;if(i){var s=i;if(typeof r=="function"){var l=r;r=function(){var a=Xr(s);l.call(a)}}hi(e,s,t,r)}else s=lm(n,e,t,r,o);return Xr(s)}gu=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=so(e.pendingLanes);n!==0&&(ul(e,n|1),Re(e,ae()),!(q&6)&&(Hn=ae()+500,Yt()))}break;case 13:dn(function(){var o=St(t,1);if(o!==null){var r=Ne();st(o,t,1,r)}}),Hl(t,1)}};dl=function(t){if(t.tag===13){var e=St(t,134217728);if(e!==null){var n=Ne();st(e,t,134217728,n)}Hl(t,134217728)}};vu=function(t){if(t.tag===13){var e=zt(t),n=St(t,e);if(n!==null){var o=Ne();st(n,t,e,o)}Hl(t,e)}};yu=function(){return Y};ku=function(t,e){var n=Y;try{return Y=t,e()}finally{Y=n}};us=function(t,e,n){switch(e){case"input":if(os(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var o=n[e];if(o!==t&&o.form===t.form){var r=ii(o);if(!r)throw Error(C(90));Qc(o),os(o,r)}}}break;case"textarea":Gc(t,n);break;case"select":e=n.value,e!=null&&Mn(t,!!n.multiple,e,!1)}};iu=Dl;su=dn;var am={usingClientEntryPoint:!1,Events:[Wo,En,ii,ou,ru,Dl]},oo={findFiberByHostInstance:en,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},cm={bundleType:oo.bundleType,version:oo.version,rendererPackageName:oo.rendererPackageName,rendererConfig:oo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=cu(t),t===null?null:t.stateNode},findFiberByHostInstance:oo.findFiberByHostInstance||sm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hr.isDisabled&&hr.supportsFiber)try{ti=hr.inject(cm),ht=hr}catch{}}qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=am;qe.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wl(e))throw Error(C(200));return im(t,e,null,n)};qe.createRoot=function(t,e){if(!Wl(t))throw Error(C(299));var n=!1,o="",r=Ud;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Ul(t,1,!1,null,null,n,!1,o,r),t[bt]=e.current,Mo(t.nodeType===8?t.parentNode:t),new ql(e)};qe.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(C(188)):(t=Object.keys(t).join(","),Error(C(268,t)));return t=cu(e),t=t===null?null:t.stateNode,t};qe.flushSync=function(t){return dn(t)};qe.hydrate=function(t,e,n){if(!fi(e))throw Error(C(200));return mi(null,t,e,!0,n)};qe.hydrateRoot=function(t,e,n){if(!Wl(t))throw Error(C(405));var o=n!=null&&n.hydratedSources||null,r=!1,i="",s=Ud;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=$d(e,null,t,1,n??null,r,!1,i,s),t[bt]=e.current,Mo(t),o)for(t=0;t<o.length;t++)n=o[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new pi(e)};qe.render=function(t,e,n){if(!fi(e))throw Error(C(200));return mi(null,t,e,!1,n)};qe.unmountComponentAtNode=function(t){if(!fi(t))throw Error(C(40));return t._reactRootContainer?(dn(function(){mi(null,null,t,!1,function(){t._reactRootContainer=null,t[bt]=null})}),!0):!1};qe.unstable_batchedUpdates=Dl;qe.unstable_renderSubtreeIntoContainer=function(t,e,n,o){if(!fi(n))throw Error(C(200));if(t==null||t._reactInternals===void 0)throw Error(C(38));return mi(t,e,n,!1,o)};qe.version="18.2.0-next-9e3b772b8-20220608";function Hd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hd)}catch(t){console.error(t)}}Hd(),$c.exports=qe;var um=$c.exports,vc=um;Qi.createRoot=vc.createRoot,Qi.hydrateRoot=vc.hydrateRoot;var qd={exports:{}},dm="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",hm=dm,pm=hm;function Wd(){}function Vd(){}Vd.resetWarningCache=Wd;var fm=function(){function t(o,r,i,s,l,a){if(a!==pm){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Vd,resetWarningCache:Wd};return n.PropTypes=n,n};qd.exports=fm();var mm=qd.exports;const E=_c(mm),te=({text:t="",onClick:e=()=>{},className:n="",style:o={},parameters:r={},icon:i="",escape:s=!0})=>u.jsx("button",{className:`button ${n} unselectable`,style:o,onClick:e,...r,dangerouslySetInnerHTML:{__html:`
                ${i?`<div class="icon">${i}</div>`:""}
                ${t?`<div class="text">${t}</div>`:""}
            `}});te.propTypes={text:E.string,onClick:E.func,className:E.string,style:E.object,parameters:E.object,icon:E.string,escape:E.bool};let pr;const gm=new Uint8Array(16);function vm(){if(!pr&&(pr=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!pr))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return pr(gm)}const me=[];for(let t=0;t<256;++t)me.push((t+256).toString(16).slice(1));function ym(t,e=0){return me[t[e+0]]+me[t[e+1]]+me[t[e+2]]+me[t[e+3]]+"-"+me[t[e+4]]+me[t[e+5]]+"-"+me[t[e+6]]+me[t[e+7]]+"-"+me[t[e+8]]+me[t[e+9]]+"-"+me[t[e+10]]+me[t[e+11]]+me[t[e+12]]+me[t[e+13]]+me[t[e+14]]+me[t[e+15]]}const km=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),yc={randomUUID:km};function Vl(t,e,n){if(yc.randomUUID&&!e&&!t)return yc.randomUUID();t=t||{};const o=t.random||(t.rng||vm)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,e){n=n||0;for(let r=0;r<16;++r)e[n+r]=o[r];return e}return ym(o)}const Kt=({title:t="Alert",message:e="This is an alert message",className:n="",buttons:o=[],additional_content:r=[],headerImageSrc:i=null,closeAtTop:s=!1,closeFunction:l=()=>{}})=>{const a=F.useRef(null);F.useEffect(()=>{const p=()=>{const d=document.querySelector(".alert-box .alert .content").offsetHeight;a.current.style.marginTop=`${d-10}px`};return p(),window.addEventListener("resize",p),()=>{window.removeEventListener("resize",p)}},[]),document.body.classList.add("idle");const c=Vl();return u.jsx("div",{id:c,className:"alert-box",children:u.jsxs("div",{className:`alert ${n} margin-center`,children:[u.jsxs("div",{className:"content unselectable",style:{display:!t&&!e?"none":"flex"},children:[i&&u.jsx("img",{src:i}),u.jsxs("div",{className:"header",children:[u.jsx("div",{className:"title",children:t}),u.jsx("div",{className:"message",children:e})]}),s&&u.jsx("div",{onClick:()=>{l()},className:"close icon-alone-display",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 -960 960 960",width:"24",children:u.jsx("path",{d:"M480-424 284-228q-11 11-28 11t-28-11q-11-11-11-28t11-28l196-196-196-196q-11-11-11-28t11-28q11-11 28-11t28 11l196 196 196-196q11-11 28-11t28 11q11 11 11 28t-11 28L536-480l196 196q11 11 11 28t-11 28q-11 11-28 11t-28-11L480-424Z"})})})]}),u.jsx("div",{className:"body-container",ref:a,children:r.length>0&&u.jsx("div",{className:"app-content",children:r.map(p=>p)})}),u.jsx("div",{className:"buttons-container",children:o.map((p,d)=>{if(p)return u.jsx(te,{text:p.text,onClick:p.onClick,className:p.className,style:p.style,parameters:p.parameters,escape:p.escape},d)})})]})})};Kt.propTypes={title:E.string,message:E.string,className:E.string,buttons:E.array,additional_content:E.array,headerImageSrc:E.string,closeAtTop:E.bool,closeFunction:E.func};const Le=({type:t="text",placeholder:e="",value:n="",onChange:o=()=>{},className:r="",style:i={},parameters:s={}})=>r!="textarea"?u.jsx("input",{type:t,placeholder:e,defaultValue:n,onChange:o,className:`input ${r}`,style:i,...s}):u.jsx("textarea",{placeholder:e,defaultValue:n,onChange:o,className:`input ${r}`,style:i,...s});Le.propTypes={type:E.string,placeholder:E.string,value:E.string,onChange:E.func,className:E.string,style:E.object,parameters:E.object};const gi=(t,e=!1,n="Annuler")=>({text:n,onClick:()=>{t(e),document.body.classList.contains("idle")&&document.body.classList.remove("idle")},className:"secondary",style:{},escape:!0}),kc=()=>{const t=new Date(document.querySelector("#project_end").value).getTime()-new Date().getTime(),e=Math.floor(t/(1e3*60*60*24)),n=parseInt(document.querySelector("#project_length").value);document.querySelector("#date_informations").innerHTML=`${Math.round(n/e)} mots par jour`},Yl=({setState:t,update:e=!1,pj_id:n=null})=>{console.log("Attempting to update project",n);const[o,r]=F.useState(null),[i,s]=F.useState(!!(o&&o.end)),[l,a]=F.useState("https://via.placeholder.com/150");if(n&&!o){const f=JSON.parse(localStorage.getItem(ce)).projects.find(y=>y.id===n);console.log("Update: project is",f),r(f),a(f.image)}const c=()=>{const d=JSON.parse(localStorage.getItem(ce))||[],f={name:document.querySelector("#project_name").value,description:document.querySelector("#project_description").value,length:document.querySelector("#project_length").value,end:i?document.querySelector("#project_end").value:null,image:l,id:e?o.id:Vl(),chapters:e?o.chapters:[],stats:e?o.stats:{total:0,sessions:[]}};if(e){const y=d.projects.findIndex(v=>v.id===o.id);d.projects[y]=f}else d.projects.push(f);localStorage.setItem(ce,JSON.stringify(d)),t(!1)},p=d=>{const f=d.target.files[0],y=new FileReader;y.onloadend=()=>{a(y.result)},f&&f.size>200*8&&y.readAsDataURL(f)};if(e&&o||!e&&!o)return u.jsx(Kt,{title:e?`Modifier ${o.name}`:"Nouveau projet",message:e?"Modifier les informations du projet":"Créer un nouveau projet",showCloseButton:!0,className:"",buttons:[{text:e?"Modifier":"Ajouter",onClick:()=>{c()},className:"primary",style:{}},e?{text:"Supprimer",className:"secondary",style:{},parameters:{onDoubleClick:()=>{const d=JSON.parse(localStorage.getItem(ce)),f=d.projects.findIndex(y=>y.id===o.id);d.projects.splice(f,1),localStorage.setItem(ce,JSON.stringify(d)),t(!1)}}}:null,gi(t)],additional_content:[u.jsxs("div",{className:"field header-special",children:[u.jsxs("div",{className:"input",children:[u.jsx("label",{htmlFor:"project_name",children:"Nom du projet"}),u.jsx(Le,{type:"text",placeholder:"Nom du projet",value:e?o.name:"",onChange:()=>{},className:"",parameters:{id:"project_name"}})]}),u.jsxs("div",{className:"new-image",children:[u.jsx("div",{className:"image",onClick:()=>{document.querySelector(".fileAddition").click()},children:u.jsx("img",{src:l,alt:"project"})}),u.jsx(Le,{type:"file",placeholder:"Upload",onChange:p,className:"fileAddition",style:{},parameters:{accept:"image/*"}})]})]},1),u.jsxs("div",{className:"field",children:[u.jsx("label",{htmlFor:"project_description",children:"Description du projet"}),u.jsx(Le,{type:"text",placeholder:"Description du projet",value:e?o.description:"",onChange:()=>{},className:"textarea",parameters:{id:"project_description"}})]},2),u.jsxs("div",{className:"field",children:[u.jsx("label",{htmlFor:"project_length",children:"Longueur du projet"}),u.jsx(Le,{type:"number",placeholder:"1500",value:e?o.length:1e3,onChange:()=>kc(),className:"",style:{},parameters:{step:500,min:1e3,id:"project_length"}})]},3),u.jsx(te,{text:i||e&&o.end?"Annuler la fin du projet":"Définir la fin du projet",onClick:()=>s(!i),className:"primary"},4),u.jsxs("div",{className:`field ${i?"":"idle"}`,children:[u.jsx("label",{htmlFor:"project_end",children:"Fin du projet"}),u.jsxs("div",{className:"input-container",children:[u.jsx(Le,{type:"date",value:e?o.end:new Date().toISOString().split("T")[0],onChange:()=>kc(),className:"",parameters:{id:"project_end"}}),u.jsx("div",{id:"date_informations",className:"input-result-displayer"})]})]},5)]})};Yl.propTypes={setState:E.func,update:E.bool,pj_id:E.number};const Yd=({setDisplayUpdatePopUp:t,setProject:e,setDisplay:n,project:o,setViewProjectSelection:r,setSelectedProject:i})=>{const s=JSON.parse(localStorage.getItem(ce)).projects||[],[l,a]=F.useState(!1);return u.jsxs("div",{className:"projects-container",children:[l&&u.jsx(Yl,{setState:a,update:!0,pj_id:o}),s.map((c,p)=>u.jsxs("div",{className:"project",children:[u.jsx("div",{className:"image",children:u.jsx("img",{src:c.image,alt:"project"})}),u.jsxs("div",{className:"header",children:[u.jsx("div",{className:"name",children:c.name}),u.jsx("div",{className:"words",children:u.jsxs("div",{className:"written",children:[c.stats.total," / ",c.length]})})]}),u.jsxs("div",{className:"actions",children:[u.jsxs("div",{className:"actions-row",children:[u.jsx(te,{text:"Mettre à jour",onClick:()=>t(c),className:"primary width100"}),u.jsx(te,{icon:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path d="M480-320q75 0 127.5-52.5T660-500q0-75-52.5-127.5T480-680q-75 0-127.5 52.5T300-500q0 75 52.5 127.5T480-320Zm0-72q-45 0-76.5-31.5T372-500q0-45 31.5-76.5T480-608q45 0 76.5 31.5T588-500q0 45-31.5 76.5T480-392Zm0 192q-146 0-266-81.5T40-500q54-137 174-218.5T480-800q146 0 266 81.5T920-500q-54 137-174 218.5T480-200Z"/></svg>',onClick:()=>{n(!0),e(c)},className:"primary"}),u.jsx(te,{icon:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path d="M160-120q-17 0-28.5-11.5T120-160v-97q0-16 6-30.5t17-25.5l505-504q12-11 26.5-17t30.5-6q16 0 31 6t26 18l55 56q12 11 17.5 26t5.5 30q0 16-5.5 30.5T817-647L313-143q-11 11-25.5 17t-30.5 6h-97Zm544-528 56-56-56-56-56 56 56 56Z"/></svg>',className:"primary",onClick:()=>{r(!0),i(c)}})]}),u.jsx(te,{text:"Modifier",onClick:()=>{e(c.id),a(!0)},className:"secondary"})]})]},p))]})};Yd.propTypes={setDisplayUpdatePopUp:E.func,setProject:E.func,setDisplay:E.func,project:E.object,setViewProjectSelection:E.func,setSelectedProject:E.object};const wo={Heureux:"😄",Neutre:"😐",Triste:"😢",Confus:"😕","En colère":"😠"},Kd=({setState:t,project:e})=>{console.log("Attempting to update project",e);const[n,o]=F.useState("Heureux"),[r,i]=F.useState(!1),s=()=>{try{const l=parseInt(document.getElementById("words").value);if(isNaN(l)||l===0)i(!0);else{const a=JSON.parse(localStorage.getItem(ce)).projects,c=a.findIndex(x=>x.id==e.id),p=document.getElementById("date").value,d=document.getElementById("hours").value,f=document.getElementById("minutes").value,y=document.getElementById("notes").value,v={words:l,date:p,hours:d,minutes:f,mood:n,notes:y};a[c].stats.sessions.push(v),a[c].stats.total+=l,localStorage.setItem(ce,JSON.stringify({projects:a})),t(!1)}}catch(l){console.error(l)}};return u.jsx(Kt,{title:"Mettre à jour le projet",message:`Mettre à jour ${e.name}`,className:"",buttons:[{text:"Mettre à jour",onClick:()=>{s()},className:"primary"},gi(t,null)],additional_content:[u.jsxs("div",{className:"field",children:[u.jsx("label",{htmlFor:"project_name",children:"Nombre de mots écrits"}),u.jsx(Le,{type:"number",placeholder:"Nombre de mots",parameters:{id:"words",min:0},value:"0",onChange:()=>i(!1)}),r&&u.jsx("div",{className:"message-alert",children:"Veuillez entrer un nombre valide"})]},1),u.jsxs("div",{className:"field",children:[u.jsx("label",{htmlFor:"project_name",children:"Durée de la session"}),u.jsxs("div",{className:"hour-input",children:[u.jsx(Le,{type:"date",value:new Date().toISOString().split("T")[0],parameters:{id:"date"}}),u.jsx(Le,{type:"number",parameters:{min:0,max:23,id:"hours"},placeholder:"1",value:1}),u.jsx(Le,{type:"number",parameters:{min:0,max:59,id:"minutes"},placeholder:"30",value:"00"})]})]},2),u.jsxs("div",{className:"field",children:[u.jsx("label",{htmlFor:"project_name",children:"Votre état"}),u.jsx("div",{className:"moods",children:Object.keys(wo).map((l,a)=>u.jsxs("div",{style:{borderRadius:"10px"},className:`mood ${n==l?"selected":""}`,onClick:()=>o(l),children:[u.jsx("div",{className:"emoji",children:wo[l]}),u.jsx("div",{className:"name",children:l})]},a))})]},3),u.jsxs("div",{className:"field",children:[u.jsx("label",{htmlFor:"project_name",children:"Notes"}),u.jsx(Le,{type:"textarea",placeholder:"Entrez vos pensées relatives à cette session",className:"textarea",parameters:{id:"notes"}})]},4)]})};Kd.propTypes={setState:E.func,project:E.object};const wm=(t,e)=>{if(t){console.log("State1"),console.log(e);const o=t.getContext("2d"),r=e.stats.total,i=parseInt(e.length);let s=0;const l=[r,i];l.forEach(p=>s+=p);const a=[getComputedStyle(document.body).getPropertyValue("--app-second-hue"),getComputedStyle(document.body).getPropertyValue("--app-main-hue")];let c={start:0,end:0};for(var n=0;n<l.length;n++)o.fillStyle=a[n],o.beginPath(),o.moveTo(t.width/2,t.height/2),o.arc(t.width/2,t.height/2,t.height/2,c.end,c.end+Math.PI*2*(l[n]/s),!1),o.lineTo(t.width/2,t.height/2),o.fill(),c.end+=Math.PI*2*(l[n]/s)}},Zd=(t,e,n,o)=>{t.fillStyle="rgba(0,0,0,0.5)",t.beginPath(),t.moveTo(e,n-e),o.forEach(([r,i],s)=>{t.lineTo(r,i),s===o.length-1&&t.lineTo(r,n-e)}),t.closePath(),t.fill()},Qd=(t,e,n)=>{t.moveTo(0,0),t.lineTo(0,n),t.moveTo(0,n),t.lineTo(e,n),t.stroke()},Xd=(t,e,n,o,r,i,s,l)=>{const c=e+r*Math.min(i,5)+r*2,p=n-l/o*n+e;return t.fillStyle=s==null||s>0?"rgba(64, 156, 36,1)":"rgba(255,0,0,0.5)",t.beginPath(),t.arc(c,p,3,0,2*Math.PI),t.fill(),[c,p]},xm=(t,e,n,o)=>{if(t){t.addEventListener("mouseleave",()=>{n({})}),console.log("State2"),console.log(e);const r=e.stats.sessions,i=t.getContext("2d");i.clearRect(0,0,t.width,t.height),i.beginPath();const s=t.width,l=t.height,a=s/r.length-2,c=(y,v)=>y*3600+v*60,p=r.reduce((y,v)=>{const x=c(parseInt(v.hours),parseInt(v.minutes));return x>y?x:y},0);Qd(i,s,l);const d=1,f=[0];r.map((y,v)=>{const x=c(parseInt(y.hours),parseInt(y.minutes));let L=d+v*Math.min(a,5)+v*2,m=l-x/p*l+d,h=d+Math.min(a,5),g=x/p*l-d;if(o==="bars")i.fillStyle="rgba(255,255,255,0.5)",i.lineWidth=1,i.strokeRect(L,m,h,g);else if(o==="points"){const w=Xd(i,d,l,p,v,a,null,x);L=w[0],m=w[1]}else o=="area"&&Zd(i,d,l,r.map((w,S)=>{const N=c(parseInt(w.hours),parseInt(w.minutes)),I=d+S*Math.min(a,5)+S*2,b=l-N/p*l+d;return[I,b]}));t.addEventListener("mousemove",w=>{const S=t.getBoundingClientRect(),N=w.clientX-S.left,I=w.clientY-S.top;if(N>=L&&N<=L+h&&I>=m&&I<=m+g){const b=y.hours,B=y.minutes;t.style.cursor="pointer",n({hours:b,minutes:B,words:y.words,index:v+1,x:w.clientX,y:w.clientY,wordsAmount:f[v+1]})}}),f.push(f[v]+y.words)}),i.stroke()}},Gd=({words:t,length:e})=>{const n=Math.round(t*100/e);let r=n.toFixed(2);return r==n&&(r=n),u.jsx(u.Fragment,{children:u.jsxs("div",{className:"boxes-cube-big",children:[u.jsxs("div",{className:"box cube",id:"missing-words",children:[u.jsx("div",{className:"main",children:e-t}),u.jsxs("div",{className:"sub-text",children:["sur ",e]}),u.jsx("div",{className:"text",children:"mots restants"})]}),u.jsxs("div",{className:"box cube",children:[u.jsxs("div",{className:"main",children:[r,"%"]}),u.jsx("div",{className:"text",children:"accomplis"}),u.jsxs("div",{className:"sub-text",children:["Soit ",t," mot",e-t>1?"s":""," écrit",e-t>1?"s":""]})]})]})})};Gd.propTypes={words:E.number.isRequired,length:E.number.isRequired};const Jd=({sessions:t})=>{if(t){const e=Math.round(t.ratio);return u.jsxs("div",{className:"boxes-cube-big",children:[u.jsxs("div",{className:"box cube",children:[u.jsx("div",{className:"main",children:isNaN(e)?0:e}),u.jsxs("div",{className:"text",children:["mot",e>1?"s":""," par scéance"]})]}),u.jsxs("div",{className:"box cube",children:[u.jsx("div",{className:"main",children:t.number}),u.jsxs("div",{className:"text",children:["scéance",t.number>1?"s":""]})]})]})}};Jd.propTypes={sessions:E.object.isRequired};const eh=({mood:t})=>{if(t>=0)return u.jsxs("div",{className:"box display-row",id:"moods",children:[u.jsx("div",{className:"main",children:wo[Object.keys(wo)[t]]}),u.jsxs("div",{className:"text",children:["Vous avez été ",Object.keys(wo)[t].toLowerCase()," la plupart du temps"]})]})};eh.propTypes={mood:E.string.isRequired};const th=({project:t})=>{if(t.end){const e=new Date,o=new Date(t.end)-e,r=Math.floor(o/(1e3*60*60*24));return u.jsx("div",{className:"boxes-cube-big",children:u.jsxs("div",{className:"box cube",children:[u.jsx("div",{className:"main",children:r}),u.jsxs("div",{className:"sub-text",children:["jour",r>1?"s":""]}),u.jsxs("div",{className:"text",children:["restant",r>1?"s":""]})]})})}};th.propTypes={project:E.object.isRequired};const nh=({mostFeltMood:t,sessions:e,project:n})=>u.jsx("div",{className:"field",children:u.jsx("div",{className:"canvas-container",children:u.jsxs("div",{className:"main-stats",children:[u.jsxs("div",{className:"canvas display-column",children:[u.jsxs("div",{className:"canvas-container",children:[u.jsx("canvas",{id:"words_advancements",width:"200",height:"200"}),u.jsx("div",{className:"canvas-informations",children:u.jsxs("div",{className:"legends",children:[u.jsxs("div",{className:"legend",children:[u.jsx("div",{className:"color",style:{backgroundColor:getComputedStyle(document.body).getPropertyValue("--app-second-hue")}}),u.jsx("div",{className:"name",children:"Mots écrits"})]}),u.jsxs("div",{className:"legend",children:[u.jsx("div",{className:"color",style:{backgroundColor:getComputedStyle(document.body).getPropertyValue("--app-main-hue")}}),u.jsx("div",{className:"name",children:"Mots restants"})]})]})})]}),u.jsx("div",{className:"display-column",children:u.jsx(eh,{mood:t})})]}),u.jsx("div",{className:"info-boxes display-column",children:u.jsxs("div",{className:"display-row",children:[u.jsx(Jd,{sessions:e}),u.jsx(Gd,{words:n.stats.total,length:n.length}),u.jsx(th,{project:n})]})})]})})},1);nh.propTypes={mostFeltMood:E.number.isRequired,sessions:E.object.isRequired,project:E.object.isRequired};const oh=({canvasTimesHoverValues:t,setCanvasTimesType:e,canvasTimesType:n})=>u.jsxs("div",{className:"canvas",children:[u.jsxs("div",{className:"canvas-type-picker",children:[u.jsx(te,{onClick:()=>e("bars"),className:`${n==="bars"?"primary":"secondary hover-darker"}`,text:"Barres"}),u.jsx(te,{onClick:()=>e("area"),className:`${n==="area"?"primary":"secondary hover-darker"}`,text:"Zones"}),u.jsx(te,{onClick:()=>e("points"),className:`${n==="points"?"primary":"secondary hover-darker"}`,text:"Points"})]}),u.jsxs("div",{className:"canvas-container",children:[u.jsx("div",{className:"canvas-informations",children:u.jsx("div",{className:"chart-title",children:"Longueur des sessions"})}),u.jsx("canvas",{id:"sessions_time",width:"800",height:"400",style:{width:"800px",height:"400px"}}),t&&t.hours&&t.words&&t.wordsAmount&&t.x&&t.y&&t.index&&t.minutes?u.jsxs("div",{className:"canvas-hover",style:{left:t.x,top:t.y},children:[u.jsxs("div",{className:"session",children:["Scéance ",t.index]}),u.jsxs("div",{className:"hours",children:[t.hours,"h",t.minutes]}),u.jsxs("div",{className:"words",children:[u.jsxs("div",{className:"added",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 -960 960 960",width:"24",children:u.jsx("path",{d:"M440-440H200v-80h240v-240h80v240h240v80H520v240h-80v-240Z"})}),t.words," mot",t.words>1?"s":""]}),u.jsxs("div",{className:"growth",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 -960 960 960",width:"24",children:u.jsx("path",{d:"m136-240-56-56 296-298 160 160 208-206H640v-80h240v240h-80v-104L536-320 376-480 136-240Z"})}),t.wordsAmount]})]})]}):null]})]},2);oh.propTypes={canvasTimesHoverValues:E.shape({hours:E.number,words:E.number,wordsAmount:E.number,x:E.number,y:E.number,index:E.number,minutes:E.number}),setCanvasTimesType:E.func.isRequired,canvasTimesType:E.string.isRequired};const bm=(t,e,n,o)=>{if(t){t.addEventListener("mouseleave",()=>{n({})});const r=t.getContext("2d");r.clearRect(0,0,t.width,t.height),r.beginPath();const i=e.stats.sessions,s=t.width,l=t.height,a=s/i.length-2;Qd(r,s,l);const c=1,p=i.reduce((f,y)=>{const v=y.words;return v>f?v:f},0),d=[0];i.map((f,y)=>{let v=c+y*Math.min(a,5)+y*2,x=l-f.words/p*l+c,L=c+Math.min(a,5),m=f.words/p*l-c,h=Math.round(f.words/d[y]);if(f.words<d[y]&&(h=-h),o==="bars")r.fillStyle="rgba(255,255,255,0.5)",r.lineWidth=1,r.strokeRect(v,x,L,m);else if(o==="points"){const g=Xd(r,c,l,p,y,a,h,f.words);v=g[0],x=g[1]}else o=="area"&&Zd(r,c,l,i.map((g,w)=>{const S=c+w*Math.min(a,5)+w*2,N=l-g.words/p*l+c;return[S,N]}));t.addEventListener("mousemove",g=>{const w=t.getBoundingClientRect(),S=g.clientX-w.left,N=g.clientY-w.top;S>=v&&S<=v+L&&N>=x&&N<=x+m&&(t.style.cursor="pointer",n({mood:f.mood,date:f.date,words:f.words,hours:f.hours,minutes:f.minutes,x:g.clientX,y:g.clientY,index:y+1,notes:f.notes,ratio:h==1/0?0:h}))}),d.push(f.words)}),r.stroke()}},rh=({canvasWordsHoverValues:t,setCanvasWordsType:e,canvasWordsType:n})=>u.jsxs("div",{className:"canvas",children:[u.jsxs("div",{className:"canvas-type-picker",children:[u.jsx(te,{onClick:()=>e("bars"),className:`${n==="bars"?"primary":"secondary hover-darker"}`,text:"Barres"}),u.jsx(te,{onClick:()=>e("area"),className:`${n==="area"?"primary":"secondary hover-darker"}`,text:"Zones"}),u.jsx(te,{onClick:()=>e("points"),className:`${n==="points"?"primary":"secondary hover-darker"}`,text:"Points"})]}),u.jsxs("div",{className:"canvas-container",children:[u.jsx("div",{className:"canvas-informations",children:u.jsx("div",{className:"chart-title",children:"Progression des mots"})}),u.jsx("canvas",{id:"words_chart_advancements",width:"800",height:"400",style:{width:"800px",height:"400px"}}),t&&t.words&&t.x&&t.y&&t.index?u.jsxs("div",{className:"canvas-hover",style:{left:t.x,top:t.y},children:[u.jsxs("div",{className:"session",children:["Scéance ",t.index]}),u.jsx("div",{className:"date",children:t.date.replace(/-/g,"/")}),u.jsxs("div",{className:"words",children:[u.jsxs("div",{className:"added",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 -960 960 960",width:"24",children:u.jsx("path",{d:"M440-440H200v-80h240v-240h80v240h240v80H520v240h-80v-240Z"})}),t.words," mot",t.words>1?"s":""]}),u.jsxs("div",{className:"growth",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 -960 960 960",width:"24",children:u.jsx("path",{d:"m136-240-56-56 296-298 160 160 208-206H640v-80h240v240h-80v-104L536-320 376-480 136-240Z"})}),t.ratio>0?"+"+t.ratio:t.ratio,"%"]})]})]}):null]})]},3);rh.propTypes={canvasWordsHoverValues:E.shape({words:E.number,x:E.number,y:E.number,index:E.number,date:E.string,ratio:E.number}),setCanvasWordsType:E.func.isRequired,canvasWordsType:E.string.isRequired};const Yi={wordsProgress:function(t,e){wm(t,e)},sessionsTimes:function(t,e,n,o){xm(t,e,n,o)},wordsChart:function(t,e,n,o){bm(t,e,n,o)}},ih=({setProject:t,project:e,setDisplay:n,setDisplayUpdatePopUp:o})=>{const[r,i]=F.useState(-1),[s,l]=F.useState({}),[a,c]=F.useState(0),[p,d]=F.useState({}),[f,y]=F.useState({}),[v,x]=F.useState("bars"),[L,m]=F.useState("bars");return F.useEffect(()=>{if(e){const h=[];e.stats.sessions.forEach(g=>{const w=h.find(S=>S.id===g.mood);w?(w.nb++,h[h.indexOf(w)]=w):h.push({id:g.mood,nb:1})}),h.sort((g,w)=>w.nb-g.nb),console.log(h),h.length>=1&&i(h[0].id)}},[e,r]),F.useEffect(()=>{if(e){const h=document.getElementById("words_advancements"),g=document.getElementById("sessions_time"),w=document.getElementById("words_chart_advancements");Yi.wordsProgress(h,e),Yi.sessionsTimes(g,e,d,L),Yi.wordsChart(w,e,y,v),console.log(v);const S=e.stats.sessions.length;l({number:S,length:e.length,ratio:e.stats.total/S})}},[e,v,L]),F.useEffect(()=>{if(e){const h=new Date,g=e.stats.sessions.filter(w=>{const S=new Date(w.date);return S.getDate()===h.getDate()&&S.getMonth()===h.getMonth()&&S.getFullYear()===h.getFullYear()}).reduce((w,S)=>w+S.words,0);c(g)}},[e]),u.jsx(Kt,{title:`Progression de ${e.name}`,message:a===0?"Vous n'avez encore rien écrit aujourd'hui !":`Vous avez écrit ${a} mots aujourd'hui !`,className:"big align-center",closeAtTop:!0,closeFunction:()=>{t(""),n(!1)},headerImageSrc:e.image,additional_content:[u.jsxs("div",{className:"display-row top-actions-buttons",style:{marginTop:"5px"},children:[u.jsx(te,{onClick:()=>{o(e),n(!1)},text:"Mettre à jour le projet",className:"primary"}),e.stats.total>0?u.jsx(te,{onClick:()=>{n(!1),t("")},text:"Partager mes progrès",className:"secondary"}):null]},5),e.stats.total>0?u.jsxs("div",{className:"global",children:[u.jsx(nh,{mostFeltMood:r,sessions:s,project:e}),u.jsx(oh,{canvasTimesHoverValues:p,setCanvasTimesType:m,canvasTimesType:L}),u.jsx(rh,{canvasWordsHoverValues:f,setCanvasWordsType:x,canvasWordsType:v})]},1):u.jsxs("div",{className:"no-words",children:[u.jsx("div",{className:"main",children:"Vous n'avez pas encore écrit pour ce projet !"}),u.jsx("div",{className:"sub-main",children:"Mettez à jour votre projet pour commencer à suivre votre progression."})]}),u.jsx("div",{className:"space",style:{marginTop:"10px"}},4)]})};ih.propTypes={setProject:E.func,project:E.object,setDisplay:E.func,setDisplayUpdatePopUp:E.func};const sh=({setViewSearch:t,searchProjects:e,findProjects:n,searchInputRef:o,setDisplayUpdatePopUp:r})=>u.jsx(Kt,{setState:t,title:"Rechercher un projet",message:"Rechercher un projet par nom",additional_content:[u.jsxs("div",{className:"field",id:"resultsField",children:[u.jsxs("div",{className:"search-input",id:e.length===0?"":"searchInputResults",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 -960 960 960",width:"24",children:u.jsx("path",{d:"M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"})}),u.jsx("input",{ref:o,autoComplete:"off",onInput:n,id:"searchInput",type:"text",placeholder:"Rechercher un projet"})]}),e.length>0&&u.jsx("div",{className:"search-results",children:e.map((i,s)=>u.jsxs("div",{className:"search-result",onClick:()=>{t(!1),r(i)},children:[u.jsx("div",{className:"image",children:u.jsx("img",{src:i.image,alt:"project"})}),u.jsxs("div",{className:"main-informations",children:[u.jsx("div",{className:"name",children:i.name}),u.jsx("div",{className:"words",children:u.jsxs("div",{className:"written",children:[i.stats.total," / ",i.length]})})]})]},s))})]},0)],buttons:[gi(t,!1)]});sh.propTypes={setViewSearch:E.func.isRequired,searchProjects:E.array.isRequired,findProjects:E.func.isRequired,searchInputRef:E.object.isRequired,setDisplayUpdatePopUp:E.func.isRequired};const lh=({setInformationsView:t})=>u.jsx(Kt,{setState:t,title:"Informations",message:"Informations sur le projet WriPilTra de Naflouille Creations",className:"big alert informations-popup",closeAtTop:!0,closeFunction:t,additional_content:[u.jsx("div",{className:"field",children:u.jsxs("div",{className:"label-informations",children:[u.jsx("a",{href:"https://ko-fi.com/N4N0W3P7P",target:"_blank",children:u.jsx("img",{height:"70",src:"https://storage.ko-fi.com/cdn/kofi3.png?v=3",border:"0",alt:"Buy Me a Coffee at ko-fi.com"})},"ko-fi"),u.jsx("iframe",{src:"https://naflouille-creations.com/modules/sponsor/index.html",title:"Sponsor",width:"270",height:"90",style:{border:"none"}})]})},"labels"),u.jsxs("div",{className:"field",children:[u.jsx("div",{className:"title",children:"A propos"}),u.jsxs("div",{className:"description",children:[u.jsx("span",{children:" WriPilTra est un projet de Naflouille Creations sous licence All Rights Reserved. Il a pour but de vous aider à écrire vos projets en vous fournissant des outils pour suivre votre progression."}),u.jsxs("span",{children:["L'",u.jsx("a",{href:"https://wpt.naflouille-creations.com/",children:"accès"})," à WriPilTra est gratuit et sans publicité. Vous pouvez soutenir le projet en ",u.jsx("a",{href:"https://ko-fi.com/N4N0W3P7P",children:"achetant un café"})," ou en devenant sponsor."]})]})]},0),u.jsxs("div",{className:"field",children:[u.jsx("div",{className:"title",children:"Histoire"}),u.jsxs("div",{className:"description",children:[u.jsx("span",{children:"WriPilTra est un projet dont la volonté de création existe depuis quelques années. L'idée derrière sa création est la mise à disposition d'un outil simple, intuitif, facile d'utilisation, qui pourrait aider à la fois les écrivains avancés ou rédacteurs en tout genre."}),u.jsx("span",{children:"D'abord baptisé Linkel, l'ancien corps de projet a rapidement été supprimé du web, car il était conçu uniquement en Javscript, HTML, et CSS, produisant ainsi des résultats relativement passables, qui impactaient l'efficacité du produit et son ergonomie."}),u.jsx("span",{children:"Aujourd'ui, WriPilTra est à un stade terminal puisqu'il regroupe les principales fonctionnalités voulues pour un tel outil. Cependant, de nouveaux outils pourraient faire leur apparition plus tard."})]})]},1),u.jsxs("div",{className:"field",children:[u.jsx("div",{className:"title",children:"Données"}),u.jsxs("div",{className:"description",children:[u.jsx("span",{children:"Les données de WriPilTra sont stockées dans le navigateur de l'utilisateur. Cela signifie que les données sont stockées localement, et ne sont pas envoyées à un serveur. Cependant, les données peuvent être perdues si le cache du navigateur est vidé."}),u.jsx("span",{children:"Naflouille Creations, le fournisseur de service, ne peut être tenu responsable de la perte de données. Il est recommandé de sauvegarder régulièrement les données de WriPilTra. De même, l'organisation susnommée ne peut accéder à aucunes informations stockées dans le navigateur de l'utilisateur et sur sa session WilPilTra."}),u.jsx("span",{children:"Les changements à cette politique de données seront notifiés aux utilisateurs dans des délais raisonnables."})]})]},2)]});lh.propTypes={setInformationsView:E.func.isRequired};var Sm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ki(){}Object.assign(Ki,{default:Ki,register:Ki,revert:function(){},__esModule:!0});Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){const e=(this.document||this.ownerDocument).querySelectorAll(t);let n=e.length;for(;--n>=0&&e.item(n)!==this;);return n>-1});Element.prototype.closest||(Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(e!==null);return null});Element.prototype.prepend||(Element.prototype.prepend=function(t){const e=document.createDocumentFragment();Array.isArray(t)||(t=[t]),t.forEach(n=>{const o=n instanceof Node;e.appendChild(o?n:document.createTextNode(n))}),this.insertBefore(e,this.firstChild)});Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(t){t=arguments.length===0?!0:!!t;const e=this.parentNode,n=window.getComputedStyle(e,null),o=parseInt(n.getPropertyValue("border-top-width")),r=parseInt(n.getPropertyValue("border-left-width")),i=this.offsetTop-e.offsetTop<e.scrollTop,s=this.offsetTop-e.offsetTop+this.clientHeight-o>e.scrollTop+e.clientHeight,l=this.offsetLeft-e.offsetLeft<e.scrollLeft,a=this.offsetLeft-e.offsetLeft+this.clientWidth-r>e.scrollLeft+e.clientWidth,c=i&&!s;(i||s)&&t&&(e.scrollTop=this.offsetTop-e.offsetTop-e.clientHeight/2-o+this.clientHeight/2),(l||a)&&t&&(e.scrollLeft=this.offsetLeft-e.offsetLeft-e.clientWidth/2-r+this.clientWidth/2),(i||s||l||a)&&!t&&this.scrollIntoView(c)});window.requestIdleCallback=window.requestIdleCallback||function(t){const e=Date.now();return setTimeout(function(){t({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})},1)};window.cancelIdleCallback=window.cancelIdleCallback||function(t){clearTimeout(t)};let Em=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var ah=(t=>(t.VERBOSE="VERBOSE",t.INFO="INFO",t.WARN="WARN",t.ERROR="ERROR",t))(ah||{});const A={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},Cm={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};function Yo(t,e,n="log",o,r="color: inherit"){if(!("console"in window)||!window.console[n])return;const i=["info","log","warn","error"].includes(n),s=[];switch(Yo.logLevel){case"ERROR":if(n!=="error")return;break;case"WARN":if(!["error","warn"].includes(n))return;break;case"INFO":if(!i||t)return;break}o&&s.push(o);const l="Editor.js 2.29.1";t&&(i?(s.unshift(`line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`,r),e=`%c${l}%c ${e}`):e=`( ${l} )${e}`);try{i?o?console[n](`${e} %o`,...s):console[n](e,...s):console[n](e)}catch{}}Yo.logLevel="VERBOSE";function Tm(t){Yo.logLevel=t}const W=Yo.bind(window,!1),ot=Yo.bind(window,!0);function hn(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function Q(t){return hn(t)==="function"||hn(t)==="asyncfunction"}function we(t){return hn(t)==="object"}function qt(t){return hn(t)==="string"}function Bm(t){return hn(t)==="boolean"}function wc(t){return hn(t)==="number"}function xc(t){return hn(t)==="undefined"}function Ge(t){return t?Object.keys(t).length===0&&t.constructor===Object:!0}function ch(t){return t>47&&t<58||t===32||t===13||t===229||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223}async function Nm(t,e=()=>{},n=()=>{}){async function o(r,i,s){try{await r.function(r.data),await i(xc(r.data)?{}:r.data)}catch{s(xc(r.data)?{}:r.data)}}return t.reduce(async(r,i)=>(await r,o(i,e,n)),Promise.resolve())}function uh(t){return Array.prototype.slice.call(t)}function Gr(t,e){return function(){const n=this,o=arguments;window.setTimeout(()=>t.apply(n,o),e)}}function Im(t){return t.name.split(".").pop()}function _m(t){return/^[-\w]+\/([-+\w]+|\*)$/.test(t)}function bc(t,e,n){let o;return(...r)=>{const i=this,s=()=>{o=null,n||t.apply(i,r)},l=n&&!o;window.clearTimeout(o),o=window.setTimeout(s,e),l&&t.apply(i,r)}}function Hs(t,e,n=void 0){let o,r,i,s=null,l=0;n||(n={});const a=function(){l=n.leading===!1?0:Date.now(),s=null,i=t.apply(o,r),s||(o=r=null)};return function(){const c=Date.now();!l&&n.leading===!1&&(l=c);const p=e-(c-l);return o=this,r=arguments,p<=0||p>e?(s&&(clearTimeout(s),s=null),l=c,i=t.apply(o,r),s||(o=r=null)):!s&&n.trailing!==!1&&(s=setTimeout(a,p)),i}}function Mm(){const t={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(t).find(n=>window.navigator.appVersion.toLowerCase().indexOf(n)!==-1);return e&&(t[e]=!0),t}function qn(t){return t[0].toUpperCase()+t.slice(1)}function qs(t,...e){if(!e.length)return t;const n=e.shift();if(we(t)&&we(n))for(const o in n)we(n[o])?(t[o]||Object.assign(t,{[o]:{}}),qs(t[o],n[o])):Object.assign(t,{[o]:n[o]});return qs(t,...e)}function vi(t){const e=Mm();return t=t.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi," + "),e.mac?t=t.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):t=t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),t}function Lm(t){try{return new URL(t).href}catch{}return t.substring(0,2)==="//"?window.location.protocol+t:window.location.origin+t}function Om(){return Em(10)}function jm(t){window.open(t,"_blank")}function Am(t=""){return`${t}${Math.floor(Math.random()*1e8).toString(16)}`}function Ws(t,e,n){const o=`«${e}» is deprecated and will be removed in the next major release. Please use the «${n}» instead.`;t&&ot(o,"warn")}function Zn(t,e,n){const o=n.value?"value":"get",r=n[o],i=`#${e}Cache`;if(n[o]=function(...s){return this[i]===void 0&&(this[i]=r.apply(this,...s)),this[i]},o==="get"&&n.set){const s=n.set;n.set=function(l){delete t[i],s.apply(this,l)}}return n}const dh=650;function sn(){return window.matchMedia(`(max-width: ${dh}px)`).matches}const Sc=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function Pm(t,e){const n=Array.isArray(t)||we(t),o=Array.isArray(e)||we(e);return n||o?JSON.stringify(t)===JSON.stringify(e):t===e}class k{static isSingleTag(e){return e.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)}static isLineBreakTag(e){return e&&e.tagName&&["BR","WBR"].includes(e.tagName)}static make(e,n=null,o={}){const r=document.createElement(e);Array.isArray(n)?r.classList.add(...n):n&&r.classList.add(n);for(const i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i]);return r}static text(e){return document.createTextNode(e)}static append(e,n){Array.isArray(n)?n.forEach(o=>e.appendChild(o)):e.appendChild(n)}static prepend(e,n){Array.isArray(n)?(n=n.reverse(),n.forEach(o=>e.prepend(o))):e.prepend(n)}static swap(e,n){const o=document.createElement("div"),r=e.parentNode;r.insertBefore(o,e),r.insertBefore(e,n),r.insertBefore(n,o),r.removeChild(o)}static find(e=document,n){return e.querySelector(n)}static get(e){return document.getElementById(e)}static findAll(e=document,n){return e.querySelectorAll(n)}static get allInputsSelector(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(e=>`input[type="${e}"]`).join(", ")}static findAllInputs(e){return uh(e.querySelectorAll(k.allInputsSelector)).reduce((n,o)=>k.isNativeInput(o)||k.containsOnlyInlineElements(o)?[...n,o]:[...n,...k.getDeepestBlockElements(o)],[])}static getDeepestNode(e,n=!1){const o=n?"lastChild":"firstChild",r=n?"previousSibling":"nextSibling";if(e&&e.nodeType===Node.ELEMENT_NODE&&e[o]){let i=e[o];if(k.isSingleTag(i)&&!k.isNativeInput(i)&&!k.isLineBreakTag(i))if(i[r])i=i[r];else if(i.parentNode[r])i=i.parentNode[r];else return i.parentNode;return this.getDeepestNode(i,n)}return e}static isElement(e){return wc(e)?!1:e&&e.nodeType&&e.nodeType===Node.ELEMENT_NODE}static isFragment(e){return wc(e)?!1:e&&e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}static isContentEditable(e){return e.contentEditable==="true"}static isNativeInput(e){const n=["INPUT","TEXTAREA"];return e&&e.tagName?n.includes(e.tagName):!1}static canSetCaret(e){let n=!0;if(k.isNativeInput(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":n=!1;break}else n=k.isContentEditable(e);return n}static isNodeEmpty(e,n){let o;return this.isSingleTag(e)&&!this.isLineBreakTag(e)?!1:(this.isElement(e)&&this.isNativeInput(e)?o=e.value:o=e.textContent.replace("​",""),n&&(o=o.replace(new RegExp(n,"g"),"")),o.trim().length===0)}static isLeaf(e){return e?e.childNodes.length===0:!1}static isEmpty(e,n){e.normalize();const o=[e];for(;o.length>0;)if(e=o.shift(),!!e){if(this.isLeaf(e)&&!this.isNodeEmpty(e,n))return!1;e.childNodes&&o.push(...Array.from(e.childNodes))}return!0}static isHTMLString(e){const n=k.make("div");return n.innerHTML=e,n.childElementCount>0}static getContentLength(e){return k.isNativeInput(e)?e.value.length:e.nodeType===Node.TEXT_NODE?e.length:e.textContent.length}static get blockElements(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}static containsOnlyInlineElements(e){let n;qt(e)?(n=document.createElement("div"),n.innerHTML=e):n=e;const o=r=>!k.blockElements.includes(r.tagName.toLowerCase())&&Array.from(r.children).every(o);return Array.from(n.children).every(o)}static getDeepestBlockElements(e){return k.containsOnlyInlineElements(e)?[e]:Array.from(e.children).reduce((n,o)=>[...n,...k.getDeepestBlockElements(o)],[])}static getHolder(e){return qt(e)?document.getElementById(e):e}static isAnchor(e){return e.tagName.toLowerCase()==="a"}static offset(e){const n=e.getBoundingClientRect(),o=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop,i=n.top+r,s=n.left+o;return{top:i,left:s,bottom:i+n.height,right:s+n.width}}}const Rm={blockTunes:{toggler:{"Click to tune":"","or drag to move":""}},inlineToolbar:{converter:{"Convert to":""}},toolbar:{toolbox:{Add:""}},popover:{Filter:"","Nothing found":""}},Dm={Text:"",Link:"",Bold:"",Italic:""},Fm={link:{"Add a link":""},stub:{"The block can not be displayed correctly.":""}},zm={delete:{Delete:"","Click to delete":""},moveUp:{"Move up":""},moveDown:{"Move down":""}},hh={ui:Rm,toolNames:Dm,tools:Fm,blockTunes:zm},gn=class{static ui(t,e){return gn._t(t,e)}static t(t,e){return gn._t(t,e)}static setDictionary(t){gn.currentDictionary=t}static _t(t,e){const n=gn.getNamespace(t);return!n||!n[e]?e:n[e]}static getNamespace(t){return t.split(".").reduce((e,n)=>!e||!Object.keys(e).length?{}:e[n],gn.currentDictionary)}};let je=gn;je.currentDictionary=hh;class ph extends Error{}class yi{constructor(){this.subscribers={}}on(e,n){e in this.subscribers||(this.subscribers[e]=[]),this.subscribers[e].push(n)}once(e,n){e in this.subscribers||(this.subscribers[e]=[]);const o=r=>{const i=n(r),s=this.subscribers[e].indexOf(o);return s!==-1&&this.subscribers[e].splice(s,1),i};this.subscribers[e].push(o)}emit(e,n){Ge(this.subscribers)||!this.subscribers[e]||this.subscribers[e].reduce((o,r)=>{const i=r(o);return i!==void 0?i:o},n)}off(e,n){if(this.subscribers[e]===void 0){console.warn(`EventDispatcher .off(): there is no subscribers for event "${e.toString()}". Probably, .off() called before .on()`);return}for(let o=0;o<this.subscribers[e].length;o++)if(this.subscribers[e][o]===n){delete this.subscribers[e][o];break}}destroy(){this.subscribers={}}}function Jt(t){Object.setPrototypeOf(this,{get id(){return t.id},get name(){return t.name},get config(){return t.config},get holder(){return t.holder},get isEmpty(){return t.isEmpty},get selected(){return t.selected},set stretched(e){t.stretched=e},get stretched(){return t.stretched},get focusable(){return t.focusable},call(e,n){return t.call(e,n)},save(){return t.save()},validate(e){return t.validate(e)},dispatchChange(){t.dispatchChange()}})}class Zl{constructor(){this.allListeners=[]}on(e,n,o,r=!1){const i=Am("l"),s={id:i,element:e,eventType:n,handler:o,options:r};if(!this.findOne(e,n,o))return this.allListeners.push(s),e.addEventListener(n,o,r),i}off(e,n,o,r){const i=this.findAll(e,n,o);i.forEach((s,l)=>{const a=this.allListeners.indexOf(i[l]);a>-1&&(this.allListeners.splice(a,1),s.element.removeEventListener(s.eventType,s.handler,s.options))})}offById(e){const n=this.findById(e);n&&n.element.removeEventListener(n.eventType,n.handler,n.options)}findOne(e,n,o){const r=this.findAll(e,n,o);return r.length>0?r[0]:null}findAll(e,n,o){let r;const i=e?this.findByEventTarget(e):[];return e&&n&&o?r=i.filter(s=>s.eventType===n&&s.handler===o):e&&n?r=i.filter(s=>s.eventType===n):r=i,r}removeAll(){this.allListeners.map(e=>{e.element.removeEventListener(e.eventType,e.handler,e.options)}),this.allListeners=[]}destroy(){this.removeAll()}findByEventTarget(e){return this.allListeners.filter(n=>{if(n.element===e)return n})}findByType(e){return this.allListeners.filter(n=>{if(n.eventType===e)return n})}findByHandler(e){return this.allListeners.filter(n=>{if(n.handler===e)return n})}findById(e){return this.allListeners.find(n=>n.id===e)}}class H{constructor({config:e,eventsDispatcher:n}){if(this.nodes={},this.listeners=new Zl,this.readOnlyMutableListeners={on:(o,r,i,s=!1)=>{this.mutableListenerIds.push(this.listeners.on(o,r,i,s))},clearAll:()=>{for(const o of this.mutableListenerIds)this.listeners.offById(o);this.mutableListenerIds=[]}},this.mutableListenerIds=[],new.target===H)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=e,this.eventsDispatcher=n}set state(e){this.Editor=e}removeAllNodes(){for(const e in this.nodes){const n=this.nodes[e];n instanceof HTMLElement&&n.remove()}}get isRtl(){return this.config.i18n.direction==="rtl"}}class O{constructor(){this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}static get anchorNode(){const e=window.getSelection();return e?e.anchorNode:null}static get anchorElement(){const e=window.getSelection();if(!e)return null;const n=e.anchorNode;return n?k.isElement(n)?n:n.parentElement:null}static get anchorOffset(){const e=window.getSelection();return e?e.anchorOffset:null}static get isCollapsed(){const e=window.getSelection();return e?e.isCollapsed:null}static get isAtEditor(){return this.isSelectionAtEditor(O.get())}static isSelectionAtEditor(e){if(!e)return!1;let n=e.anchorNode||e.focusNode;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let o=null;return n&&n instanceof Element&&(o=n.closest(`.${O.CSS.editorZone}`)),o?o.nodeType===Node.ELEMENT_NODE:!1}static isRangeAtEditor(e){if(!e)return;let n=e.startContainer;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let o=null;return n&&n instanceof Element&&(o=n.closest(`.${O.CSS.editorZone}`)),o?o.nodeType===Node.ELEMENT_NODE:!1}static get isSelectionExists(){return!!O.get().anchorNode}static get range(){return this.getRangeFromSelection(this.get())}static getRangeFromSelection(e){return e&&e.rangeCount?e.getRangeAt(0):null}static get rect(){let e=document.selection,n,o={x:0,y:0,width:0,height:0};if(e&&e.type!=="Control")return e=e,n=e.createRange(),o.x=n.boundingLeft,o.y=n.boundingTop,o.width=n.boundingWidth,o.height=n.boundingHeight,o;if(!window.getSelection)return W("Method window.getSelection is not supported","warn"),o;if(e=window.getSelection(),e.rangeCount===null||isNaN(e.rangeCount))return W("Method SelectionUtils.rangeCount is not supported","warn"),o;if(e.rangeCount===0)return o;if(n=e.getRangeAt(0).cloneRange(),n.getBoundingClientRect&&(o=n.getBoundingClientRect()),o.x===0&&o.y===0){const r=document.createElement("span");if(r.getBoundingClientRect){r.appendChild(document.createTextNode("​")),n.insertNode(r),o=r.getBoundingClientRect();const i=r.parentNode;i.removeChild(r),i.normalize()}}return o}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(e,n=0){const o=document.createRange(),r=window.getSelection();return k.isNativeInput(e)?k.canSetCaret(e)?(e.focus(),e.selectionStart=e.selectionEnd=n,e.getBoundingClientRect()):void 0:(o.setStart(e,n),o.setEnd(e,n),r.removeAllRanges(),r.addRange(o),o.getBoundingClientRect())}static isRangeInsideContainer(e){const n=O.range;return n===null?!1:e.contains(n.startContainer)}static addFakeCursor(){const e=O.range;if(e===null)return;const n=k.make("span","codex-editor__fake-cursor");n.dataset.mutationFree="true",e.collapse(),e.insertNode(n)}static isFakeCursorInsideContainer(e){return k.find(e,".codex-editor__fake-cursor")!==null}static removeFakeCursor(e=document.body){const n=k.find(e,".codex-editor__fake-cursor");n&&n.remove()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=O.range}restore(){if(!this.savedSelectionRange)return;const e=window.getSelection();e.removeAllRanges(),e.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){const e=window.getSelection(),n=document.createRange();n.selectNodeContents(e.focusNode),n.collapse(!1),e.removeAllRanges(),e.addRange(n)}findParentTag(e,n,o=10){const r=window.getSelection();let i=null;return!r||!r.anchorNode||!r.focusNode?null:([r.anchorNode,r.focusNode].forEach(s=>{let l=o;for(;l>0&&s.parentNode&&!(s.tagName===e&&(i=s,n&&s.classList&&!s.classList.contains(n)&&(i=null),i));)s=s.parentNode,l--}),i)}expandToTag(e){const n=window.getSelection();n.removeAllRanges();const o=document.createRange();o.selectNodeContents(e),n.addRange(o)}}function $m(t,e){const{type:n,target:o,addedNodes:r,removedNodes:i}=t;if(o===e)return!0;if(["characterData","attributes"].includes(n)){const a=o.nodeType===Node.TEXT_NODE?o.parentNode:o;return e.contains(a)}const s=Array.from(r).some(a=>e.contains(a)),l=Array.from(i).some(a=>e.contains(a));return s||l}const Vs="redactor dom changed",fh="block changed",mh="fake cursor is about to be toggled",gh="fake cursor have been set";function Ec(t,e){return t.mergeable&&t.name===e.name}function Um(t,e){const n=e==null?void 0:e.export;return Q(n)?n(t):qt(n)?t[n]:(n!==void 0&&W("Conversion «export» property must be a string or function. String means key of saved data object to export. Function should export processed string to export."),"")}function Hm(t,e){const n=e==null?void 0:e.import;return Q(n)?n(t):qt(n)?{[n]:t}:(n!==void 0&&W("Conversion «import» property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."),{})}var gt=(t=>(t.APPEND_CALLBACK="appendCallback",t.RENDERED="rendered",t.MOVED="moved",t.UPDATED="updated",t.REMOVED="removed",t.ON_PASTE="onPaste",t))(gt||{});class ye extends yi{constructor({id:e=Om(),data:n,tool:o,api:r,readOnly:i,tunesData:s},l){super(),this.cachedInputs=[],this.toolRenderedElement=null,this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.editorEventBus=null,this.handleFocus=()=>{this.dropInputsCache(),this.updateCurrentInput()},this.didMutated=(a=void 0)=>{const c=a===void 0,p=a instanceof InputEvent;!c&&!p&&this.detectToolRootChange(a);let d;c||p?d=!0:d=!(a.length>0&&a.every(f=>{const{addedNodes:y,removedNodes:v,target:x}=f;return[...Array.from(y),...Array.from(v),x].some(L=>(k.isElement(L)||(L=L.parentElement),L&&L.closest('[data-mutation-free="true"]')!==null))})),d&&(this.dropInputsCache(),this.updateCurrentInput(),this.call("updated"),this.emit("didMutated",this))},this.name=o.name,this.id=e,this.settings=o.settings,this.config=o.settings.config||{},this.api=r,this.editorEventBus=l||null,this.blockAPI=new Jt(this),this.tool=o,this.toolInstance=o.create(n,this.blockAPI,i),this.tunes=o.tunes,this.composeTunes(s),this.holder=this.compose(),window.requestIdleCallback(()=>{this.watchBlockMutations(),this.addInputEvents()})}static get CSS(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}get inputs(){if(this.cachedInputs.length!==0)return this.cachedInputs;const e=k.findAllInputs(this.holder);return this.inputIndex>e.length-1&&(this.inputIndex=e.length-1),this.cachedInputs=e,e}get currentInput(){return this.inputs[this.inputIndex]}set currentInput(e){const n=this.inputs.findIndex(o=>o===e||o.contains(e));n!==-1&&(this.inputIndex=n)}get firstInput(){return this.inputs[0]}get lastInput(){const e=this.inputs;return e[e.length-1]}get nextInput(){return this.inputs[this.inputIndex+1]}get previousInput(){return this.inputs[this.inputIndex-1]}get data(){return this.save().then(e=>e&&!Ge(e.data)?e.data:{})}get sanitize(){return this.tool.sanitizeConfig}get mergeable(){return Q(this.toolInstance.merge)}get focusable(){return this.inputs.length!==0}get isEmpty(){const e=k.isEmpty(this.pluginsContent,"/"),n=!this.hasMedia;return e&&n}get hasMedia(){const e=["img","iframe","video","audio","source","input","textarea","twitterwidget"];return!!this.holder.querySelector(e.join(","))}set selected(e){var n,o;this.holder.classList.toggle(ye.CSS.selected,e);const r=e===!0&&O.isRangeInsideContainer(this.holder),i=e===!1&&O.isFakeCursorInsideContainer(this.holder);(r||i)&&((n=this.editorEventBus)==null||n.emit(mh,{state:e}),r?O.addFakeCursor():O.removeFakeCursor(this.holder),(o=this.editorEventBus)==null||o.emit(gh,{state:e}))}get selected(){return this.holder.classList.contains(ye.CSS.selected)}set stretched(e){this.holder.classList.toggle(ye.CSS.wrapperStretched,e)}get stretched(){return this.holder.classList.contains(ye.CSS.wrapperStretched)}set dropTarget(e){this.holder.classList.toggle(ye.CSS.dropTarget,e)}get pluginsContent(){return this.toolRenderedElement}call(e,n){if(Q(this.toolInstance[e])){e==="appendCallback"&&W("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[e].call(this.toolInstance,n)}catch(o){W(`Error during '${e}' call: ${o.message}`,"error")}}}async mergeWith(e){await this.toolInstance.merge(e)}async save(){const e=await this.toolInstance.save(this.pluginsContent),n=this.unavailableTunesData;[...this.tunesInstances.entries(),...this.defaultTunesInstances.entries()].forEach(([i,s])=>{if(Q(s.save))try{n[i]=s.save()}catch(l){W(`Tune ${s.constructor.name} save method throws an Error %o`,"warn",l)}});const o=window.performance.now();let r;return Promise.resolve(e).then(i=>(r=window.performance.now(),{id:this.id,tool:this.name,data:i,tunes:n,time:r-o})).catch(i=>{W(`Saving process for ${this.name} tool failed due to the ${i}`,"log","red")})}async validate(e){let n=!0;return this.toolInstance.validate instanceof Function&&(n=await this.toolInstance.validate(e)),n}getTunes(){const e=document.createElement("div"),n=[],o=typeof this.toolInstance.renderSettings=="function"?this.toolInstance.renderSettings():[],r=[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].map(i=>i.render());return[o,r].flat().forEach(i=>{k.isElement(i)?e.appendChild(i):Array.isArray(i)?n.push(...i):n.push(i)}),[n,e]}updateCurrentInput(){this.currentInput=k.isNativeInput(document.activeElement)||!O.anchorNode?document.activeElement:O.anchorNode}dispatchChange(){this.didMutated()}destroy(){this.unwatchBlockMutations(),this.removeInputEvents(),super.destroy(),Q(this.toolInstance.destroy)&&this.toolInstance.destroy()}async getActiveToolboxEntry(){const e=this.tool.toolbox;if(e.length===1)return Promise.resolve(this.tool.toolbox[0]);const n=await this.data;return e.find(o=>Object.entries(o.data).some(([r,i])=>n[r]&&Pm(n[r],i)))}async exportDataAsString(){const e=await this.data;return Um(e,this.tool.conversionConfig)}compose(){const e=k.make("div",ye.CSS.wrapper),n=k.make("div",ye.CSS.content),o=this.toolInstance.render();e.dataset.id=this.id,this.toolRenderedElement=o,n.appendChild(this.toolRenderedElement);let r=n;return[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].forEach(i=>{if(Q(i.wrap))try{r=i.wrap(r)}catch(s){W(`Tune ${i.constructor.name} wrap method throws an Error %o`,"warn",s)}}),e.appendChild(r),e}composeTunes(e){Array.from(this.tunes.values()).forEach(n=>{(n.isInternal?this.defaultTunesInstances:this.tunesInstances).set(n.name,n.create(e[n.name],this.blockAPI))}),Object.entries(e).forEach(([n,o])=>{this.tunesInstances.has(n)||(this.unavailableTunesData[n]=o)})}addInputEvents(){this.inputs.forEach(e=>{e.addEventListener("focus",this.handleFocus),k.isNativeInput(e)&&e.addEventListener("input",this.didMutated)})}removeInputEvents(){this.inputs.forEach(e=>{e.removeEventListener("focus",this.handleFocus),k.isNativeInput(e)&&e.removeEventListener("input",this.didMutated)})}watchBlockMutations(){var e;this.redactorDomChangedCallback=n=>{const{mutations:o}=n;o.some(r=>$m(r,this.toolRenderedElement))&&this.didMutated(o)},(e=this.editorEventBus)==null||e.on(Vs,this.redactorDomChangedCallback)}unwatchBlockMutations(){var e;(e=this.editorEventBus)==null||e.off(Vs,this.redactorDomChangedCallback)}detectToolRootChange(e){e.forEach(n=>{if(Array.from(n.removedNodes).includes(this.toolRenderedElement)){const o=n.addedNodes[n.addedNodes.length-1];this.toolRenderedElement=o}})}dropInputsCache(){this.cachedInputs=[]}}class qm extends H{constructor(){super(...arguments),this.insert=(e=this.config.defaultBlock,n={},o={},r,i,s,l)=>{const a=this.Editor.BlockManager.insert({id:l,tool:e,data:n,index:r,needToFocus:i,replace:s});return new Jt(a)},this.composeBlockData=async e=>{const n=this.Editor.Tools.blockTools.get(e);return new ye({tool:n,api:this.Editor.API,readOnly:!0,data:{},tunesData:{}}).data},this.update=async(e,n)=>{const{BlockManager:o}=this.Editor,r=o.getBlockById(e);if(r===void 0)throw new Error(`Block with id "${e}" not found`);const i=await o.update(r,n);return new Jt(i)},this.convert=(e,n,o)=>{var r,i;const{BlockManager:s,Tools:l}=this.Editor,a=s.getBlockById(e);if(!a)throw new Error(`Block with id "${e}" not found`);const c=l.blockTools.get(a.name),p=l.blockTools.get(n);if(!p)throw new Error(`Block Tool with type "${n}" not found`);const d=((r=c==null?void 0:c.conversionConfig)==null?void 0:r.export)!==void 0,f=((i=p.conversionConfig)==null?void 0:i.import)!==void 0;if(d&&f)s.convert(a,n,o);else{const y=[d?!1:qn(a.name),f?!1:qn(n)].filter(Boolean).join(" and ");throw new Error(`Conversion from "${a.name}" to "${n}" is not possible. ${y} tool(s) should provide a "conversionConfig"`)}},this.insertMany=(e,n=this.Editor.BlockManager.blocks.length-1)=>{this.validateIndex(n);const o=e.map(({id:r,type:i,data:s})=>this.Editor.BlockManager.composeBlock({id:r,tool:i||this.config.defaultBlock,data:s}));return this.Editor.BlockManager.insertMany(o,n),o.map(r=>new Jt(r))}}get methods(){return{clear:()=>this.clear(),render:e=>this.render(e),renderFromHTML:e=>this.renderFromHTML(e),delete:e=>this.delete(e),swap:(e,n)=>this.swap(e,n),move:(e,n)=>this.move(e,n),getBlockByIndex:e=>this.getBlockByIndex(e),getById:e=>this.getById(e),getCurrentBlockIndex:()=>this.getCurrentBlockIndex(),getBlockIndex:e=>this.getBlockIndex(e),getBlocksCount:()=>this.getBlocksCount(),stretchBlock:(e,n=!0)=>this.stretchBlock(e,n),insertNewBlock:()=>this.insertNewBlock(),insert:this.insert,insertMany:this.insertMany,update:this.update,composeBlockData:this.composeBlockData,convert:this.convert}}getBlocksCount(){return this.Editor.BlockManager.blocks.length}getCurrentBlockIndex(){return this.Editor.BlockManager.currentBlockIndex}getBlockIndex(e){const n=this.Editor.BlockManager.getBlockById(e);if(!n){ot("There is no block with id `"+e+"`","warn");return}return this.Editor.BlockManager.getBlockIndex(n)}getBlockByIndex(e){const n=this.Editor.BlockManager.getBlockByIndex(e);if(n===void 0){ot("There is no block at index `"+e+"`","warn");return}return new Jt(n)}getById(e){const n=this.Editor.BlockManager.getBlockById(e);return n===void 0?(ot("There is no block with id `"+e+"`","warn"),null):new Jt(n)}swap(e,n){W("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(e,n)}move(e,n){this.Editor.BlockManager.move(e,n)}delete(e=this.Editor.BlockManager.currentBlockIndex){try{const n=this.Editor.BlockManager.getBlockByIndex(e);this.Editor.BlockManager.removeBlock(n)}catch(n){ot(n,"warn");return}this.Editor.BlockManager.blocks.length===0&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}async clear(){await this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}async render(e){if(e===void 0||e.blocks===void 0)throw new Error("Incorrect data passed to the render() method");this.Editor.ModificationsObserver.disable(),await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(e.blocks),this.Editor.ModificationsObserver.enable()}renderFromHTML(e){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(e,!0)}stretchBlock(e,n=!0){Ws(!0,"blocks.stretchBlock()","BlockAPI");const o=this.Editor.BlockManager.getBlockByIndex(e);o&&(o.stretched=n)}insertNewBlock(){W("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}validateIndex(e){if(typeof e!="number")throw new Error("Index should be a number");if(e<0)throw new Error("Index should be greater than or equal to 0");if(e===null)throw new Error("Index should be greater than or equal to 0")}}class Wm extends H{constructor(){super(...arguments),this.setToFirstBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.firstBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock,e,n),!0):!1,this.setToLastBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.lastBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock,e,n),!0):!1,this.setToPreviousBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.previousBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock,e,n),!0):!1,this.setToNextBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.nextBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock,e,n),!0):!1,this.setToBlock=(e,n=this.Editor.Caret.positions.DEFAULT,o=0)=>this.Editor.BlockManager.blocks[e]?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.blocks[e],n,o),!0):!1,this.focus=(e=!1)=>e?this.setToLastBlock(this.Editor.Caret.positions.END):this.setToFirstBlock(this.Editor.Caret.positions.START)}get methods(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}class Vm extends H{get methods(){return{emit:(e,n)=>this.emit(e,n),off:(e,n)=>this.off(e,n),on:(e,n)=>this.on(e,n)}}on(e,n){this.eventsDispatcher.on(e,n)}emit(e,n){this.eventsDispatcher.emit(e,n)}off(e,n){this.eventsDispatcher.off(e,n)}}class Ql extends H{static getNamespace(e){return e.isTune()?`blockTunes.${e.name}`:`tools.${e.name}`}get methods(){return{t:()=>{ot("I18n.t() method can be accessed only from Tools","warn")}}}getMethodsForTool(e){return Object.assign(this.methods,{t:n=>je.t(Ql.getNamespace(e),n)})}}class Ym extends H{get methods(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}getMethodsForTool(e){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(e)})}}class Km extends H{get methods(){return{close:()=>this.close(),open:()=>this.open()}}open(){this.Editor.InlineToolbar.tryToShow()}close(){this.Editor.InlineToolbar.close()}}class Zm extends H{get methods(){return{on:(e,n,o,r)=>this.on(e,n,o,r),off:(e,n,o,r)=>this.off(e,n,o,r),offById:e=>this.offById(e)}}on(e,n,o,r){return this.listeners.on(e,n,o,r)}off(e,n,o,r){this.listeners.off(e,n,o,r)}offById(e){this.listeners.offById(e)}}var Ys={},Qm={get exports(){return Ys},set exports(t){Ys=t}};(function(t,e){(function(n,o){t.exports=o()})(window,function(){return function(n){var o={};function r(i){if(o[i])return o[i].exports;var s=o[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=n,r.c=o,r.d=function(i,s,l){r.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:l})},r.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},r.t=function(i,s){if(1&s&&(i=r(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var l=Object.create(null);if(r.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var a in i)r.d(l,a,(function(c){return i[c]}).bind(null,a));return l},r.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return r.d(s,"a",s),s},r.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},r.p="/",r(r.s=0)}([function(n,o,r){r(1),n.exports=function(){var i=r(6),s="cdx-notify--bounce-in",l=null;return{show:function(a){if(a.message){(function(){if(l)return!0;l=i.getWrapper(),document.body.appendChild(l)})();var c=null,p=a.time||8e3;switch(a.type){case"confirm":c=i.confirm(a);break;case"prompt":c=i.prompt(a);break;default:c=i.alert(a),window.setTimeout(function(){c.remove()},p)}l.appendChild(c),c.classList.add(s)}}}}()},function(n,o,r){var i=r(2);typeof i=="string"&&(i=[[n.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};r(4)(i,s),i.locals&&(n.exports=i.locals)},function(n,o,r){(n.exports=r(3)(!1)).push([n.i,`.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`,""])},function(n,o){n.exports=function(r){var i=[];return i.toString=function(){return this.map(function(s){var l=function(a,c){var p=a[1]||"",d=a[3];if(!d)return p;if(c&&typeof btoa=="function"){var f=(v=d,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(v))))+" */"),y=d.sources.map(function(x){return"/*# sourceURL="+d.sourceRoot+x+" */"});return[p].concat(y).concat([f]).join(`
`)}var v;return[p].join(`
`)}(s,r);return s[2]?"@media "+s[2]+"{"+l+"}":l}).join("")},i.i=function(s,l){typeof s=="string"&&(s=[[null,s,""]]);for(var a={},c=0;c<this.length;c++){var p=this[c][0];typeof p=="number"&&(a[p]=!0)}for(c=0;c<s.length;c++){var d=s[c];typeof d[0]=="number"&&a[d[0]]||(l&&!d[2]?d[2]=l:l&&(d[2]="("+d[2]+") and ("+l+")"),i.push(d))}},i}},function(n,o,r){var i,s,l={},a=(i=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=i.apply(this,arguments)),s}),c=function(b){var B={};return function(T){if(typeof T=="function")return T();if(B[T]===void 0){var j=(function(P){return document.querySelector(P)}).call(this,T);if(window.HTMLIFrameElement&&j instanceof window.HTMLIFrameElement)try{j=j.contentDocument.head}catch{j=null}B[T]=j}return B[T]}}(),p=null,d=0,f=[],y=r(5);function v(b,B){for(var T=0;T<b.length;T++){var j=b[T],P=l[j.id];if(P){P.refs++;for(var D=0;D<P.parts.length;D++)P.parts[D](j.parts[D]);for(;D<j.parts.length;D++)P.parts.push(w(j.parts[D],B))}else{var V=[];for(D=0;D<j.parts.length;D++)V.push(w(j.parts[D],B));l[j.id]={id:j.id,refs:1,parts:V}}}}function x(b,B){for(var T=[],j={},P=0;P<b.length;P++){var D=b[P],V=B.base?D[0]+B.base:D[0],z={css:D[1],media:D[2],sourceMap:D[3]};j[V]?j[V].parts.push(z):T.push(j[V]={id:V,parts:[z]})}return T}function L(b,B){var T=c(b.insertInto);if(!T)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var j=f[f.length-1];if(b.insertAt==="top")j?j.nextSibling?T.insertBefore(B,j.nextSibling):T.appendChild(B):T.insertBefore(B,T.firstChild),f.push(B);else if(b.insertAt==="bottom")T.appendChild(B);else{if(typeof b.insertAt!="object"||!b.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var P=c(b.insertInto+" "+b.insertAt.before);T.insertBefore(B,P)}}function m(b){if(b.parentNode===null)return!1;b.parentNode.removeChild(b);var B=f.indexOf(b);B>=0&&f.splice(B,1)}function h(b){var B=document.createElement("style");return b.attrs.type===void 0&&(b.attrs.type="text/css"),g(B,b.attrs),L(b,B),B}function g(b,B){Object.keys(B).forEach(function(T){b.setAttribute(T,B[T])})}function w(b,B){var T,j,P,D;if(B.transform&&b.css){if(!(D=B.transform(b.css)))return function(){};b.css=D}if(B.singleton){var V=d++;T=p||(p=h(B)),j=I.bind(null,T,V,!1),P=I.bind(null,T,V,!0)}else b.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(T=function(z){var ie=document.createElement("link");return z.attrs.type===void 0&&(z.attrs.type="text/css"),z.attrs.rel="stylesheet",g(ie,z.attrs),L(z,ie),ie}(B),j=(function(z,ie,De){var _=De.css,R=De.sourceMap,$=ie.convertToAbsoluteUrls===void 0&&R;(ie.convertToAbsoluteUrls||$)&&(_=y(_)),R&&(_+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(R))))+" */");var J=new Blob([_],{type:"text/css"}),se=z.href;z.href=URL.createObjectURL(J),se&&URL.revokeObjectURL(se)}).bind(null,T,B),P=function(){m(T),T.href&&URL.revokeObjectURL(T.href)}):(T=h(B),j=(function(z,ie){var De=ie.css,_=ie.media;if(_&&z.setAttribute("media",_),z.styleSheet)z.styleSheet.cssText=De;else{for(;z.firstChild;)z.removeChild(z.firstChild);z.appendChild(document.createTextNode(De))}}).bind(null,T),P=function(){m(T)});return j(b),function(z){if(z){if(z.css===b.css&&z.media===b.media&&z.sourceMap===b.sourceMap)return;j(b=z)}else P()}}n.exports=function(b,B){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(B=B||{}).attrs=typeof B.attrs=="object"?B.attrs:{},B.singleton||typeof B.singleton=="boolean"||(B.singleton=a()),B.insertInto||(B.insertInto="head"),B.insertAt||(B.insertAt="bottom");var T=x(b,B);return v(T,B),function(j){for(var P=[],D=0;D<T.length;D++){var V=T[D];(z=l[V.id]).refs--,P.push(z)}for(j&&v(x(j,B),B),D=0;D<P.length;D++){var z;if((z=P[D]).refs===0){for(var ie=0;ie<z.parts.length;ie++)z.parts[ie]();delete l[z.id]}}}};var S,N=(S=[],function(b,B){return S[b]=B,S.filter(Boolean).join(`
`)});function I(b,B,T,j){var P=T?"":j.css;if(b.styleSheet)b.styleSheet.cssText=N(B,P);else{var D=document.createTextNode(P),V=b.childNodes;V[B]&&b.removeChild(V[B]),V.length?b.insertBefore(D,V[B]):b.appendChild(D)}}},function(n,o){n.exports=function(r){var i=typeof window<"u"&&window.location;if(!i)throw new Error("fixUrls requires window.location");if(!r||typeof r!="string")return r;var s=i.protocol+"//"+i.host,l=s+i.pathname.replace(/\/[^\/]*$/,"/");return r.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(a,c){var p,d=c.trim().replace(/^"(.*)"$/,function(f,y){return y}).replace(/^'(.*)'$/,function(f,y){return y});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(d)?a:(p=d.indexOf("//")===0?d:d.indexOf("/")===0?s+d:l+d.replace(/^\.\//,""),"url("+JSON.stringify(p)+")")})}},function(n,o,r){var i,s,l,a,c,p,d,f,y;n.exports=(i="cdx-notifies",s="cdx-notify",l="cdx-notify__cross",a="cdx-notify__button--confirm",c="cdx-notify__button--cancel",p="cdx-notify__input",d="cdx-notify__button",f="cdx-notify__btns-wrapper",{alert:y=function(v){var x=document.createElement("DIV"),L=document.createElement("DIV"),m=v.message,h=v.style;return x.classList.add(s),h&&x.classList.add(s+"--"+h),x.innerHTML=m,L.classList.add(l),L.addEventListener("click",x.remove.bind(x)),x.appendChild(L),x},confirm:function(v){var x=y(v),L=document.createElement("div"),m=document.createElement("button"),h=document.createElement("button"),g=x.querySelector("."+l),w=v.cancelHandler,S=v.okHandler;return L.classList.add(f),m.innerHTML=v.okText||"Confirm",h.innerHTML=v.cancelText||"Cancel",m.classList.add(d),h.classList.add(d),m.classList.add(a),h.classList.add(c),w&&typeof w=="function"&&(h.addEventListener("click",w),g.addEventListener("click",w)),S&&typeof S=="function"&&m.addEventListener("click",S),m.addEventListener("click",x.remove.bind(x)),h.addEventListener("click",x.remove.bind(x)),L.appendChild(m),L.appendChild(h),x.appendChild(L),x},prompt:function(v){var x=y(v),L=document.createElement("div"),m=document.createElement("button"),h=document.createElement("input"),g=x.querySelector("."+l),w=v.cancelHandler,S=v.okHandler;return L.classList.add(f),m.innerHTML=v.okText||"Ok",m.classList.add(d),m.classList.add(a),h.classList.add(p),v.placeholder&&h.setAttribute("placeholder",v.placeholder),v.default&&(h.value=v.default),v.inputType&&(h.type=v.inputType),w&&typeof w=="function"&&g.addEventListener("click",w),S&&typeof S=="function"&&m.addEventListener("click",function(){S(h.value)}),m.addEventListener("click",x.remove.bind(x)),L.appendChild(h),L.appendChild(m),x.appendChild(L),x},getWrapper:function(){var v=document.createElement("DIV");return v.classList.add(i),v}})}])})})(Qm);const Xm=Kl(Ys);class Gm{show(e){Xm.show(e)}}class Jm extends H{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.notifier=new Gm}get methods(){return{show:e=>this.show(e)}}show(e){return this.notifier.show(e)}}class eg extends H{get methods(){const e=()=>this.isEnabled;return{toggle:n=>this.toggle(n),get isEnabled(){return e()}}}toggle(e){return this.Editor.ReadOnly.toggle(e)}get isEnabled(){return this.Editor.ReadOnly.isEnabled}}var Ks={},tg={get exports(){return Ks},set exports(t){Ks=t}};(function(t,e){(function(n,o){t.exports=o()})(Sm,function(){function n(d){var f=d.tags,y=Object.keys(f),v=y.map(function(x){return typeof f[x]}).every(function(x){return x==="object"||x==="boolean"||x==="function"});if(!v)throw new Error("The configuration was invalid");this.config=d}var o=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function r(d){return o.indexOf(d.nodeName)!==-1}var i=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function s(d){return i.indexOf(d.nodeName)!==-1}n.prototype.clean=function(d){const f=document.implementation.createHTMLDocument(),y=f.createElement("div");return y.innerHTML=d,this._sanitize(f,y),y.innerHTML},n.prototype._sanitize=function(d,f){var y=l(d,f),v=y.firstChild();if(v)do{if(v.nodeType===Node.TEXT_NODE)if(v.data.trim()===""&&(v.previousElementSibling&&r(v.previousElementSibling)||v.nextElementSibling&&r(v.nextElementSibling))){f.removeChild(v),this._sanitize(d,f);break}else continue;if(v.nodeType===Node.COMMENT_NODE){f.removeChild(v),this._sanitize(d,f);break}var x=s(v),L;x&&(L=Array.prototype.some.call(v.childNodes,r));var m=!!f.parentNode,h=r(f)&&r(v)&&m,g=v.nodeName.toLowerCase(),w=a(this.config,g,v),S=x&&L;if(S||c(v,w)||!this.config.keepNestedBlockElements&&h){if(!(v.nodeName==="SCRIPT"||v.nodeName==="STYLE"))for(;v.childNodes.length>0;)f.insertBefore(v.childNodes[0],v);f.removeChild(v),this._sanitize(d,f);break}for(var N=0;N<v.attributes.length;N+=1){var I=v.attributes[N];p(I,w,v)&&(v.removeAttribute(I.name),N=N-1)}this._sanitize(d,v)}while(v=y.nextSibling())};function l(d,f){return d.createTreeWalker(f,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}function a(d,f,y){return typeof d.tags[f]=="function"?d.tags[f](y):d.tags[f]}function c(d,f){return typeof f>"u"?!0:typeof f=="boolean"?!f:!1}function p(d,f,y){var v=d.name.toLowerCase();return f===!0?!1:typeof f[v]=="function"?!f[v](d.value,y):typeof f[v]>"u"||f[v]===!1?!0:typeof f[v]=="string"?f[v]!==d.value:!1}return n})})(tg);const ng=Ks;function vh(t,e){return t.map(n=>{const o=Q(e)?e(n.tool):e;return Ge(o)||(n.data=Xl(n.data,o)),n})}function kt(t,e={}){const n={tags:e};return new ng(n).clean(t)}function Xl(t,e){return Array.isArray(t)?og(t,e):we(t)?rg(t,e):qt(t)?ig(t,e):t}function og(t,e){return t.map(n=>Xl(n,e))}function rg(t,e){const n={};for(const o in t){if(!Object.prototype.hasOwnProperty.call(t,o))continue;const r=t[o],i=sg(e[o])?e[o]:e;n[o]=Xl(r,i)}return n}function ig(t,e){return we(e)?kt(t,e):e===!1?kt(t,{}):t}function sg(t){return we(t)||Bm(t)||Q(t)}class lg extends H{get methods(){return{clean:(e,n)=>this.clean(e,n)}}clean(e,n){return kt(e,n)}}class ag extends H{get methods(){return{save:()=>this.save()}}save(){const e="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(ot(e,"warn"),Promise.reject(new Error(e))):this.Editor.Saver.save()}}class cg extends H{get methods(){return{findParentTag:(e,n)=>this.findParentTag(e,n),expandToTag:e=>this.expandToTag(e)}}findParentTag(e,n){return new O().findParentTag(e,n)}expandToTag(e){new O().expandToTag(e)}}class ug extends H{get classes(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}class dg extends H{get methods(){return{close:()=>this.close(),open:()=>this.open(),toggleBlockSettings:e=>this.toggleBlockSettings(e),toggleToolbox:e=>this.toggleToolbox(e)}}open(){this.Editor.Toolbar.moveAndOpen()}close(){this.Editor.Toolbar.close()}toggleBlockSettings(e){if(this.Editor.BlockManager.currentBlockIndex===-1){ot("Could't toggle the Toolbar because there is no block selected ","warn");return}e??!this.Editor.BlockSettings.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close()}toggleToolbox(e){if(this.Editor.BlockManager.currentBlockIndex===-1){ot("Could't toggle the Toolbox because there is no block selected ","warn");return}e??!this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()):this.Editor.Toolbar.toolbox.close()}}var Zs={},hg={get exports(){return Zs},set exports(t){Zs=t}};/*!
 * CodeX.Tooltips
 * 
 * @version 1.0.5
 * 
 * @licence MIT
 * @author CodeX <https://codex.so>
 * 
 * 
 */(function(t,e){(function(n,o){t.exports=o()})(window,function(){return function(n){var o={};function r(i){if(o[i])return o[i].exports;var s=o[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=n,r.c=o,r.d=function(i,s,l){r.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:l})},r.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},r.t=function(i,s){if(1&s&&(i=r(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var l=Object.create(null);if(r.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var a in i)r.d(l,a,(function(c){return i[c]}).bind(null,a));return l},r.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return r.d(s,"a",s),s},r.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},r.p="",r(r.s=0)}([function(n,o,r){n.exports=r(1)},function(n,o,r){r.r(o),r.d(o,"default",function(){return i});class i{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(l,a,c){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const p=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},c);if(p.hidingDelay&&(this.hidingDelay=p.hidingDelay),this.nodes.content.innerHTML="",typeof a=="string")this.nodes.content.appendChild(document.createTextNode(a));else{if(!(a instanceof Node))throw Error("[CodeX Tooltip] Wrong type of «content» passed. It should be an instance of Node or String. But "+typeof a+" given.");this.nodes.content.appendChild(a)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),p.placement){case"top":this.placeTop(l,p);break;case"left":this.placeLeft(l,p);break;case"right":this.placeRight(l,p);break;case"bottom":default:this.placeBottom(l,p)}p&&p.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},p.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(l=!1){if(this.hidingDelay&&!l)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(l,a,c){l.addEventListener("mouseenter",()=>{this.show(l,a,c)}),l.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const l="codex-tooltips-style";if(document.getElementById(l))return;const a=r(2),c=this.make("style",null,{textContent:a.toString(),id:l});this.prepend(document.head,c)}placeBottom(l,a){const c=l.getBoundingClientRect(),p=c.left+l.clientWidth/2-this.nodes.wrapper.offsetWidth/2,d=c.bottom+window.pageYOffset+this.offsetTop+a.marginTop;this.applyPlacement("bottom",p,d)}placeTop(l,a){const c=l.getBoundingClientRect(),p=c.left+l.clientWidth/2-this.nodes.wrapper.offsetWidth/2,d=c.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",p,d)}placeLeft(l,a){const c=l.getBoundingClientRect(),p=c.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-a.marginLeft,d=c.top+window.pageYOffset+l.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",p,d)}placeRight(l,a){const c=l.getBoundingClientRect(),p=c.right+this.offsetRight+a.marginRight,d=c.top+window.pageYOffset+l.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",p,d)}applyPlacement(l,a,c){this.nodes.wrapper.classList.add(this.CSS.placement[l]),this.nodes.wrapper.style.left=a+"px",this.nodes.wrapper.style.top=c+"px"}make(l,a=null,c={}){const p=document.createElement(l);Array.isArray(a)?p.classList.add(...a):a&&p.classList.add(a);for(const d in c)c.hasOwnProperty(d)&&(p[d]=c[d]);return p}append(l,a){Array.isArray(a)?a.forEach(c=>l.appendChild(c)):l.appendChild(a)}prepend(l,a){Array.isArray(a)?(a=a.reverse()).forEach(c=>l.prepend(c)):l.prepend(a)}}},function(n,o){n.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default})})(hg);const pg=Kl(Zs);let lt=null;function Gl(){lt||(lt=new pg)}function fg(t,e,n){Gl(),lt==null||lt.show(t,e,n)}function Qs(t=!1){Gl(),lt==null||lt.hide(t)}function zo(t,e,n){Gl(),lt==null||lt.onHover(t,e,n)}function mg(){lt==null||lt.destroy(),lt=null}class gg extends H{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n})}get methods(){return{show:(e,n,o)=>this.show(e,n,o),hide:()=>this.hide(),onHover:(e,n,o)=>this.onHover(e,n,o)}}show(e,n,o){fg(e,n,o)}hide(){Qs()}onHover(e,n,o){zo(e,n,o)}}class vg extends H{get methods(){return{nodes:this.editorNodes}}get editorNodes(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}}function yh(t,e){const n={};return Object.entries(t).forEach(([o,r])=>{if(we(r)){const i=e?`${e}.${o}`:o;Object.values(r).every(s=>qt(s))?n[o]=i:n[o]=yh(r,i);return}n[o]=r}),n}const rt=yh(hh);function yg(t,e){const n={};return Object.keys(t).forEach(o=>{const r=e[o];r!==void 0?n[r]=t[o]:n[o]=t[o]}),n}const kg='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',kh='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',wg='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',xg='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',bg='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>',Sg='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',Cc='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>',Eg='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>',Cg='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',Tg='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',Bg='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',Ng='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>';class le{constructor(e){this.nodes={root:null,icon:null},this.confirmationState=null,this.removeSpecialFocusBehavior=()=>{this.nodes.root.classList.remove(le.CSS.noFocus)},this.removeSpecialHoverBehavior=()=>{this.nodes.root.classList.remove(le.CSS.noHover)},this.onErrorAnimationEnd=()=>{this.nodes.icon.classList.remove(le.CSS.wobbleAnimation),this.nodes.icon.removeEventListener("animationend",this.onErrorAnimationEnd)},this.params=e,this.nodes.root=this.make(e)}get isDisabled(){return this.params.isDisabled}get toggle(){return this.params.toggle}get title(){return this.params.title}get closeOnActivate(){return this.params.closeOnActivate}get isConfirmationStateEnabled(){return this.confirmationState!==null}get isFocused(){return this.nodes.root.classList.contains(le.CSS.focused)}static get CSS(){return{container:"ce-popover-item",title:"ce-popover-item__title",secondaryTitle:"ce-popover-item__secondary-title",icon:"ce-popover-item__icon",active:"ce-popover-item--active",disabled:"ce-popover-item--disabled",focused:"ce-popover-item--focused",hidden:"ce-popover-item--hidden",confirmationState:"ce-popover-item--confirmation",noHover:"ce-popover-item--no-hover",noFocus:"ce-popover-item--no-focus",wobbleAnimation:"wobble"}}getElement(){return this.nodes.root}handleClick(){if(this.isConfirmationStateEnabled){this.activateOrEnableConfirmationMode(this.confirmationState);return}this.activateOrEnableConfirmationMode(this.params)}toggleActive(e){this.nodes.root.classList.toggle(le.CSS.active,e)}toggleHidden(e){this.nodes.root.classList.toggle(le.CSS.hidden,e)}reset(){this.isConfirmationStateEnabled&&this.disableConfirmationMode()}onFocus(){this.disableSpecialHoverAndFocusBehavior()}make(e){const n=k.make("div",le.CSS.container);return e.name&&(n.dataset.itemName=e.name),this.nodes.icon=k.make("div",le.CSS.icon,{innerHTML:e.icon||bg}),n.appendChild(this.nodes.icon),n.appendChild(k.make("div",le.CSS.title,{innerHTML:e.title||""})),e.secondaryLabel&&n.appendChild(k.make("div",le.CSS.secondaryTitle,{textContent:e.secondaryLabel})),e.isActive&&n.classList.add(le.CSS.active),e.isDisabled&&n.classList.add(le.CSS.disabled),n}enableConfirmationMode(e){const n={...this.params,...e,confirmation:e.confirmation},o=this.make(n);this.nodes.root.innerHTML=o.innerHTML,this.nodes.root.classList.add(le.CSS.confirmationState),this.confirmationState=e,this.enableSpecialHoverAndFocusBehavior()}disableConfirmationMode(){const e=this.make(this.params);this.nodes.root.innerHTML=e.innerHTML,this.nodes.root.classList.remove(le.CSS.confirmationState),this.confirmationState=null,this.disableSpecialHoverAndFocusBehavior()}enableSpecialHoverAndFocusBehavior(){this.nodes.root.classList.add(le.CSS.noHover),this.nodes.root.classList.add(le.CSS.noFocus),this.nodes.root.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0})}disableSpecialHoverAndFocusBehavior(){this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),this.nodes.root.removeEventListener("mouseleave",this.removeSpecialHoverBehavior)}activateOrEnableConfirmationMode(e){if(e.confirmation===void 0)try{e.onActivate(e),this.disableConfirmationMode()}catch{this.animateError()}else this.enableConfirmationMode(e.confirmation)}animateError(){this.nodes.icon.classList.contains(le.CSS.wobbleAnimation)||(this.nodes.icon.classList.add(le.CSS.wobbleAnimation),this.nodes.icon.addEventListener("animationend",this.onErrorAnimationEnd))}}const ao=class{constructor(t,e){this.cursor=-1,this.items=[],this.items=t||[],this.focusedCssClass=e}get currentItem(){return this.cursor===-1?null:this.items[this.cursor]}setCursor(t){t<this.items.length&&t>=-1&&(this.dropCursor(),this.cursor=t,this.items[this.cursor].classList.add(this.focusedCssClass))}setItems(t){this.items=t}next(){this.cursor=this.leafNodesAndReturnIndex(ao.directions.RIGHT)}previous(){this.cursor=this.leafNodesAndReturnIndex(ao.directions.LEFT)}dropCursor(){this.cursor!==-1&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}leafNodesAndReturnIndex(t){if(this.items.length===0)return this.cursor;let e=this.cursor;return e===-1?e=t===ao.directions.RIGHT?-1:0:this.items[e].classList.remove(this.focusedCssClass),t===ao.directions.RIGHT?e=(e+1)%this.items.length:e=(this.items.length+e-1)%this.items.length,k.canSetCaret(this.items[e])&&Gr(()=>O.setCursor(this.items[e]),50)(),this.items[e].classList.add(this.focusedCssClass),e}};let vn=ao;vn.directions={RIGHT:"right",LEFT:"left"};class Ct{constructor(e){this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=n=>{if(this.isEventReadyForHandling(n))switch(Ct.usedKeys.includes(n.keyCode)&&n.preventDefault(),n.keyCode){case A.TAB:this.handleTabPress(n);break;case A.LEFT:case A.UP:this.flipLeft();break;case A.RIGHT:case A.DOWN:this.flipRight();break;case A.ENTER:this.handleEnterPress(n);break}},this.iterator=new vn(e.items,e.focusedItemClass),this.activateCallback=e.activateCallback,this.allowedKeys=e.allowedKeys||Ct.usedKeys}get isActivated(){return this.activated}static get usedKeys(){return[A.TAB,A.LEFT,A.RIGHT,A.ENTER,A.UP,A.DOWN]}activate(e,n){this.activated=!0,e&&this.iterator.setItems(e),n!==void 0&&this.iterator.setCursor(n),document.addEventListener("keydown",this.onKeyDown,!0)}deactivate(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}focusFirst(){this.dropCursor(),this.flipRight()}flipLeft(){this.iterator.previous(),this.flipCallback()}flipRight(){this.iterator.next(),this.flipCallback()}hasFocus(){return!!this.iterator.currentItem}onFlip(e){this.flipCallbacks.push(e)}removeOnFlip(e){this.flipCallbacks=this.flipCallbacks.filter(n=>n!==e)}dropCursor(){this.iterator.dropCursor()}isEventReadyForHandling(e){return this.activated&&this.allowedKeys.includes(e.keyCode)}handleTabPress(e){switch(e.shiftKey?vn.directions.LEFT:vn.directions.RIGHT){case vn.directions.RIGHT:this.flipRight();break;case vn.directions.LEFT:this.flipLeft();break}}handleEnterPress(e){this.activated&&(this.iterator.currentItem&&(e.stopPropagation(),e.preventDefault(),this.iterator.currentItem.click()),Q(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}flipCallback(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach(e=>e())}}class xo{static get CSS(){return{wrapper:"cdx-search-field",icon:"cdx-search-field__icon",input:"cdx-search-field__input"}}constructor({items:e,onSearch:n,placeholder:o}){this.listeners=new Zl,this.items=e,this.onSearch=n,this.render(o)}getElement(){return this.wrapper}focus(){this.input.focus()}clear(){this.input.value="",this.searchQuery="",this.onSearch("",this.foundItems)}destroy(){this.listeners.removeAll()}render(e){this.wrapper=k.make("div",xo.CSS.wrapper);const n=k.make("div",xo.CSS.icon,{innerHTML:Tg});this.input=k.make("input",xo.CSS.input,{placeholder:e,tabIndex:-1}),this.wrapper.appendChild(n),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",()=>{this.searchQuery=this.input.value,this.onSearch(this.searchQuery,this.foundItems)})}get foundItems(){return this.items.filter(e=>this.checkItem(e))}checkItem(e){var n;const o=((n=e.title)==null?void 0:n.toLowerCase())||"",r=this.searchQuery.toLowerCase();return o.includes(r)}}const co=class{lock(){Sc?this.lockHard():document.body.classList.add(co.CSS.scrollLocked)}unlock(){Sc?this.unlockHard():document.body.classList.remove(co.CSS.scrollLocked)}lockHard(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset",`${this.scrollPosition}px`),document.body.classList.add(co.CSS.scrollLockedHard)}unlockHard(){document.body.classList.remove(co.CSS.scrollLockedHard),this.scrollPosition!==null&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}};let wh=co;wh.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"};var Ig=Object.defineProperty,_g=Object.getOwnPropertyDescriptor,Mg=(t,e,n,o)=>{for(var r=o>1?void 0:o?_g(e,n):e,i=t.length-1,s;i>=0;i--)(s=t[i])&&(r=(o?s(e,n,r):s(r))||r);return o&&r&&Ig(e,n,r),r},$o=(t=>(t.Close="close",t))($o||{});const ge=class extends yi{constructor(t){super(),this.scopeElement=document.body,this.listeners=new Zl,this.scrollLocker=new wh,this.nodes={wrapper:null,popover:null,nothingFoundMessage:null,customContent:null,items:null,overlay:null},this.messages={nothingFound:"Nothing found",search:"Search"},this.onFlip=()=>{this.items.find(e=>e.isFocused).onFocus()},this.items=t.items.map(e=>new le(e)),t.scopeElement!==void 0&&(this.scopeElement=t.scopeElement),t.messages&&(this.messages={...this.messages,...t.messages}),t.customContentFlippableItems&&(this.customContentFlippableItems=t.customContentFlippableItems),this.make(),t.customContent&&this.addCustomContent(t.customContent),t.searchable&&this.addSearch(),this.initializeFlipper()}static get CSS(){return{popover:"ce-popover",popoverOpenTop:"ce-popover--open-top",popoverOpened:"ce-popover--opened",search:"ce-popover__search",nothingFoundMessage:"ce-popover__nothing-found-message",nothingFoundMessageDisplayed:"ce-popover__nothing-found-message--displayed",customContent:"ce-popover__custom-content",customContentHidden:"ce-popover__custom-content--hidden",items:"ce-popover__items",overlay:"ce-popover__overlay",overlayHidden:"ce-popover__overlay--hidden"}}getElement(){return this.nodes.wrapper}hasFocus(){return this.flipper.hasFocus()}show(){this.shouldOpenBottom||(this.nodes.popover.style.setProperty("--popover-height",this.height+"px"),this.nodes.popover.classList.add(ge.CSS.popoverOpenTop)),this.nodes.overlay.classList.remove(ge.CSS.overlayHidden),this.nodes.popover.classList.add(ge.CSS.popoverOpened),this.flipper.activate(this.flippableElements),this.search!==void 0&&requestAnimationFrame(()=>{var t;(t=this.search)==null||t.focus()}),sn()&&this.scrollLocker.lock()}hide(){this.nodes.popover.classList.remove(ge.CSS.popoverOpened),this.nodes.popover.classList.remove(ge.CSS.popoverOpenTop),this.nodes.overlay.classList.add(ge.CSS.overlayHidden),this.flipper.deactivate(),this.items.forEach(t=>t.reset()),this.search!==void 0&&this.search.clear(),sn()&&this.scrollLocker.unlock(),this.emit("close")}destroy(){this.flipper.deactivate(),this.listeners.removeAll(),sn()&&this.scrollLocker.unlock()}make(){this.nodes.popover=k.make("div",[ge.CSS.popover]),this.nodes.nothingFoundMessage=k.make("div",[ge.CSS.nothingFoundMessage],{textContent:this.messages.nothingFound}),this.nodes.popover.appendChild(this.nodes.nothingFoundMessage),this.nodes.items=k.make("div",[ge.CSS.items]),this.items.forEach(t=>{this.nodes.items.appendChild(t.getElement())}),this.nodes.popover.appendChild(this.nodes.items),this.listeners.on(this.nodes.popover,"click",t=>{const e=this.getTargetItem(t);e!==void 0&&this.handleItemClick(e)}),this.nodes.wrapper=k.make("div"),this.nodes.overlay=k.make("div",[ge.CSS.overlay,ge.CSS.overlayHidden]),this.listeners.on(this.nodes.overlay,"click",()=>{this.hide()}),this.nodes.wrapper.appendChild(this.nodes.overlay),this.nodes.wrapper.appendChild(this.nodes.popover)}addSearch(){this.search=new xo({items:this.items,placeholder:this.messages.search,onSearch:(e,n)=>{this.items.forEach(r=>{const i=!n.includes(r);r.toggleHidden(i)}),this.toggleNothingFoundMessage(n.length===0),this.toggleCustomContent(e!=="");const o=e===""?this.flippableElements:n.map(r=>r.getElement());this.flipper.isActivated&&(this.flipper.deactivate(),this.flipper.activate(o))}});const t=this.search.getElement();t.classList.add(ge.CSS.search),this.nodes.popover.insertBefore(t,this.nodes.popover.firstChild)}addCustomContent(t){this.nodes.customContent=t,this.nodes.customContent.classList.add(ge.CSS.customContent),this.nodes.popover.insertBefore(t,this.nodes.popover.firstChild)}getTargetItem(t){return this.items.find(e=>t.composedPath().includes(e.getElement()))}handleItemClick(t){t.isDisabled||(this.items.filter(e=>e!==t).forEach(e=>e.reset()),t.handleClick(),this.toggleItemActivenessIfNeeded(t),t.closeOnActivate&&this.hide())}initializeFlipper(){this.flipper=new Ct({items:this.flippableElements,focusedItemClass:le.CSS.focused,allowedKeys:[A.TAB,A.UP,A.DOWN,A.ENTER]}),this.flipper.onFlip(this.onFlip)}get flippableElements(){const t=this.items.map(e=>e.getElement());return(this.customContentFlippableItems||[]).concat(t)}get height(){let t=0;if(this.nodes.popover===null)return t;const e=this.nodes.popover.cloneNode(!0);return e.style.visibility="hidden",e.style.position="absolute",e.style.top="-1000px",e.classList.add(ge.CSS.popoverOpened),document.body.appendChild(e),t=e.offsetHeight,e.remove(),t}get shouldOpenBottom(){const t=this.nodes.popover.getBoundingClientRect(),e=this.scopeElement.getBoundingClientRect(),n=this.height,o=t.top+n,r=t.top-n,i=Math.min(window.innerHeight,e.bottom);return r<e.top||o<=i}toggleNothingFoundMessage(t){this.nodes.nothingFoundMessage.classList.toggle(ge.CSS.nothingFoundMessageDisplayed,t)}toggleCustomContent(t){var e;(e=this.nodes.customContent)==null||e.classList.toggle(ge.CSS.customContentHidden,t)}toggleItemActivenessIfNeeded(t){if(t.toggle===!0&&t.toggleActive(),typeof t.toggle=="string"){const e=this.items.filter(n=>n.toggle===t.toggle);if(e.length===1){t.toggleActive();return}e.forEach(n=>{n.toggleActive(n===t)})}}};let Jl=ge;Mg([Zn],Jl.prototype,"height",1);class Lg extends H{constructor(){super(...arguments),this.opened=!1,this.selection=new O,this.onPopoverClose=()=>{this.close()}}get events(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}get CSS(){return{settings:"ce-settings"}}get flipper(){var e;return(e=this.popover)==null?void 0:e.flipper}make(){this.nodes.wrapper=k.make("div",[this.CSS.settings])}destroy(){this.removeAllNodes()}open(e=this.Editor.BlockManager.currentBlock){this.opened=!0,this.selection.save(),this.Editor.BlockSelection.selectBlock(e),this.Editor.BlockSelection.clearCache();const[n,o]=e.getTunes();this.eventsDispatcher.emit(this.events.opened),this.popover=new Jl({searchable:!0,items:n.map(r=>this.resolveTuneAliases(r)),customContent:o,customContentFlippableItems:this.getControls(o),scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:je.ui(rt.ui.popover,"Nothing found"),search:je.ui(rt.ui.popover,"Filter")}}),this.popover.on($o.Close,this.onPopoverClose),this.nodes.wrapper.append(this.popover.getElement()),this.popover.show()}getElement(){return this.nodes.wrapper}close(){this.opened&&(this.opened=!1,O.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&this.Editor.BlockSelection.unselectBlock(this.Editor.BlockManager.currentBlock),this.eventsDispatcher.emit(this.events.closed),this.popover&&(this.popover.off($o.Close,this.onPopoverClose),this.popover.destroy(),this.popover.getElement().remove(),this.popover=null))}getControls(e){const{StylesAPI:n}=this.Editor,o=e.querySelectorAll(`.${n.classes.settingsButton}, ${k.allInputsSelector}`);return Array.from(o)}resolveTuneAliases(e){const n=yg(e,{label:"title"});return e.confirmation&&(n.confirmation=this.resolveTuneAliases(e.confirmation)),n}}class Fe extends H{constructor(){super(...arguments),this.opened=!1,this.tools=[],this.flipper=null,this.togglingCallback=null}static get CSS(){return{conversionToolbarWrapper:"ce-conversion-toolbar",conversionToolbarShowed:"ce-conversion-toolbar--showed",conversionToolbarTools:"ce-conversion-toolbar__tools",conversionToolbarLabel:"ce-conversion-toolbar__label",conversionTool:"ce-conversion-tool",conversionToolHidden:"ce-conversion-tool--hidden",conversionToolIcon:"ce-conversion-tool__icon",conversionToolSecondaryLabel:"ce-conversion-tool__secondary-label",conversionToolFocused:"ce-conversion-tool--focused",conversionToolActive:"ce-conversion-tool--active"}}make(){this.nodes.wrapper=k.make("div",[Fe.CSS.conversionToolbarWrapper,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.tools=k.make("div",Fe.CSS.conversionToolbarTools);const e=k.make("div",Fe.CSS.conversionToolbarLabel,{textContent:je.ui(rt.ui.inlineToolbar.converter,"Convert to")});return this.addTools(),this.enableFlipper(),k.append(this.nodes.wrapper,e),k.append(this.nodes.wrapper,this.nodes.tools),this.nodes.wrapper}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}toggle(e){this.opened?this.close():this.open(),Q(e)&&(this.togglingCallback=e)}open(){this.filterTools(),this.opened=!0,this.nodes.wrapper.classList.add(Fe.CSS.conversionToolbarShowed),window.requestAnimationFrame(()=>{this.flipper.activate(this.tools.map(e=>e.button).filter(e=>!e.classList.contains(Fe.CSS.conversionToolHidden))),this.flipper.focusFirst(),Q(this.togglingCallback)&&this.togglingCallback(!0)})}close(){this.opened=!1,this.flipper.deactivate(),this.nodes.wrapper.classList.remove(Fe.CSS.conversionToolbarShowed),Q(this.togglingCallback)&&this.togglingCallback(!1)}hasTools(){return this.tools.length===1?this.tools[0].name!==this.config.defaultBlock:!0}async replaceWithBlock(e,n){const{BlockManager:o,BlockSelection:r,InlineToolbar:i,Caret:s}=this.Editor;o.convert(this.Editor.BlockManager.currentBlock,e,n),r.clearSelection(),this.close(),i.close(),window.requestAnimationFrame(()=>{s.setToBlock(this.Editor.BlockManager.currentBlock,s.positions.END)})}addTools(){const e=this.Editor.Tools.blockTools;Array.from(e.entries()).forEach(([n,o])=>{var r;const i=o.conversionConfig;!i||!i.import||(r=o.toolbox)==null||r.forEach(s=>this.addToolIfValid(n,s))})}addToolIfValid(e,n){Ge(n)||!n.icon||this.addTool(e,n)}addTool(e,n){var o;const r=k.make("div",[Fe.CSS.conversionTool]),i=k.make("div",[Fe.CSS.conversionToolIcon]);r.dataset.tool=e,i.innerHTML=n.icon,k.append(r,i),k.append(r,k.text(je.t(rt.toolNames,n.title||qn(e))));const s=(o=this.Editor.Tools.blockTools.get(e))==null?void 0:o.shortcut;if(s){const l=k.make("span",Fe.CSS.conversionToolSecondaryLabel,{innerText:vi(s)});k.append(r,l)}k.append(this.nodes.tools,r),this.tools.push({name:e,button:r,toolboxItem:n}),this.listeners.on(r,"click",async()=>{await this.replaceWithBlock(e,n.data)})}async filterTools(){const{currentBlock:e}=this.Editor.BlockManager,n=await e.getActiveToolboxEntry();function o(r,i){return r.icon===i.icon&&r.title===i.title}this.tools.forEach(r=>{let i=!1;if(n){const s=o(n,r.toolboxItem);i=r.button.dataset.tool===e.name&&s}r.button.hidden=i,r.button.classList.toggle(Fe.CSS.conversionToolHidden,i)})}enableFlipper(){this.flipper=new Ct({focusedItemClass:Fe.CSS.conversionToolFocused})}}var Xs={},Og={get exports(){return Xs},set exports(t){Xs=t}};/*!
 * Library for handling keyboard shortcuts
 * @copyright CodeX (https://codex.so)
 * @license MIT
 * @author CodeX (https://codex.so)
 * @version 1.2.0
 */(function(t,e){(function(n,o){t.exports=o()})(window,function(){return function(n){var o={};function r(i){if(o[i])return o[i].exports;var s=o[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=n,r.c=o,r.d=function(i,s,l){r.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:l})},r.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},r.t=function(i,s){if(1&s&&(i=r(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var l=Object.create(null);if(r.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var a in i)r.d(l,a,(function(c){return i[c]}).bind(null,a));return l},r.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return r.d(s,"a",s),s},r.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},r.p="",r(r.s=0)}([function(n,o,r){function i(a,c){for(var p=0;p<c.length;p++){var d=c[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function s(a,c,p){return c&&i(a.prototype,c),p&&i(a,p),a}r.r(o);var l=function(){function a(c){var p=this;(function(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")})(this,a),this.commands={},this.keys={},this.name=c.name,this.parseShortcutName(c.name),this.element=c.on,this.callback=c.callback,this.executeShortcut=function(d){p.execute(d)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return s(a,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),s(a,[{key:"parseShortcutName",value:function(c){c=c.split("+");for(var p=0;p<c.length;p++){c[p]=c[p].toUpperCase();var d=!1;for(var f in a.supportedCommands)if(a.supportedCommands[f].includes(c[p])){d=this.commands[f]=!0;break}d||(this.keys[c[p]]=!0)}for(var y in a.supportedCommands)this.commands[y]||(this.commands[y]=!1)}},{key:"execute",value:function(c){var p,d={CMD:c.ctrlKey||c.metaKey,SHIFT:c.shiftKey,ALT:c.altKey},f=!0;for(p in this.commands)this.commands[p]!==d[p]&&(f=!1);var y,v=!0;for(y in this.keys)v=v&&c.keyCode===a.keyCodes[y];f&&v&&this.callback(c)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),a}();o.default=l}]).default})})(Og);const jg=Kl(Xs);class Ag{constructor(){this.registeredShortcuts=new Map}add(e){if(this.findShortcut(e.on,e.name))throw Error(`Shortcut ${e.name} is already registered for ${e.on}. Please remove it before add a new handler.`);const n=new jg({name:e.name,on:e.on,callback:e.handler}),o=this.registeredShortcuts.get(e.on)||[];this.registeredShortcuts.set(e.on,[...o,n])}remove(e,n){const o=this.findShortcut(e,n);if(!o)return;o.remove();const r=this.registeredShortcuts.get(e);this.registeredShortcuts.set(e,r.filter(i=>i!==o))}findShortcut(e,n){return(this.registeredShortcuts.get(e)||[]).find(({name:o})=>o===n)}}const Wn=new Ag;var Pg=Object.defineProperty,Rg=Object.getOwnPropertyDescriptor,xh=(t,e,n,o)=>{for(var r=o>1?void 0:o?Rg(e,n):e,i=t.length-1,s;i>=0;i--)(s=t[i])&&(r=(o?s(e,n,r):s(r))||r);return o&&r&&Pg(e,n,r),r},Tr=(t=>(t.Opened="toolbox-opened",t.Closed="toolbox-closed",t.BlockAdded="toolbox-block-added",t))(Tr||{});const bh=class extends yi{constructor({api:t,tools:e,i18nLabels:n}){super(),this.opened=!1,this.nodes={toolbox:null},this.onPopoverClose=()=>{this.opened=!1,this.emit("toolbox-closed")},this.api=t,this.tools=e,this.i18nLabels=n}get isEmpty(){return this.toolsToBeDisplayed.length===0}static get CSS(){return{toolbox:"ce-toolbox"}}make(){return this.popover=new Jl({scopeElement:this.api.ui.nodes.redactor,searchable:!0,messages:{nothingFound:this.i18nLabels.nothingFound,search:this.i18nLabels.filter},items:this.toolboxItemsToBeDisplayed}),this.popover.on($o.Close,this.onPopoverClose),this.enableShortcuts(),this.nodes.toolbox=this.popover.getElement(),this.nodes.toolbox.classList.add(bh.CSS.toolbox),this.nodes.toolbox}hasFocus(){var t;return(t=this.popover)==null?void 0:t.hasFocus()}destroy(){var t;super.destroy(),this.nodes&&this.nodes.toolbox&&(this.nodes.toolbox.remove(),this.nodes.toolbox=null),this.removeAllShortcuts(),(t=this.popover)==null||t.off($o.Close,this.onPopoverClose)}toolButtonActivated(t,e){this.insertNewBlock(t,e)}open(){var t;this.isEmpty||((t=this.popover)==null||t.show(),this.opened=!0,this.emit("toolbox-opened"))}close(){var t;(t=this.popover)==null||t.hide(),this.opened=!1,this.emit("toolbox-closed")}toggle(){this.opened?this.close():this.open()}get toolsToBeDisplayed(){const t=[];return this.tools.forEach(e=>{e.toolbox&&t.push(e)}),t}get toolboxItemsToBeDisplayed(){const t=(e,n)=>({icon:e.icon,title:je.t(rt.toolNames,e.title||qn(n.name)),name:n.name,onActivate:()=>{this.toolButtonActivated(n.name,e.data)},secondaryLabel:n.shortcut?vi(n.shortcut):""});return this.toolsToBeDisplayed.reduce((e,n)=>(Array.isArray(n.toolbox)?n.toolbox.forEach(o=>{e.push(t(o,n))}):n.toolbox!==void 0&&e.push(t(n.toolbox,n)),e),[])}enableShortcuts(){this.toolsToBeDisplayed.forEach(t=>{const e=t.shortcut;e&&this.enableShortcutForTool(t.name,e)})}enableShortcutForTool(t,e){Wn.add({name:e,on:this.api.ui.nodes.redactor,handler:n=>{n.preventDefault();const o=this.api.blocks.getCurrentBlockIndex(),r=this.api.blocks.getBlockByIndex(o);if(r)try{this.api.blocks.convert(r.id,t),window.requestAnimationFrame(()=>{this.api.caret.setToBlock(o,"end")});return}catch{}this.insertNewBlock(t)}})}removeAllShortcuts(){this.toolsToBeDisplayed.forEach(t=>{const e=t.shortcut;e&&Wn.remove(this.api.ui.nodes.redactor,e)})}async insertNewBlock(t,e){const n=this.api.blocks.getCurrentBlockIndex(),o=this.api.blocks.getBlockByIndex(n);if(!o)return;const r=o.isEmpty?n:n+1;let i;if(e){const l=await this.api.blocks.composeBlockData(t);i=Object.assign(l,e)}const s=this.api.blocks.insert(t,i,void 0,r,void 0,o.isEmpty);s.call(gt.APPEND_CALLBACK),this.api.caret.setToBlock(r),this.emit("toolbox-block-added",{block:s}),this.api.toolbar.close()}};let ea=bh;xh([Zn],ea.prototype,"toolsToBeDisplayed",1);xh([Zn],ea.prototype,"toolboxItemsToBeDisplayed",1);const Sh="block hovered";async function Dg(t,e){const n=navigator.keyboard;return n&&(await n.getLayoutMap()).get(t)||e}class Fg extends H{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.toolboxInstance=null}get CSS(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}get opened(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}get toolbox(){var e;return{opened:(e=this.toolboxInstance)==null?void 0:e.opened,close:()=>{var n;(n=this.toolboxInstance)==null||n.close()},open:()=>{if(this.toolboxInstance===null){W("toolbox.open() called before initialization is finished","warn");return}this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.open()},toggle:()=>{if(this.toolboxInstance===null){W("toolbox.toggle() called before initialization is finished","warn");return}this.toolboxInstance.toggle()},hasFocus:()=>{var n;return(n=this.toolboxInstance)==null?void 0:n.hasFocus()}}}get blockActions(){return{hide:()=>{this.nodes.actions.classList.remove(this.CSS.actionsOpened)},show:()=>{this.nodes.actions.classList.add(this.CSS.actionsOpened)}}}get blockTunesToggler(){return{hide:()=>this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),show:()=>this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)}}toggleReadOnly(e){e?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):window.requestIdleCallback(()=>{this.drawUI(),this.enableModuleBindings()},{timeout:2e3})}moveAndOpen(e=this.Editor.BlockManager.currentBlock){if(this.toolboxInstance===null){W("Can't open Toolbar since Editor initialization is not finished yet","warn");return}if(this.toolboxInstance.opened&&this.toolboxInstance.close(),this.Editor.BlockSettings.opened&&this.Editor.BlockSettings.close(),!e)return;this.hoveredBlock=e;const n=e.holder,{isMobile:o}=this.Editor.UI,r=e.pluginsContent,i=window.getComputedStyle(r),s=parseInt(i.paddingTop,10),l=n.offsetHeight;let a;o?a=n.offsetTop+l:a=n.offsetTop+s,this.nodes.wrapper.style.top=`${Math.floor(a)}px`,this.Editor.BlockManager.blocks.length===1&&e.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}close(){var e,n;this.Editor.ReadOnly.isEnabled||((e=this.nodes.wrapper)==null||e.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),(n=this.toolboxInstance)==null||n.close(),this.Editor.BlockSettings.close(),this.reset())}reset(){this.nodes.wrapper.style.top="unset"}open(e=!0){this.nodes.wrapper.classList.add(this.CSS.toolbarOpened),e?this.blockActions.show():this.blockActions.hide()}async make(){this.nodes.wrapper=k.make("div",this.CSS.toolbar),["content","actions"].forEach(i=>{this.nodes[i]=k.make("div",this.CSS[i])}),k.append(this.nodes.wrapper,this.nodes.content),k.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=k.make("div",this.CSS.plusButton,{innerHTML:Cg}),k.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",()=>{Qs(!0),this.plusButtonClicked()},!1);const e=k.make("div");e.appendChild(document.createTextNode(je.ui(rt.ui.toolbar.toolbox,"Add"))),e.appendChild(k.make("div",this.CSS.plusButtonShortcut,{textContent:"/"})),zo(this.nodes.plusButton,e,{hidingDelay:400}),this.nodes.settingsToggler=k.make("span",this.CSS.settingsToggler,{innerHTML:Eg}),k.append(this.nodes.actions,this.nodes.settingsToggler);const n=k.make("div"),o=k.text(je.ui(rt.ui.blockTunes.toggler,"Click to tune")),r=await Dg("Slash","/");n.appendChild(o),n.appendChild(k.make("div",this.CSS.plusButtonShortcut,{textContent:vi(`CMD + ${r}`)})),zo(this.nodes.settingsToggler,n,{hidingDelay:400}),k.append(this.nodes.actions,this.makeToolbox()),k.append(this.nodes.actions,this.Editor.BlockSettings.getElement()),k.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}makeToolbox(){return this.toolboxInstance=new ea({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:je.ui(rt.ui.popover,"Filter"),nothingFound:je.ui(rt.ui.popover,"Nothing found")}}),this.toolboxInstance.on(Tr.Opened,()=>{this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(Tr.Closed,()=>{this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(Tr.BlockAdded,({block:e})=>{const{BlockManager:n,Caret:o}=this.Editor,r=n.getBlockById(e.id);r.inputs.length===0&&(r===n.lastBlock?(n.insertAtEnd(),o.setToBlock(n.lastBlock)):o.setToBlock(n.nextBlock))}),this.toolboxInstance.make()}plusButtonClicked(){var e;this.Editor.BlockManager.currentBlock=this.hoveredBlock,(e=this.toolboxInstance)==null||e.toggle()}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",e=>{var n;e.stopPropagation(),this.settingsTogglerClicked(),(n=this.toolboxInstance)!=null&&n.opened&&this.toolboxInstance.close(),Qs(!0)},!0),sn()||this.eventsDispatcher.on(Sh,e=>{var n;this.Editor.BlockSettings.opened||(n=this.toolboxInstance)!=null&&n.opened||this.moveAndOpen(e.block)})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}settingsTogglerClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}drawUI(){this.Editor.BlockSettings.make(),this.make()}destroy(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy()}}var ki=(t=>(t[t.Block=0]="Block",t[t.Inline=1]="Inline",t[t.Tune=2]="Tune",t))(ki||{}),Br=(t=>(t.Shortcut="shortcut",t.Toolbox="toolbox",t.EnabledInlineTools="inlineToolbar",t.EnabledBlockTunes="tunes",t.Config="config",t))(Br||{}),Eh=(t=>(t.Shortcut="shortcut",t.SanitizeConfig="sanitize",t))(Eh||{}),yn=(t=>(t.IsEnabledLineBreaks="enableLineBreaks",t.Toolbox="toolbox",t.ConversionConfig="conversionConfig",t.IsReadOnlySupported="isReadOnlySupported",t.PasteConfig="pasteConfig",t))(yn||{}),ta=(t=>(t.IsInline="isInline",t.Title="title",t))(ta||{}),Ch=(t=>(t.IsTune="isTune",t))(Ch||{});class na{constructor({name:e,constructable:n,config:o,api:r,isDefault:i,isInternal:s=!1,defaultPlaceholder:l}){this.api=r,this.name=e,this.constructable=n,this.config=o,this.isDefault=i,this.isInternal=s,this.defaultPlaceholder=l}get settings(){const e=this.config.config||{};return this.isDefault&&!("placeholder"in e)&&this.defaultPlaceholder&&(e.placeholder=this.defaultPlaceholder),e}reset(){if(Q(this.constructable.reset))return this.constructable.reset()}prepare(){if(Q(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}get shortcut(){const e=this.constructable.shortcut;return this.config.shortcut||e}get sanitizeConfig(){return this.constructable.sanitize||{}}isInline(){return this.type===1}isBlock(){return this.type===0}isTune(){return this.type===2}}class zg extends H{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.CSS={inlineToolbar:"ce-inline-toolbar",inlineToolbarShowed:"ce-inline-toolbar--showed",inlineToolbarLeftOriented:"ce-inline-toolbar--left-oriented",inlineToolbarRightOriented:"ce-inline-toolbar--right-oriented",inlineToolbarShortcut:"ce-inline-toolbar__shortcut",buttonsWrapper:"ce-inline-toolbar__buttons",actionsWrapper:"ce-inline-toolbar__actions",inlineToolButton:"ce-inline-tool",inputField:"cdx-input",focusedButton:"ce-inline-tool--focused",conversionToggler:"ce-inline-toolbar__dropdown",conversionTogglerArrow:"ce-inline-toolbar__dropdown-arrow",conversionTogglerHidden:"ce-inline-toolbar__dropdown--hidden",conversionTogglerContent:"ce-inline-toolbar__dropdown-content",togglerAndButtonsWrapper:"ce-inline-toolbar__toggler-and-button-wrapper"},this.opened=!1,this.toolbarVerticalMargin=sn()?20:6,this.buttonsList=null,this.width=0,this.flipper=null}toggleReadOnly(e){e?(this.destroy(),this.Editor.ConversionToolbar.destroy()):window.requestIdleCallback(()=>{this.make()},{timeout:2e3})}async tryToShow(e=!1,n=!0){e&&this.close(),this.allowedToShow()&&(await this.addToolsFiltered(n),this.move(),this.open(n),this.Editor.Toolbar.close())}close(){this.opened&&(this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarShowed),Array.from(this.toolsInstances.entries()).forEach(([e,n])=>{const o=this.getToolShortcut(e);o&&Wn.remove(this.Editor.UI.nodes.redactor,o),Q(n.clear)&&n.clear()}),this.reset(),this.opened=!1,this.flipper.deactivate(),this.Editor.ConversionToolbar.close()))}containsNode(e){return this.nodes.wrapper===void 0?!1:this.nodes.wrapper.contains(e)}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}make(){this.nodes.wrapper=k.make("div",[this.CSS.inlineToolbar,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.togglerAndButtonsWrapper=k.make("div",this.CSS.togglerAndButtonsWrapper),this.nodes.buttons=k.make("div",this.CSS.buttonsWrapper),this.nodes.actions=k.make("div",this.CSS.actionsWrapper),this.listeners.on(this.nodes.wrapper,"mousedown",e=>{e.target.closest(`.${this.CSS.actionsWrapper}`)||e.preventDefault()}),k.append(this.nodes.wrapper,[this.nodes.togglerAndButtonsWrapper,this.nodes.actions]),k.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper),this.addConversionToggler(),k.append(this.nodes.togglerAndButtonsWrapper,this.nodes.buttons),this.prepareConversionToolbar(),window.requestAnimationFrame(()=>{this.recalculateWidth()}),this.enableFlipper()}open(){if(this.opened)return;this.nodes.wrapper.classList.add(this.CSS.inlineToolbarShowed),this.buttonsList=this.nodes.buttons.querySelectorAll(`.${this.CSS.inlineToolButton}`),this.opened=!0;let e=Array.from(this.buttonsList);e.unshift(this.nodes.conversionToggler),e=e.filter(n=>!n.hidden),this.flipper.activate(e)}move(){const e=O.rect,n=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),o={x:e.x-n.x,y:e.y+e.height-n.top+this.toolbarVerticalMargin};o.x+this.width+n.x>this.Editor.UI.contentRect.right&&(o.x=this.Editor.UI.contentRect.right-this.width-n.x),this.nodes.wrapper.style.left=Math.floor(o.x)+"px",this.nodes.wrapper.style.top=Math.floor(o.y)+"px"}reset(){this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarLeftOriented,this.CSS.inlineToolbarRightOriented),this.nodes.wrapper.style.left="0",this.nodes.wrapper.style.top="0"}allowedToShow(){const e=["IMG","INPUT"],n=O.get(),o=O.text;if(!n||!n.anchorNode||n.isCollapsed||o.length<1)return!1;const r=k.isElement(n.anchorNode)?n.anchorNode:n.anchorNode.parentElement;if(n&&e.includes(r.tagName)||r.closest('[contenteditable="true"]')===null)return!1;const i=this.Editor.BlockManager.getBlock(n.anchorNode);return i?i.tool.inlineTools.size!==0:!1}recalculateWidth(){this.width=this.nodes.wrapper.offsetWidth}addConversionToggler(){this.nodes.conversionToggler=k.make("div",this.CSS.conversionToggler),this.nodes.conversionTogglerContent=k.make("div",this.CSS.conversionTogglerContent);const e=k.make("div",this.CSS.conversionTogglerArrow,{innerHTML:kh});this.nodes.conversionToggler.appendChild(this.nodes.conversionTogglerContent),this.nodes.conversionToggler.appendChild(e),this.nodes.togglerAndButtonsWrapper.appendChild(this.nodes.conversionToggler),this.listeners.on(this.nodes.conversionToggler,"click",()=>{this.Editor.ConversionToolbar.toggle(n=>{!n&&this.opened?this.flipper.activate():this.opened&&this.flipper.deactivate()})}),sn()===!1&&zo(this.nodes.conversionToggler,je.ui(rt.ui.inlineToolbar.converter,"Convert to"),{placement:"top",hidingDelay:100})}async setConversionTogglerContent(){const{BlockManager:e}=this.Editor,{currentBlock:n}=e,o=n.name,r=n.tool.conversionConfig,i=r&&r.export;this.nodes.conversionToggler.hidden=!i,this.nodes.conversionToggler.classList.toggle(this.CSS.conversionTogglerHidden,!i);const s=await n.getActiveToolboxEntry()||{};this.nodes.conversionTogglerContent.innerHTML=s.icon||s.title||qn(o)}prepareConversionToolbar(){const e=this.Editor.ConversionToolbar.make();k.append(this.nodes.wrapper,e)}async addToolsFiltered(e=!0){const n=O.get(),o=this.Editor.BlockManager.getBlock(n.anchorNode);this.nodes.buttons.innerHTML="",this.nodes.actions.innerHTML="",this.toolsInstances=new Map,Array.from(o.tool.inlineTools.values()).forEach(r=>{this.addTool(r)}),e&&this.Editor.ConversionToolbar.hasTools()?await this.setConversionTogglerContent():this.nodes.conversionToggler.hidden=!0,this.recalculateWidth()}addTool(e){const n=e.create(),o=n.render();if(!o){W("Render method must return an instance of Node","warn",e.name);return}if(o.dataset.tool=e.name,this.nodes.buttons.appendChild(o),this.toolsInstances.set(e.name,n),Q(n.renderActions)){const l=n.renderActions();this.nodes.actions.appendChild(l)}this.listeners.on(o,"click",l=>{this.toolClicked(n),l.preventDefault()});const r=this.getToolShortcut(e.name);if(r)try{this.enableShortcuts(n,r)}catch{}const i=k.make("div"),s=je.t(rt.toolNames,e.title||qn(e.name));i.appendChild(k.text(s)),r&&i.appendChild(k.make("div",this.CSS.inlineToolbarShortcut,{textContent:vi(r)})),sn()===!1&&zo(o,i,{placement:"top",hidingDelay:100}),n.checkState(O.get())}getToolShortcut(e){const{Tools:n}=this.Editor,o=n.inlineTools.get(e),r=n.internal.inlineTools;return Array.from(r.keys()).includes(e)?this.inlineTools[e][Eh.Shortcut]:o.shortcut}enableShortcuts(e,n){Wn.add({name:n,handler:o=>{const{currentBlock:r}=this.Editor.BlockManager;r&&r.tool.enabledInlineTools&&(o.preventDefault(),this.toolClicked(e))},on:this.Editor.UI.nodes.redactor})}toolClicked(e){const n=O.range;e.surround(n),this.checkToolsState(),e.renderActions!==void 0&&this.flipper.deactivate()}checkToolsState(){this.toolsInstances.forEach(e=>{e.checkState(O.get())})}get inlineTools(){const e={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([n,o])=>{e[n]=o.create()}),e}enableFlipper(){this.flipper=new Ct({focusedItemClass:this.CSS.focusedButton,allowedKeys:[A.ENTER,A.TAB]})}}class $g extends H{keydown(e){switch(this.beforeKeydownProcessing(e),e.keyCode){case A.BACKSPACE:this.backspace(e);break;case A.DELETE:this.delete(e);break;case A.ENTER:this.enter(e);break;case A.DOWN:case A.RIGHT:this.arrowRightAndDown(e);break;case A.UP:case A.LEFT:this.arrowLeftAndUp(e);break;case A.TAB:this.tabPressed(e);break}e.key==="/"&&!e.ctrlKey&&!e.metaKey&&this.slashPressed(),e.code==="Slash"&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.commandSlashPressed())}beforeKeydownProcessing(e){this.needToolbarClosing(e)&&ch(e.keyCode)&&(this.Editor.Toolbar.close(),this.Editor.ConversionToolbar.close(),e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||this.Editor.BlockSelection.clearSelection(e))}keyup(e){e.shiftKey||this.Editor.UI.checkEmptiness()}dragOver(e){const n=this.Editor.BlockManager.getBlockByChildNode(e.target);n.dropTarget=!0}dragLeave(e){const n=this.Editor.BlockManager.getBlockByChildNode(e.target);n.dropTarget=!1}handleCommandC(e){const{BlockSelection:n}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(e)}handleCommandX(e){const{BlockSelection:n,BlockManager:o,Caret:r}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(e).then(()=>{const i=o.removeSelectedBlocks(),s=o.insertDefaultBlockAtIndex(i,!0);r.setToBlock(s,r.positions.START),n.clearSelection(e)})}tabPressed(e){const{InlineToolbar:n,ConversionToolbar:o,Caret:r}=this.Editor;o.opened||n.opened||(e.shiftKey?r.navigatePrevious(!0):r.navigateNext(!0))&&e.preventDefault()}commandSlashPressed(){this.Editor.BlockSelection.selectedBlocks.length>1||this.activateBlockSettings()}slashPressed(){this.Editor.BlockManager.currentBlock.isEmpty&&this.activateToolbox()}enter(e){const{BlockManager:n,UI:o}=this.Editor;if(n.currentBlock.tool.isLineBreaksEnabled||o.someToolbarOpened&&o.someFlipperButtonFocused||e.shiftKey)return;let r=this.Editor.BlockManager.currentBlock;this.Editor.Caret.isAtStart&&!this.Editor.BlockManager.currentBlock.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):this.Editor.Caret.isAtEnd?r=this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex+1):r=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(r),this.Editor.Toolbar.moveAndOpen(r),e.preventDefault()}backspace(e){const{BlockManager:n,Caret:o}=this.Editor,{currentBlock:r,previousBlock:i}=n;if(!(!O.isCollapsed||!o.isAtStart)){if(e.preventDefault(),this.Editor.Toolbar.close(),r.currentInput!==r.firstInput){o.navigatePrevious();return}if(i!==null){if(i.isEmpty){n.removeBlock(i);return}if(r.isEmpty){n.removeBlock(r);const s=n.currentBlock;o.setToBlock(s,o.positions.END);return}Ec(r,i)?this.mergeBlocks(i,r):o.setToBlock(i,o.positions.END)}}}delete(e){const{BlockManager:n,Caret:o}=this.Editor,{currentBlock:r,nextBlock:i}=n;if(!(!O.isCollapsed||!o.isAtEnd)){if(e.preventDefault(),this.Editor.Toolbar.close(),r.currentInput!==r.lastInput){o.navigateNext();return}if(i!==null){if(i.isEmpty){n.removeBlock(i);return}if(r.isEmpty){n.removeBlock(r),o.setToBlock(i,o.positions.START);return}Ec(r,i)?this.mergeBlocks(r,i):o.setToBlock(i,o.positions.START)}}}mergeBlocks(e,n){const{BlockManager:o,Caret:r,Toolbar:i}=this.Editor;r.createShadow(e.pluginsContent),o.mergeBlocks(e,n).then(()=>{window.requestAnimationFrame(()=>{r.restoreCaret(e.pluginsContent),e.pluginsContent.normalize(),i.close()})})}arrowRightAndDown(e){const n=Ct.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===A.TAB);if(this.Editor.UI.someToolbarOpened&&n)return;this.Editor.Toolbar.close();const o=this.Editor.Caret.isAtEnd||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===A.DOWN&&o){this.Editor.CrossBlockSelection.toggleBlockSelectedState();return}if(e.keyCode===A.DOWN||e.keyCode===A.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious()){e.preventDefault();return}Gr(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}arrowLeftAndUp(e){if(this.Editor.UI.someToolbarOpened){if(Ct.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===A.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.Toolbar.close();const n=this.Editor.Caret.isAtStart||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===A.UP&&n){this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1);return}if(e.keyCode===A.UP||e.keyCode===A.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext()){e.preventDefault();return}Gr(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}needToolbarClosing(e){const n=e.keyCode===A.ENTER&&this.Editor.Toolbar.toolbox.opened,o=e.keyCode===A.ENTER&&this.Editor.BlockSettings.opened,r=e.keyCode===A.ENTER&&this.Editor.InlineToolbar.opened,i=e.keyCode===A.ENTER&&this.Editor.ConversionToolbar.opened,s=e.keyCode===A.TAB;return!(e.shiftKey||s||n||o||r||i)}activateToolbox(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}activateBlockSettings(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}class Zi{constructor(e){this.blocks=[],this.workingArea=e}get length(){return this.blocks.length}get array(){return this.blocks}get nodes(){return uh(this.workingArea.children)}static set(e,n,o){return isNaN(Number(n))?(Reflect.set(e,n,o),!0):(e.insert(+n,o),!0)}static get(e,n){return isNaN(Number(n))?Reflect.get(e,n):e.get(+n)}push(e){this.blocks.push(e),this.insertToDOM(e)}swap(e,n){const o=this.blocks[n];k.swap(this.blocks[e].holder,o.holder),this.blocks[n]=this.blocks[e],this.blocks[e]=o}move(e,n){const o=this.blocks.splice(n,1)[0],r=e-1,i=Math.max(0,r),s=this.blocks[i];e>0?this.insertToDOM(o,"afterend",s):this.insertToDOM(o,"beforebegin",s),this.blocks.splice(e,0,o);const l=this.composeBlockEvent("move",{fromIndex:n,toIndex:e});o.call(gt.MOVED,l)}insert(e,n,o=!1){if(!this.length){this.push(n);return}e>this.length&&(e=this.length),o&&(this.blocks[e].holder.remove(),this.blocks[e].call(gt.REMOVED));const r=o?1:0;if(this.blocks.splice(e,r,n),e>0){const i=this.blocks[e-1];this.insertToDOM(n,"afterend",i)}else{const i=this.blocks[e+1];i?this.insertToDOM(n,"beforebegin",i):this.insertToDOM(n)}}replace(e,n){if(this.blocks[e]===void 0)throw Error("Incorrect index");this.blocks[e].holder.replaceWith(n.holder),this.blocks[e]=n}insertMany(e,n){const o=new DocumentFragment;for(const r of e)o.appendChild(r.holder);if(this.length>0){if(n>0){const r=Math.min(n-1,this.length-1);this.blocks[r].holder.after(o)}else n===0&&this.workingArea.prepend(o);this.blocks.splice(n,0,...e)}else this.blocks.push(...e),this.workingArea.appendChild(o);e.forEach(r=>r.call(gt.RENDERED))}remove(e){isNaN(e)&&(e=this.length-1),this.blocks[e].holder.remove(),this.blocks[e].call(gt.REMOVED),this.blocks.splice(e,1)}removeAll(){this.workingArea.innerHTML="",this.blocks.forEach(e=>e.call(gt.REMOVED)),this.blocks.length=0}insertAfter(e,n){const o=this.blocks.indexOf(e);this.insert(o+1,n)}get(e){return this.blocks[e]}indexOf(e){return this.blocks.indexOf(e)}insertToDOM(e,n,o){n?o.holder.insertAdjacentElement(n,e.holder):this.workingArea.appendChild(e.holder),e.call(gt.RENDERED)}composeBlockEvent(e,n){return new CustomEvent(e,{detail:n})}}const Tc="block-removed",Bc="block-added",Ug="block-moved",Nc="block-changed";class Hg{constructor(){this.completed=Promise.resolve()}add(e){return new Promise((n,o)=>{this.completed=this.completed.then(e).then(n).catch(o)})}}class qg extends H{constructor(){super(...arguments),this._currentBlockIndex=-1,this._blocks=null}get currentBlockIndex(){return this._currentBlockIndex}set currentBlockIndex(e){this._currentBlockIndex=e}get firstBlock(){return this._blocks[0]}get lastBlock(){return this._blocks[this._blocks.length-1]}get currentBlock(){return this._blocks[this.currentBlockIndex]}set currentBlock(e){this.currentBlockIndex=this.getBlockIndex(e)}get nextBlock(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}get nextContentfulBlock(){return this.blocks.slice(this.currentBlockIndex+1).find(e=>!!e.inputs.length)}get previousContentfulBlock(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find(e=>!!e.inputs.length)}get previousBlock(){return this.currentBlockIndex===0?null:this._blocks[this.currentBlockIndex-1]}get blocks(){return this._blocks.array}get isEditorEmpty(){return this.blocks.every(e=>e.isEmpty)}prepare(){const e=new Zi(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(e,{set:Zi.set,get:Zi.get}),this.listeners.on(document,"copy",n=>this.Editor.BlockEvents.handleCommandC(n))}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}composeBlock({tool:e,data:n={},id:o=void 0,tunes:r={}}){const i=this.Editor.ReadOnly.isEnabled,s=this.Editor.Tools.blockTools.get(e),l=new ye({id:o,data:n,tool:s,api:this.Editor.API,readOnly:i,tunesData:r},this.eventsDispatcher);return i||window.requestIdleCallback(()=>{this.bindBlockEvents(l)},{timeout:2e3}),l}insert({id:e=void 0,tool:n=this.config.defaultBlock,data:o={},index:r,needToFocus:i=!0,replace:s=!1,tunes:l={}}={}){let a=r;a===void 0&&(a=this.currentBlockIndex+(s?0:1));const c=this.composeBlock({id:e,tool:n,data:o,tunes:l});return s&&this.blockDidMutated(Tc,this.getBlockByIndex(a),{index:a}),this._blocks.insert(a,c,s),this.blockDidMutated(Bc,c,{index:a}),i?this.currentBlockIndex=a:a<=this.currentBlockIndex&&this.currentBlockIndex++,c}insertMany(e,n=0){this._blocks.insertMany(e,n)}async update(e,n){const o=await e.data,r=this.composeBlock({id:e.id,tool:e.name,data:Object.assign({},o,n),tunes:e.tunes}),i=this.getBlockIndex(e);return this._blocks.replace(i,r),this.blockDidMutated(Nc,r,{index:i}),r}replace(e,n,o){const r=this.getBlockIndex(e);this.insert({tool:n,data:o,index:r,replace:!0})}paste(e,n,o=!1){const r=this.insert({tool:e,replace:o});try{window.requestIdleCallback(()=>{r.call(gt.ON_PASTE,n)})}catch(i){W(`${e}: onPaste callback call is failed`,"error",i)}return r}insertDefaultBlockAtIndex(e,n=!1){const o=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[e]=o,this.blockDidMutated(Bc,o,{index:e}),n?this.currentBlockIndex=e:e<=this.currentBlockIndex&&this.currentBlockIndex++,o}insertAtEnd(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}async mergeBlocks(e,n){const o=await n.data;Ge(o)||await e.mergeWith(o),this.removeBlock(n),this.currentBlockIndex=this._blocks.indexOf(e)}removeBlock(e,n=!0){return new Promise(o=>{const r=this._blocks.indexOf(e);if(!this.validateIndex(r))throw new Error("Can't find a Block to remove");e.destroy(),this._blocks.remove(r),this.blockDidMutated(Tc,e,{index:r}),this.currentBlockIndex>=r&&this.currentBlockIndex--,this.blocks.length?r===0&&(this.currentBlockIndex=0):(this.currentBlockIndex=-1,n&&this.insert()),o()})}removeSelectedBlocks(){let e;for(let n=this.blocks.length-1;n>=0;n--)this.blocks[n].selected&&(this.removeBlock(this.blocks[n]),e=n);return e}removeAllBlocks(){for(let e=this.blocks.length-1;e>=0;e--)this._blocks.remove(e);this.currentBlockIndex=-1,this.insert(),this.currentBlock.firstInput.focus()}split(){const e=this.Editor.Caret.extractFragmentFromCaretPosition(),n=k.make("div");n.appendChild(e);const o={text:k.isEmpty(n)?"":n.innerHTML};return this.insert({data:o})}getBlockByIndex(e){return e===-1&&(e=this._blocks.length-1),this._blocks[e]}getBlockIndex(e){return this._blocks.indexOf(e)}getBlockById(e){return this._blocks.array.find(n=>n.id===e)}getBlock(e){k.isElement(e)||(e=e.parentNode);const n=this._blocks.nodes,o=e.closest(`.${ye.CSS.wrapper}`),r=n.indexOf(o);if(r>=0)return this._blocks[r]}setCurrentBlockByChildNode(e){k.isElement(e)||(e=e.parentNode);const n=e.closest(`.${ye.CSS.wrapper}`);if(!n)return;const o=n.closest(`.${this.Editor.UI.CSS.editorWrapper}`);if(o!=null&&o.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(n),this.currentBlock.updateCurrentInput(),this.currentBlock}getBlockByChildNode(e){if(!e||!(e instanceof Node))return;k.isElement(e)||(e=e.parentNode);const n=e.closest(`.${ye.CSS.wrapper}`);return this.blocks.find(o=>o.holder===n)}swap(e,n){this._blocks.swap(e,n),this.currentBlockIndex=n}move(e,n=this.currentBlockIndex){if(isNaN(e)||isNaN(n)){W("Warning during 'move' call: incorrect indices provided.","warn");return}if(!this.validateIndex(e)||!this.validateIndex(n)){W("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn");return}this._blocks.move(e,n),this.currentBlockIndex=e,this.blockDidMutated(Ug,this.currentBlock,{fromIndex:n,toIndex:e})}async convert(e,n,o){if(!await e.save())throw new Error("Could not convert Block. Failed to extract original Block data.");const r=this.Editor.Tools.blockTools.get(n);if(!r)throw new Error(`Could not convert Block. Tool «${n}» not found.`);const i=await e.exportDataAsString(),s=kt(i,r.sanitizeConfig);let l=Hm(s,r.conversionConfig);o&&(l=Object.assign(l,o)),this.replace(e,r.name,l)}dropPointer(){this.currentBlockIndex=-1}async clear(e=!1){const n=new Hg;this.blocks.forEach(o=>{n.add(async()=>{await this.removeBlock(o,!1)})}),await n.completed,this.dropPointer(),e&&this.insert(),this.Editor.UI.checkEmptiness()}async destroy(){await Promise.all(this.blocks.map(e=>e.destroy()))}bindBlockEvents(e){const{BlockEvents:n}=this.Editor;this.readOnlyMutableListeners.on(e.holder,"keydown",o=>{n.keydown(o)}),this.readOnlyMutableListeners.on(e.holder,"keyup",o=>{n.keyup(o)}),this.readOnlyMutableListeners.on(e.holder,"dragover",o=>{n.dragOver(o)}),this.readOnlyMutableListeners.on(e.holder,"dragleave",o=>{n.dragLeave(o)}),e.on("didMutated",o=>this.blockDidMutated(Nc,o,{index:this.getBlockIndex(o)}))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}enableModuleBindings(){this.readOnlyMutableListeners.on(document,"cut",e=>this.Editor.BlockEvents.handleCommandX(e)),this.blocks.forEach(e=>{this.bindBlockEvents(e)})}validateIndex(e){return!(e<0||e>=this._blocks.length)}blockDidMutated(e,n,o){const r=new CustomEvent(e,{detail:{target:new Jt(n),...o}});return this.eventsDispatcher.emit(fh,{event:r}),n}}class Wg extends H{constructor(){super(...arguments),this.anyBlockSelectedCache=null,this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1}get sanitizerConfig(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}get allBlocksSelected(){const{BlockManager:e}=this.Editor;return e.blocks.every(n=>n.selected===!0)}set allBlocksSelected(e){const{BlockManager:n}=this.Editor;n.blocks.forEach(o=>{o.selected=e}),this.clearCache()}get anyBlockSelected(){const{BlockManager:e}=this.Editor;return this.anyBlockSelectedCache===null&&(this.anyBlockSelectedCache=e.blocks.some(n=>n.selected===!0)),this.anyBlockSelectedCache}get selectedBlocks(){return this.Editor.BlockManager.blocks.filter(e=>e.selected)}prepare(){this.selection=new O,Wn.add({name:"CMD+A",handler:e=>{const{BlockManager:n,ReadOnly:o}=this.Editor;if(o.isEnabled){e.preventDefault(),this.selectAllBlocks();return}n.currentBlock&&this.handleCommandA(e)},on:this.Editor.UI.nodes.redactor})}toggleReadOnly(){O.get().removeAllRanges(),this.allBlocksSelected=!1}unSelectBlockByIndex(e){const{BlockManager:n}=this.Editor;let o;isNaN(e)?o=n.currentBlock:o=n.getBlockByIndex(e),o.selected=!1,this.clearCache()}clearSelection(e,n=!1){const{BlockManager:o,Caret:r,RectangleSelection:i}=this.Editor;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;const s=e&&e instanceof KeyboardEvent,l=s&&ch(e.keyCode);if(this.anyBlockSelected&&s&&l&&!O.isSelectionExists){const a=o.removeSelectedBlocks();o.insertDefaultBlockAtIndex(a,!0),r.setToBlock(o.currentBlock),Gr(()=>{const c=e.key;r.insertContentAtCaretPosition(c.length>1?"":c)},20)()}if(this.Editor.CrossBlockSelection.clear(e),!this.anyBlockSelected||i.isRectActivated()){this.Editor.RectangleSelection.clearSelection();return}n&&this.selection.restore(),this.allBlocksSelected=!1}copySelectedBlocks(e){e.preventDefault();const n=k.make("div");this.selectedBlocks.forEach(i=>{const s=kt(i.holder.innerHTML,this.sanitizerConfig),l=k.make("p");l.innerHTML=s,n.appendChild(l)});const o=Array.from(n.childNodes).map(i=>i.textContent).join(`

`),r=n.innerHTML;return e.clipboardData.setData("text/plain",o),e.clipboardData.setData("text/html",r),Promise.all(this.selectedBlocks.map(i=>i.save())).then(i=>{try{e.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(i))}catch{}})}selectBlockByIndex(e){const{BlockManager:n}=this.Editor,o=n.getBlockByIndex(e);o!==void 0&&this.selectBlock(o)}selectBlock(e){this.selection.save(),O.get().removeAllRanges(),e.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}unselectBlock(e){e.selected=!1,this.clearCache()}clearCache(){this.anyBlockSelectedCache=null}destroy(){Wn.remove(this.Editor.UI.nodes.redactor,"CMD+A")}handleCommandA(e){if(this.Editor.RectangleSelection.clearSelection(),k.isNativeInput(e.target)&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}const n=this.Editor.BlockManager.getBlock(e.target),o=n.inputs;if(o.length>1&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}if(o.length===1&&!this.needToSelectAll){this.needToSelectAll=!0;return}this.needToSelectAll?(e.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1,this.Editor.ConversionToolbar.close()):this.readyToBlockSelection&&(e.preventDefault(),this.selectBlock(n),this.needToSelectAll=!0)}selectAllBlocks(){this.selection.save(),O.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}}class Jr extends H{get positions(){return{START:"start",END:"end",DEFAULT:"default"}}static get CSS(){return{shadowCaret:"cdx-shadow-caret"}}get isAtStart(){const{currentBlock:e}=this.Editor.BlockManager;if(!e.focusable)return!0;const n=O.get(),o=k.getDeepestNode(e.currentInput);let r=n.focusNode;if(k.isNativeInput(o))return o.selectionEnd===0;if(!n.anchorNode)return!1;let i=r.textContent.search(/\S/);i===-1&&(i=0);let s=n.focusOffset;return r.nodeType!==Node.TEXT_NODE&&r.childNodes.length&&(r.childNodes[s]?(r=r.childNodes[s],s=0):(r=r.childNodes[s-1],s=r.textContent.length)),(k.isLineBreakTag(o)||k.isEmpty(o))&&this.getHigherLevelSiblings(r,"left").every(l=>{const a=k.isLineBreakTag(l),c=l.children.length===1&&k.isLineBreakTag(l.children[0]),p=a||c;return k.isEmpty(l)&&!p})&&s===i?!0:o===null||r===o&&s<=i}get isAtEnd(){const{currentBlock:e}=this.Editor.BlockManager;if(!e.focusable)return!0;const n=O.get();let o=n.focusNode;const r=k.getDeepestNode(e.currentInput,!0);if(k.isNativeInput(r))return r.selectionEnd===r.value.length;if(!n.focusNode)return!1;let i=n.focusOffset;if(o.nodeType!==Node.TEXT_NODE&&o.childNodes.length&&(o.childNodes[i-1]?(o=o.childNodes[i-1],i=o.textContent.length):(o=o.childNodes[0],i=0)),k.isLineBreakTag(r)||k.isEmpty(r)){const l=this.getHigherLevelSiblings(o,"right");if(l.every((a,c)=>c===l.length-1&&k.isLineBreakTag(a)||k.isEmpty(a)&&!k.isLineBreakTag(a))&&i===o.textContent.length)return!0}const s=r.textContent.replace(/\s+$/,"");return o===r&&i>=s.length}setToBlock(e,n=this.positions.DEFAULT,o=0){var r;const{BlockManager:i,BlockSelection:s}=this.Editor;if(s.clearSelection(),!e.focusable){(r=window.getSelection())==null||r.removeAllRanges(),s.selectBlock(e),i.currentBlock=e;return}let l;switch(n){case this.positions.START:l=e.firstInput;break;case this.positions.END:l=e.lastInput;break;default:l=e.currentInput}if(!l)return;const a=k.getDeepestNode(l,n===this.positions.END),c=k.getContentLength(a);switch(!0){case n===this.positions.START:o=0;break;case n===this.positions.END:case o>c:o=c;break}this.set(a,o),i.setCurrentBlockByChildNode(e.holder),i.currentBlock.currentInput=l}setToInput(e,n=this.positions.DEFAULT,o=0){const{currentBlock:r}=this.Editor.BlockManager,i=k.getDeepestNode(e);switch(n){case this.positions.START:this.set(i,0);break;case this.positions.END:this.set(i,k.getContentLength(i));break;default:o&&this.set(i,o)}r.currentInput=e}set(e,n=0){const{top:o,bottom:r}=O.setCursor(e,n),{innerHeight:i}=window;o<0?window.scrollBy(0,o-30):r>i&&window.scrollBy(0,r-i+30)}setToTheLastBlock(){const e=this.Editor.BlockManager.lastBlock;if(e)if(e.tool.isDefault&&e.isEmpty)this.setToBlock(e);else{const n=this.Editor.BlockManager.insertAtEnd();this.setToBlock(n)}}extractFragmentFromCaretPosition(){const e=O.get();if(e.rangeCount){const n=e.getRangeAt(0),o=this.Editor.BlockManager.currentBlock.currentInput;if(n.deleteContents(),o)if(k.isNativeInput(o)){const r=o,i=document.createDocumentFragment(),s=r.value.substring(0,r.selectionStart),l=r.value.substring(r.selectionStart);return i.textContent=l,r.value=s,i}else{const r=n.cloneRange();return r.selectNodeContents(o),r.setStart(n.endContainer,n.endOffset),r.extractContents()}}}navigateNext(e=!1){const{BlockManager:n}=this.Editor,{currentBlock:o,nextBlock:r}=n,{nextInput:i}=o,s=this.isAtEnd;let l=r;const a=e||s;if(i&&a)return this.setToInput(i,this.positions.START),!0;if(l===null){if(o.tool.isDefault||!a)return!1;l=n.insertAtEnd()}return a?(this.setToBlock(l,this.positions.START),!0):!1}navigatePrevious(e=!1){const{currentBlock:n,previousBlock:o}=this.Editor.BlockManager;if(!n)return!1;const{previousInput:r}=n,i=e||this.isAtStart;return r&&i?(this.setToInput(r,this.positions.END),!0):o!==null&&i?(this.setToBlock(o,this.positions.END),!0):!1}createShadow(e){const n=document.createElement("span");n.classList.add(Jr.CSS.shadowCaret),e.insertAdjacentElement("beforeend",n)}restoreCaret(e){const n=e.querySelector(`.${Jr.CSS.shadowCaret}`);if(!n)return;new O().expandToTag(n);const o=document.createRange();o.selectNode(n),o.extractContents()}insertContentAtCaretPosition(e){const n=document.createDocumentFragment(),o=document.createElement("div"),r=O.get(),i=O.range;o.innerHTML=e,Array.from(o.childNodes).forEach(c=>n.appendChild(c)),n.childNodes.length===0&&n.appendChild(new Text);const s=n.lastChild;i.deleteContents(),i.insertNode(n);const l=document.createRange(),a=s.nodeType===Node.TEXT_NODE?s:s.firstChild;a!==null&&a.textContent!==null&&l.setStart(a,a.textContent.length),r.removeAllRanges(),r.addRange(l)}getHigherLevelSiblings(e,n){let o=e;const r=[];for(;o.parentNode&&o.parentNode.contentEditable!=="true";)o=o.parentNode;const i=n==="left"?"previousSibling":"nextSibling";for(;o[i];)o=o[i],r.push(o);return r}}class Vg extends H{constructor(){super(...arguments),this.onMouseUp=()=>{this.listeners.off(document,"mouseover",this.onMouseOver),this.listeners.off(document,"mouseup",this.onMouseUp)},this.onMouseOver=e=>{const{BlockManager:n,BlockSelection:o}=this.Editor;if(e.relatedTarget===null&&e.target===null)return;const r=n.getBlockByChildNode(e.relatedTarget)||this.lastSelectedBlock,i=n.getBlockByChildNode(e.target);if(!(!r||!i)&&i!==r){if(r===this.firstSelectedBlock){O.get().removeAllRanges(),r.selected=!0,i.selected=!0,o.clearCache();return}if(i===this.firstSelectedBlock){r.selected=!1,i.selected=!1,o.clearCache();return}this.Editor.InlineToolbar.close(),this.toggleBlocksSelectedState(r,i),this.lastSelectedBlock=i}}}async prepare(){this.listeners.on(document,"mousedown",e=>{this.enableCrossBlockSelection(e)})}watchSelection(e){if(e.button!==Cm.LEFT)return;const{BlockManager:n}=this.Editor;this.firstSelectedBlock=n.getBlock(e.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}get isCrossBlockSelectionStarted(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock}toggleBlockSelectedState(e=!0){const{BlockManager:n,BlockSelection:o}=this.Editor;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=n.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,o.clearCache(),O.get().removeAllRanges());const r=n.blocks.indexOf(this.lastSelectedBlock)+(e?1:-1),i=n.blocks[r];i&&(this.lastSelectedBlock.selected!==i.selected?(i.selected=!0,o.clearCache()):(this.lastSelectedBlock.selected=!1,o.clearCache()),this.lastSelectedBlock=i,this.Editor.InlineToolbar.close(),i.holder.scrollIntoView({block:"nearest"}))}clear(e){const{BlockManager:n,BlockSelection:o,Caret:r}=this.Editor,i=n.blocks.indexOf(this.firstSelectedBlock),s=n.blocks.indexOf(this.lastSelectedBlock);if(o.anyBlockSelected&&i>-1&&s>-1&&e&&e instanceof KeyboardEvent)switch(e.keyCode){case A.DOWN:case A.RIGHT:r.setToBlock(n.blocks[Math.max(i,s)],r.positions.END);break;case A.UP:case A.LEFT:r.setToBlock(n.blocks[Math.min(i,s)],r.positions.START);break;default:r.setToBlock(n.blocks[Math.max(i,s)],r.positions.END)}this.firstSelectedBlock=this.lastSelectedBlock=null}enableCrossBlockSelection(e){const{UI:n}=this.Editor;O.isCollapsed||this.Editor.BlockSelection.clearSelection(e),n.nodes.redactor.contains(e.target)?this.watchSelection(e):this.Editor.BlockSelection.clearSelection(e)}toggleBlocksSelectedState(e,n){const{BlockManager:o,BlockSelection:r}=this.Editor,i=o.blocks.indexOf(e),s=o.blocks.indexOf(n),l=e.selected!==n.selected;for(let a=Math.min(i,s);a<=Math.max(i,s);a++){const c=o.blocks[a];c!==this.firstSelectedBlock&&c!==(l?e:n)&&(o.blocks[a].selected=!o.blocks[a].selected,r.clearCache())}}}class Yg extends H{constructor(){super(...arguments),this.isStartedAtEditor=!1}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}enableModuleBindings(){const{UI:e}=this.Editor;this.readOnlyMutableListeners.on(e.nodes.holder,"drop",async n=>{await this.processDrop(n)},!0),this.readOnlyMutableListeners.on(e.nodes.holder,"dragstart",()=>{this.processDragStart()}),this.readOnlyMutableListeners.on(e.nodes.holder,"dragover",n=>{this.processDragOver(n)},!0)}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}async processDrop(e){const{BlockManager:n,Caret:o,Paste:r}=this.Editor;e.preventDefault(),n.blocks.forEach(s=>{s.dropTarget=!1}),O.isAtEditor&&!O.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1;const i=n.setCurrentBlockByChildNode(e.target);if(i)this.Editor.Caret.setToBlock(i,o.positions.END);else{const s=n.setCurrentBlockByChildNode(n.lastBlock.holder);this.Editor.Caret.setToBlock(s,o.positions.END)}await r.processDataTransfer(e.dataTransfer,!0)}processDragStart(){O.isAtEditor&&!O.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}processDragOver(e){e.preventDefault()}}class Kg extends H{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.disabled=!1,this.batchingTimeout=null,this.batchingOnChangeQueue=new Map,this.batchTime=400,this.mutationObserver=new MutationObserver(o=>{this.redactorChanged(o)}),this.eventsDispatcher.on(fh,o=>{this.particularBlockChanged(o.event)}),this.eventsDispatcher.on(mh,()=>{this.disable()}),this.eventsDispatcher.on(gh,()=>{this.enable()})}enable(){this.mutationObserver.observe(this.Editor.UI.nodes.redactor,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.disabled=!1}disable(){this.mutationObserver.disconnect(),this.disabled=!0}particularBlockChanged(e){this.disabled||!Q(this.config.onChange)||(this.batchingOnChangeQueue.set(`block:${e.detail.target.id}:event:${e.type}`,e),this.batchingTimeout&&clearTimeout(this.batchingTimeout),this.batchingTimeout=setTimeout(()=>{let n;this.batchingOnChangeQueue.size===1?n=this.batchingOnChangeQueue.values().next().value:n=Array.from(this.batchingOnChangeQueue.values()),this.config.onChange&&this.config.onChange(this.Editor.API.methods,n),this.batchingOnChangeQueue.clear()},this.batchTime))}redactorChanged(e){this.eventsDispatcher.emit(Vs,{mutations:e})}}const Th=class extends H{constructor(){super(...arguments),this.MIME_TYPE="application/x-editor-js",this.toolsTags={},this.tagsByTool={},this.toolsPatterns=[],this.toolsFiles={},this.exceptionList=[],this.processTool=t=>{try{const e=t.create({},{},!1);if(t.pasteConfig===!1){this.exceptionList.push(t.name);return}if(!Q(e.onPaste))return;this.getTagsConfig(t),this.getFilesConfig(t),this.getPatternsConfig(t)}catch(e){W(`Paste handling for «${t.name}» Tool hasn't been set up because of the error`,"warn",e)}},this.handlePasteEvent=async t=>{const{BlockManager:e,Toolbar:n}=this.Editor,o=e.setCurrentBlockByChildNode(t.target);!o||this.isNativeBehaviour(t.target)&&!t.clipboardData.types.includes("Files")||o&&this.exceptionList.includes(o.name)||(t.preventDefault(),this.processDataTransfer(t.clipboardData),n.close())}}async prepare(){this.processTools()}toggleReadOnly(t){t?this.unsetCallback():this.setCallback()}async processDataTransfer(t,e=!1){const{Tools:n}=this.Editor,o=t.types;if((o.includes?o.includes("Files"):o.contains("Files"))&&!Ge(this.toolsFiles)){await this.processFiles(t.files);return}const r=t.getData(this.MIME_TYPE),i=t.getData("text/plain");let s=t.getData("text/html");if(r)try{this.insertEditorJSData(JSON.parse(r));return}catch{}e&&i.trim()&&s.trim()&&(s="<p>"+(s.trim()?s:i)+"</p>");const l=Object.keys(this.toolsTags).reduce((p,d)=>(p[d.toLowerCase()]=this.toolsTags[d].sanitizationConfig??{},p),{}),a=Object.assign({},l,n.getAllInlineToolsSanitizeConfig(),{br:{}}),c=kt(s,a);!c.trim()||c.trim()===i||!k.isHTMLString(c)?await this.processText(i):await this.processText(c,!0)}async processText(t,e=!1){const{Caret:n,BlockManager:o}=this.Editor,r=e?this.processHTML(t):this.processPlain(t);if(!r.length)return;if(r.length===1){r[0].isBlock?this.processSingleBlock(r.pop()):this.processInlinePaste(r.pop());return}const i=o.currentBlock&&o.currentBlock.tool.isDefault&&o.currentBlock.isEmpty;r.map(async(s,l)=>this.insertBlock(s,l===0&&i)),o.currentBlock&&n.setToBlock(o.currentBlock,n.positions.END)}setCallback(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}unsetCallback(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}processTools(){const t=this.Editor.Tools.blockTools;Array.from(t.values()).forEach(this.processTool)}collectTagNames(t){return qt(t)?[t]:we(t)?Object.keys(t):[]}getTagsConfig(t){if(t.pasteConfig===!1)return;const e=t.pasteConfig.tags||[],n=[];e.forEach(o=>{const r=this.collectTagNames(o);n.push(...r),r.forEach(i=>{if(Object.prototype.hasOwnProperty.call(this.toolsTags,i)){W(`Paste handler for «${t.name}» Tool on «${i}» tag is skipped because it is already used by «${this.toolsTags[i].tool.name}» Tool.`,"warn");return}const s=we(o)?o[i]:null;this.toolsTags[i.toUpperCase()]={tool:t,sanitizationConfig:s}})}),this.tagsByTool[t.name]=n.map(o=>o.toUpperCase())}getFilesConfig(t){if(t.pasteConfig===!1)return;const{files:e={}}=t.pasteConfig;let{extensions:n,mimeTypes:o}=e;!n&&!o||(n&&!Array.isArray(n)&&(W(`«extensions» property of the onDrop config for «${t.name}» Tool should be an array`),n=[]),o&&!Array.isArray(o)&&(W(`«mimeTypes» property of the onDrop config for «${t.name}» Tool should be an array`),o=[]),o&&(o=o.filter(r=>_m(r)?!0:(W(`MIME type value «${r}» for the «${t.name}» Tool is not a valid MIME type`,"warn"),!1))),this.toolsFiles[t.name]={extensions:n||[],mimeTypes:o||[]})}getPatternsConfig(t){t.pasteConfig===!1||!t.pasteConfig.patterns||Ge(t.pasteConfig.patterns)||Object.entries(t.pasteConfig.patterns).forEach(([e,n])=>{n instanceof RegExp||W(`Pattern ${n} for «${t.name}» Tool is skipped because it should be a Regexp instance.`,"warn"),this.toolsPatterns.push({key:e,pattern:n,tool:t})})}isNativeBehaviour(t){return k.isNativeInput(t)}async processFiles(t){const{BlockManager:e}=this.Editor;let n;n=await Promise.all(Array.from(t).map(r=>this.processFile(r))),n=n.filter(r=>!!r);const o=e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty;n.forEach((r,i)=>{e.paste(r.type,r.event,i===0&&o)})}async processFile(t){const e=Im(t),n=Object.entries(this.toolsFiles).find(([r,{mimeTypes:i,extensions:s}])=>{const[l,a]=t.type.split("/"),c=s.find(d=>d.toLowerCase()===e.toLowerCase()),p=i.find(d=>{const[f,y]=d.split("/");return f===l&&(y===a||y==="*")});return!!c||!!p});if(!n)return;const[o]=n;return{event:this.composePasteEvent("file",{file:t}),type:o}}processHTML(t){const{Tools:e}=this.Editor,n=k.make("DIV");return n.innerHTML=t,this.getNodes(n).map(o=>{let r,i=e.defaultTool,s=!1;switch(o.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:r=k.make("div"),r.appendChild(o);break;case Node.ELEMENT_NODE:r=o,s=!0,this.toolsTags[r.tagName]&&(i=this.toolsTags[r.tagName].tool);break}const{tags:l}=i.pasteConfig||{tags:[]},a=l.reduce((d,f)=>(this.collectTagNames(f).forEach(y=>{const v=we(f)?f[y]:null;d[y.toLowerCase()]=v||{}}),d),{}),c=Object.assign({},a,i.baseSanitizeConfig);if(r.tagName.toLowerCase()==="table"){const d=kt(r.outerHTML,c);r=k.make("div",void 0,{innerHTML:d}).firstChild}else r.innerHTML=kt(r.innerHTML,c);const p=this.composePasteEvent("tag",{data:r});return{content:r,isBlock:s,tool:i.name,event:p}}).filter(o=>{const r=k.isEmpty(o.content),i=k.isSingleTag(o.content);return!r||i})}processPlain(t){const{defaultBlock:e}=this.config;if(!t)return[];const n=e;return t.split(/\r?\n/).filter(o=>o.trim()).map(o=>{const r=k.make("div");r.textContent=o;const i=this.composePasteEvent("tag",{data:r});return{content:r,tool:n,isBlock:!1,event:i}})}async processSingleBlock(t){const{Caret:e,BlockManager:n}=this.Editor,{currentBlock:o}=n;if(!o||t.tool!==o.name||!k.containsOnlyInlineElements(t.content.innerHTML)){this.insertBlock(t,(o==null?void 0:o.tool.isDefault)&&o.isEmpty);return}e.insertContentAtCaretPosition(t.content.innerHTML)}async processInlinePaste(t){const{BlockManager:e,Caret:n}=this.Editor,{content:o}=t;if(e.currentBlock&&e.currentBlock.tool.isDefault&&o.textContent.length<Th.PATTERN_PROCESSING_MAX_LENGTH){const r=await this.processPattern(o.textContent);if(r){const i=e.currentBlock&&e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty,s=e.paste(r.tool,r.event,i);n.setToBlock(s,n.positions.END);return}}if(e.currentBlock&&e.currentBlock.currentInput){const r=e.currentBlock.tool.baseSanitizeConfig;document.execCommand("insertHTML",!1,kt(o.innerHTML,r))}else this.insertBlock(t)}async processPattern(t){const e=this.toolsPatterns.find(n=>{const o=n.pattern.exec(t);return o?t===o.shift():!1});return e?{event:this.composePasteEvent("pattern",{key:e.key,data:t}),tool:e.tool.name}:void 0}insertBlock(t,e=!1){const{BlockManager:n,Caret:o}=this.Editor,{currentBlock:r}=n;let i;if(e&&r&&r.isEmpty){i=n.paste(t.tool,t.event,!0),o.setToBlock(i,o.positions.END);return}i=n.paste(t.tool,t.event),o.setToBlock(i,o.positions.END)}insertEditorJSData(t){const{BlockManager:e,Caret:n,Tools:o}=this.Editor;vh(t,r=>o.blockTools.get(r).sanitizeConfig).forEach(({tool:r,data:i},s)=>{let l=!1;s===0&&(l=e.currentBlock&&e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty);const a=e.insert({tool:r,data:i,replace:l});n.setToBlock(a,n.positions.END)})}processElementNode(t,e,n){const o=Object.keys(this.toolsTags),r=t,{tool:i}=this.toolsTags[r.tagName]||{},s=this.tagsByTool[i==null?void 0:i.name]||[],l=o.includes(r.tagName),a=k.blockElements.includes(r.tagName.toLowerCase()),c=Array.from(r.children).some(({tagName:d})=>o.includes(d)&&!s.includes(d)),p=Array.from(r.children).some(({tagName:d})=>k.blockElements.includes(d.toLowerCase()));if(!a&&!l&&!c)return n.appendChild(r),[...e,n];if(l&&!c||a&&!p&&!c)return[...e,n,r]}getNodes(t){const e=Array.from(t.childNodes);let n;const o=(r,i)=>{if(k.isEmpty(i)&&!k.isSingleTag(i))return r;const s=r[r.length-1];let l=new DocumentFragment;switch(s&&k.isFragment(s)&&(l=r.pop()),i.nodeType){case Node.ELEMENT_NODE:if(n=this.processElementNode(i,r,l),n)return n;break;case Node.TEXT_NODE:return l.appendChild(i),[...r,l];default:return[...r,l]}return[...r,...Array.from(i.childNodes).reduce(o,[])]};return e.reduce(o,[])}composePasteEvent(t,e){return new CustomEvent(t,{detail:e})}};let Bh=Th;Bh.PATTERN_PROCESSING_MAX_LENGTH=450;class Zg extends H{constructor(){super(...arguments),this.toolsDontSupportReadOnly=[],this.readOnlyEnabled=!1}get isEnabled(){return this.readOnlyEnabled}async prepare(){const{Tools:e}=this.Editor,{blockTools:n}=e,o=[];Array.from(n.entries()).forEach(([r,i])=>{i.isReadOnlySupported||o.push(r)}),this.toolsDontSupportReadOnly=o,this.config.readOnly&&o.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly)}async toggle(e=!this.readOnlyEnabled){e&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError();const n=this.readOnlyEnabled;this.readOnlyEnabled=e;for(const r in this.Editor)this.Editor[r].toggleReadOnly&&this.Editor[r].toggleReadOnly(e);if(n===e)return this.readOnlyEnabled;const o=await this.Editor.Saver.save();return await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(o.blocks),this.readOnlyEnabled}throwCriticalError(){throw new ph(`To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`)}}class bo extends H{constructor(){super(...arguments),this.isRectSelectionActivated=!1,this.SCROLL_SPEED=3,this.HEIGHT_OF_SCROLL_ZONE=40,this.BOTTOM_SCROLL_ZONE=1,this.TOP_SCROLL_ZONE=2,this.MAIN_MOUSE_BUTTON=0,this.mousedown=!1,this.isScrolling=!1,this.inScrollZone=null,this.startX=0,this.startY=0,this.mouseX=0,this.mouseY=0,this.stackOfSelected=[],this.listenerIds=[]}static get CSS(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}prepare(){this.enableModuleBindings()}startSelection(e,n){const o=document.elementFromPoint(e-window.pageXOffset,n-window.pageYOffset);o.closest(`.${this.Editor.Toolbar.CSS.toolbar}`)||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);const r=[`.${ye.CSS.content}`,`.${this.Editor.Toolbar.CSS.toolbar}`,`.${this.Editor.InlineToolbar.CSS.inlineToolbar}`],i=o.closest("."+this.Editor.UI.CSS.editorWrapper),s=r.some(l=>!!o.closest(l));!i||s||(this.mousedown=!0,this.startX=e,this.startY=n)}endSelection(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}isRectActivated(){return this.isRectSelectionActivated}clearSelection(){this.isRectSelectionActivated=!1}enableModuleBindings(){const{container:e}=this.genHTML();this.listeners.on(e,"mousedown",n=>{this.processMouseDown(n)},!1),this.listeners.on(document.body,"mousemove",Hs(n=>{this.processMouseMove(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseleave",()=>{this.processMouseLeave()}),this.listeners.on(window,"scroll",Hs(n=>{this.processScroll(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseup",()=>{this.processMouseUp()},!1)}processMouseDown(e){e.button===this.MAIN_MOUSE_BUTTON&&(e.target.closest(k.allInputsSelector)!==null||this.startSelection(e.pageX,e.pageY))}processMouseMove(e){this.changingRectangle(e),this.scrollByZones(e.clientY)}processMouseLeave(){this.clearSelection(),this.endSelection()}processScroll(e){this.changingRectangle(e)}processMouseUp(){this.clearSelection(),this.endSelection()}scrollByZones(e){if(this.inScrollZone=null,e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),!this.inScrollZone){this.isScrolling=!1;return}this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0)}genHTML(){const{UI:e}=this.Editor,n=e.nodes.holder.querySelector("."+e.CSS.editorWrapper),o=k.make("div",bo.CSS.overlay,{}),r=k.make("div",bo.CSS.overlayContainer,{}),i=k.make("div",bo.CSS.rect,{});return r.appendChild(i),o.appendChild(r),n.appendChild(o),this.overlayRectangle=i,{container:n,overlay:o}}scrollVertical(e){if(!(this.inScrollZone&&this.mousedown))return;const n=window.pageYOffset;window.scrollBy(0,e),this.mouseY+=window.pageYOffset-n,setTimeout(()=>{this.scrollVertical(e)},0)}changingRectangle(e){if(!this.mousedown)return;e.pageY!==void 0&&(this.mouseX=e.pageX,this.mouseY=e.pageY);const{rightPos:n,leftPos:o,index:r}=this.genInfoForMouseSelection(),i=this.startX>n&&this.mouseX>n,s=this.startX<o&&this.mouseX<o;this.rectCrossesBlocks=!(i||s),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),r!==void 0&&(this.trySelectNextBlock(r),this.inverseSelection(),O.get().removeAllRanges())}shrinkRectangleToPoint(){this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`}inverseSelection(){const e=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!e)for(const n of this.stackOfSelected)this.Editor.BlockSelection.selectBlockByIndex(n);if(!this.rectCrossesBlocks&&e)for(const n of this.stackOfSelected)this.Editor.BlockSelection.unSelectBlockByIndex(n)}updateRectangleSize(){this.mouseY>=this.startY?(this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.mouseY-window.pageYOffset}px`):(this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.top=`${this.mouseY-window.pageYOffset}px`),this.mouseX>=this.startX?(this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.mouseX-window.pageXOffset}px`):(this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.left=`${this.mouseX-window.pageXOffset}px`)}genInfoForMouseSelection(){const e=document.body.offsetWidth/2,n=this.mouseY-window.pageYOffset,o=document.elementFromPoint(e,n),r=this.Editor.BlockManager.getBlockByChildNode(o);let i;r!==void 0&&(i=this.Editor.BlockManager.blocks.findIndex(p=>p.holder===r.holder));const s=this.Editor.BlockManager.lastBlock.holder.querySelector("."+ye.CSS.content),l=Number.parseInt(window.getComputedStyle(s).width,10)/2,a=e-l,c=e+l;return{index:i,leftPos:a,rightPos:c}}addBlockInSelection(e){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(e),this.stackOfSelected.push(e)}trySelectNextBlock(e){const n=this.stackOfSelected[this.stackOfSelected.length-1]===e,o=this.stackOfSelected.length,r=1,i=-1,s=0;if(n)return;const l=this.stackOfSelected[o-1]-this.stackOfSelected[o-2]>0;let a=s;o>1&&(a=l?r:i);const c=e>this.stackOfSelected[o-1]&&a===r,p=e<this.stackOfSelected[o-1]&&a===i,d=!(c||p||a===s);if(!d&&(e>this.stackOfSelected[o-1]||this.stackOfSelected[o-1]===void 0)){let v=this.stackOfSelected[o-1]+1||e;for(v;v<=e;v++)this.addBlockInSelection(v);return}if(!d&&e<this.stackOfSelected[o-1]){for(let v=this.stackOfSelected[o-1]-1;v>=e;v--)this.addBlockInSelection(v);return}if(!d)return;let f=o-1,y;for(e>this.stackOfSelected[o-1]?y=()=>e>this.stackOfSelected[f]:y=()=>e<this.stackOfSelected[f];y();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[f]),this.stackOfSelected.pop(),f--}}class Qg extends H{async render(e){return new Promise(n=>{const{Tools:o,BlockManager:r}=this.Editor;if(e.length===0)r.insert();else{const i=e.map(({type:s,data:l,tunes:a,id:c})=>{o.available.has(s)===!1&&(ot(`Tool «${s}» is not found. Check 'tools' property at the Editor.js config.`,"warn"),l=this.composeStubDataForTool(s,l,c),s=o.stubTool);let p;try{p=r.composeBlock({id:c,tool:s,data:l,tunes:a})}catch(d){W(`Block «${s}» skipped because of plugins error`,"error",{data:l,error:d}),l=this.composeStubDataForTool(s,l,c),s=o.stubTool,p=r.composeBlock({id:c,tool:s,data:l,tunes:a})}return p});r.insertMany(i)}window.requestIdleCallback(()=>{n()},{timeout:2e3})})}composeStubDataForTool(e,n,o){const{Tools:r}=this.Editor;let i=e;if(r.unavailable.has(e)){const s=r.unavailable.get(e).toolbox;s!==void 0&&s[0].title!==void 0&&(i=s[0].title)}return{savedData:{id:o,type:e,data:n},title:i}}}class Xg extends H{async save(){const{BlockManager:e,Tools:n}=this.Editor,o=e.blocks,r=[];try{o.forEach(l=>{r.push(this.getSavedData(l))});const i=await Promise.all(r),s=await vh(i,l=>n.blockTools.get(l).sanitizeConfig);return this.makeOutput(s)}catch(i){ot("Saving failed due to the Error %o","error",i)}}async getSavedData(e){const n=await e.save(),o=n&&await e.validate(n.data);return{...n,isValid:o}}makeOutput(e){const n=[];return e.forEach(({id:o,tool:r,data:i,tunes:s,isValid:l})=>{if(!l){W(`Block «${r}» skipped because saved data is invalid`);return}if(r===this.Editor.Tools.stubTool){n.push(i);return}const a={id:o,type:r,data:i,...!Ge(s)&&{tunes:s}};n.push(a)}),{time:+new Date,blocks:n,version:"2.29.1"}}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-paragraph{line-height:1.6em;outline:none}.ce-paragraph[data-placeholder]:empty:before{content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:before{opacity:1}.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty:before,.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus:before{opacity:0}.ce-paragraph p:first-of-type{margin-top:0}.ce-paragraph p:last-of-type{margin-bottom:0}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const Gg='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>';/**
 * Base Paragraph Block for the Editor.js.
 * Represents a regular text block
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */class oa{static get DEFAULT_PLACEHOLDER(){return""}constructor({data:e,config:n,api:o,readOnly:r}){this.api=o,this.readOnly=r,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=n.placeholder?n.placeholder:oa.DEFAULT_PLACEHOLDER,this._data={},this._element=null,this._preserveBlank=n.preserveBlank!==void 0?n.preserveBlank:!1,this.data=e}onKeyUp(e){if(e.code!=="Backspace"&&e.code!=="Delete")return;const{textContent:n}=this._element;n===""&&(this._element.innerHTML="")}drawView(){const e=document.createElement("DIV");return e.classList.add(this._CSS.wrapper,this._CSS.block),e.contentEditable=!1,e.dataset.placeholder=this.api.i18n.t(this._placeholder),this._data.text&&(e.innerHTML=this._data.text),this.readOnly||(e.contentEditable=!0,e.addEventListener("keyup",this.onKeyUp)),e}render(){return this._element=this.drawView(),this._element}merge(e){const n={text:this.data.text+e.text};this.data=n}validate(e){return!(e.text.trim()===""&&!this._preserveBlank)}save(e){return{text:e.innerHTML}}onPaste(e){const n={text:e.detail.data.innerHTML};this.data=n}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{text:{br:!0}}}static get isReadOnlySupported(){return!0}get data(){if(this._element!==null){const e=this._element.innerHTML;this._data.text=e}return this._data}set data(e){this._data=e||{},this._element!==null&&this.hydrate()}hydrate(){window.requestAnimationFrame(()=>{this._element.innerHTML=this._data.text||""})}static get pasteConfig(){return{tags:["P"]}}static get toolbox(){return{icon:Gg,title:"Text"}}}class ra{constructor(){this.commandName="bold",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--bold"},this.nodes={button:void 0}}static get sanitize(){return{b:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=kg,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+B"}}ra.isInline=!0;ra.title="Bold";class ia{constructor(){this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}static get sanitize(){return{i:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=Sg,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+I"}}ia.isInline=!0;ia.title="Italic";class sa{constructor({api:e}){this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=e.toolbar,this.inlineToolbar=e.inlineToolbar,this.notifier=e.notifier,this.i18n=e.i18n,this.selection=new O}static get sanitize(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=Cc,this.nodes.button}renderActions(){return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",e=>{e.keyCode===this.ENTER_KEY&&this.enterPressed(e)}),this.nodes.input}surround(e){if(e){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());const n=this.selection.findParentTag("A");if(n){this.selection.expandToTag(n),this.unlink(),this.closeActions(),this.checkState(),this.toolbar.close();return}}this.toggleActions()}checkState(){const e=this.selection.findParentTag("A");if(e){this.nodes.button.innerHTML=Bg,this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();const n=e.getAttribute("href");this.nodes.input.value=n!=="null"?n:"",this.selection.save()}else this.nodes.button.innerHTML=Cc,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!e}clear(){this.closeActions()}get shortcut(){return"CMD+K"}toggleActions(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}openActions(e=!1){this.nodes.input.classList.add(this.CSS.inputShowed),e&&this.nodes.input.focus(),this.inputOpened=!0}closeActions(e=!0){if(this.selection.isFakeBackgroundEnabled){const n=new O;n.save(),this.selection.restore(),this.selection.removeFakeBackground(),n.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",e&&this.selection.clearSaved(),this.inputOpened=!1}enterPressed(e){let n=this.nodes.input.value||"";if(!n.trim()){this.selection.restore(),this.unlink(),e.preventDefault(),this.closeActions();return}if(!this.validateURL(n)){this.notifier.show({message:"Pasted link is not valid.",style:"error"}),W("Incorrect Link pasted","warn",n);return}n=this.prepareLink(n),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(n),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.selection.collapseToEnd(),this.inlineToolbar.close()}validateURL(e){return!/\s/.test(e)}prepareLink(e){return e=e.trim(),e=this.addProtocol(e),e}addProtocol(e){if(/^(\w+):(\/\/)?/.test(e))return e;const n=/^\/[^/\s]/.test(e),o=e.substring(0,1)==="#",r=/^\/\/[^/\s]/.test(e);return!n&&!o&&!r&&(e="http://"+e),e}insertLink(e){const n=this.selection.findParentTag("A");n&&this.selection.expandToTag(n),document.execCommand(this.commandLink,!1,e)}unlink(){document.execCommand(this.commandUnlink)}}sa.isInline=!0;sa.title="Link";class Nh{constructor({data:e,api:n}){this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=n,this.title=e.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=e.savedData,this.wrapper=this.make()}render(){return this.wrapper}save(){return this.savedData}make(){const e=k.make("div",this.CSS.wrapper),n=Ng,o=k.make("div",this.CSS.info),r=k.make("div",this.CSS.title,{textContent:this.title}),i=k.make("div",this.CSS.subtitle,{textContent:this.subtitle});return e.innerHTML=n,o.appendChild(r),o.appendChild(i),e.appendChild(o),e}}Nh.isReadOnlySupported=!0;class Jg extends na{constructor(){super(...arguments),this.type=ki.Inline}get title(){return this.constructable[ta.Title]}create(){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings})}}class e0 extends na{constructor(){super(...arguments),this.type=ki.Tune}create(e,n){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings,block:n,data:e})}}class Ee extends Map{get blockTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isBlock());return new Ee(e)}get inlineTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isInline());return new Ee(e)}get blockTunes(){const e=Array.from(this.entries()).filter(([,n])=>n.isTune());return new Ee(e)}get internalTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isInternal);return new Ee(e)}get externalTools(){const e=Array.from(this.entries()).filter(([,n])=>!n.isInternal);return new Ee(e)}}var t0=Object.defineProperty,n0=Object.getOwnPropertyDescriptor,Ih=(t,e,n,o)=>{for(var r=o>1?void 0:o?n0(e,n):e,i=t.length-1,s;i>=0;i--)(s=t[i])&&(r=(o?s(e,n,r):s(r))||r);return o&&r&&t0(e,n,r),r};class la extends na{constructor(){super(...arguments),this.type=ki.Block,this.inlineTools=new Ee,this.tunes=new Ee}create(e,n,o){return new this.constructable({data:e,block:n,readOnly:o,api:this.api.getMethodsForTool(this),config:this.settings})}get isReadOnlySupported(){return this.constructable[yn.IsReadOnlySupported]===!0}get isLineBreaksEnabled(){return this.constructable[yn.IsEnabledLineBreaks]}get toolbox(){const e=this.constructable[yn.Toolbox],n=this.config[Br.Toolbox];if(!Ge(e)&&n!==!1)return n?Array.isArray(e)?Array.isArray(n)?n.map((o,r)=>{const i=e[r];return i?{...i,...o}:o}):[n]:Array.isArray(n)?n:[{...e,...n}]:Array.isArray(e)?e:[e]}get conversionConfig(){return this.constructable[yn.ConversionConfig]}get enabledInlineTools(){return this.config[Br.EnabledInlineTools]||!1}get enabledBlockTunes(){return this.config[Br.EnabledBlockTunes]}get pasteConfig(){return this.constructable[yn.PasteConfig]??{}}get sanitizeConfig(){const e=super.sanitizeConfig,n=this.baseSanitizeConfig;if(Ge(e))return n;const o={};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=e[r];we(i)?o[r]=Object.assign({},n,i):o[r]=i}return o}get baseSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(n=>Object.assign(e,n.sanitizeConfig)),Array.from(this.tunes.values()).forEach(n=>Object.assign(e,n.sanitizeConfig)),e}}Ih([Zn],la.prototype,"sanitizeConfig",1);Ih([Zn],la.prototype,"baseSanitizeConfig",1);class o0{constructor(e,n,o){this.api=o,this.config=e,this.editorConfig=n}get(e){const{class:n,isInternal:o=!1,...r}=this.config[e],i=this.getConstructor(n);return new i({name:e,constructable:n,config:r,api:this.api,isDefault:e===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:o})}getConstructor(e){switch(!0){case e[ta.IsInline]:return Jg;case e[Ch.IsTune]:return e0;default:return la}}}class _h{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:kh,title:this.api.i18n.t("Move down"),onActivate:()=>this.handleClick(),name:"move-down"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(e+1);if(!n)throw new Error("Unable to move Block down since it is already the last");const o=n.holder,r=o.getBoundingClientRect();let i=Math.abs(window.innerHeight-o.offsetHeight);r.top<window.innerHeight&&(i=window.scrollY+o.offsetHeight),window.scrollTo(0,i),this.api.blocks.move(e+1),this.api.toolbar.toggleBlockSettings(!0)}}_h.isTune=!0;class Mh{constructor({api:e}){this.api=e}render(){return{icon:xg,title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:()=>this.handleClick()}}}handleClick(){this.api.blocks.delete()}}Mh.isTune=!0;class Lh{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:wg,title:this.api.i18n.t("Move up"),onActivate:()=>this.handleClick(),name:"move-up"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(e),o=this.api.blocks.getBlockByIndex(e-1);if(e===0||!n||!o)throw new Error("Unable to move Block up since it is already the first");const r=n.holder,i=o.holder,s=r.getBoundingClientRect(),l=i.getBoundingClientRect();let a;l.top>0?a=Math.abs(s.top)-Math.abs(l.top):a=Math.abs(s.top)+l.height,window.scrollBy(0,-1*a),this.api.blocks.move(e-1),this.api.toolbar.toggleBlockSettings(!0)}}Lh.isTune=!0;var r0=Object.defineProperty,i0=Object.getOwnPropertyDescriptor,s0=(t,e,n,o)=>{for(var r=o>1?void 0:o?i0(e,n):e,i=t.length-1,s;i>=0;i--)(s=t[i])&&(r=(o?s(e,n,r):s(r))||r);return o&&r&&r0(e,n,r),r};class Oh extends H{constructor(){super(...arguments),this.stubTool="stub",this.toolsAvailable=new Ee,this.toolsUnavailable=new Ee}get available(){return this.toolsAvailable}get unavailable(){return this.toolsUnavailable}get inlineTools(){return this.available.inlineTools}get blockTools(){return this.available.blockTools}get blockTunes(){return this.available.blockTunes}get defaultTool(){return this.blockTools.get(this.config.defaultBlock)}get internal(){return this.available.internalTools}async prepare(){if(this.validateTools(),this.config.tools=qs({},this.internalTools,this.config.tools),!Object.prototype.hasOwnProperty.call(this.config,"tools")||Object.keys(this.config.tools).length===0)throw Error("Can't start without tools");const e=this.prepareConfig();this.factory=new o0(e,this.config,this.Editor.API);const n=this.getListOfPrepareFunctions(e);if(n.length===0)return Promise.resolve();await Nm(n,o=>{this.toolPrepareMethodSuccess(o)},o=>{this.toolPrepareMethodFallback(o)}),this.prepareBlockTools()}getAllInlineToolsSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(n=>{Object.assign(e,n.sanitizeConfig)}),e}destroy(){Object.values(this.available).forEach(async e=>{Q(e.reset)&&await e.reset()})}get internalTools(){return{bold:{class:ra,isInternal:!0},italic:{class:ia,isInternal:!0},link:{class:sa,isInternal:!0},paragraph:{class:oa,inlineToolbar:!0,isInternal:!0},stub:{class:Nh,isInternal:!0},moveUp:{class:Lh,isInternal:!0},delete:{class:Mh,isInternal:!0},moveDown:{class:_h,isInternal:!0}}}toolPrepareMethodSuccess(e){const n=this.factory.get(e.toolName);if(n.isInline()){const o=["render","surround","checkState"].filter(r=>!n.create()[r]);if(o.length){W(`Incorrect Inline Tool: ${n.name}. Some of required methods is not implemented %o`,"warn",o),this.toolsUnavailable.set(n.name,n);return}}this.toolsAvailable.set(n.name,n)}toolPrepareMethodFallback(e){this.toolsUnavailable.set(e.toolName,this.factory.get(e.toolName))}getListOfPrepareFunctions(e){const n=[];return Object.entries(e).forEach(([o,r])=>{n.push({function:Q(r.class.prepare)?r.class.prepare:()=>{},data:{toolName:o,config:r.config}})}),n}prepareBlockTools(){Array.from(this.blockTools.values()).forEach(e=>{this.assignInlineToolsToBlockTool(e),this.assignBlockTunesToBlockTool(e)})}assignInlineToolsToBlockTool(e){if(this.config.inlineToolbar!==!1){if(e.enabledInlineTools===!0){e.inlineTools=new Ee(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map(n=>[n,this.inlineTools.get(n)]):Array.from(this.inlineTools.entries()));return}Array.isArray(e.enabledInlineTools)&&(e.inlineTools=new Ee(e.enabledInlineTools.map(n=>[n,this.inlineTools.get(n)])))}}assignBlockTunesToBlockTool(e){if(e.enabledBlockTunes!==!1){if(Array.isArray(e.enabledBlockTunes)){const n=new Ee(e.enabledBlockTunes.map(o=>[o,this.blockTunes.get(o)]));e.tunes=new Ee([...n,...this.blockTunes.internalTools]);return}if(Array.isArray(this.config.tunes)){const n=new Ee(this.config.tunes.map(o=>[o,this.blockTunes.get(o)]));e.tunes=new Ee([...n,...this.blockTunes.internalTools]);return}e.tunes=this.blockTunes.internalTools}}validateTools(){for(const e in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,e)){if(e in this.internalTools)return;const n=this.config.tools[e];if(!Q(n)&&!Q(n.class))throw Error(`Tool «${e}» must be a constructor function or an object with function in the «class» property`)}}prepareConfig(){const e={};for(const n in this.config.tools)we(this.config.tools[n])?e[n]=this.config.tools[n]:e[n]={class:this.config.tools[n]};return e}}s0([Zn],Oh.prototype,"getAllInlineToolsSanitizeConfig",1);const l0=`:root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0px;left:0px;right:0px;bottom:0px;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}.codex-editor ::-moz-selection{background-color:#d4ecff}.codex-editor ::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;opacity:0;visibility:hidden;-webkit-transition:opacity .25s ease;transition:opacity .25s ease;will-change:opacity,left,top;top:0;left:0;z-index:3}.ce-inline-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-inline-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-inline-toolbar--showed{opacity:1;visibility:visible}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;border-radius:0;line-height:normal}.ce-inline-tool svg{width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#eff2f5}}.ce-inline-tool--active{color:#388ae5}.ce-inline-tool--focused{background:rgba(34,186,255,.08)!important}.ce-inline-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-inline-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{outline:none;border:0;border-radius:0 0 4px 4px;margin:0;font-size:13px;padding:10px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;border-top:1px solid rgba(201,201,204,.48);-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-conversion-toolbar{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;opacity:0;visibility:hidden;will-change:transform,opacity;-webkit-transition:opacity .1s ease,-webkit-transform .1s ease;transition:opacity .1s ease,-webkit-transform .1s ease;transition:transform .1s ease,opacity .1s ease;transition:transform .1s ease,opacity .1s ease,-webkit-transform .1s ease;-webkit-transform:translateY(-8px);transform:translateY(-8px);left:-1px;width:190px;margin-top:5px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-conversion-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-conversion-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-conversion-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:none;transform:none}.ce-conversion-toolbar [hidden]{display:none!important}.ce-conversion-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-conversion-toolbar__label{color:#707684;font-size:11px;font-weight:500;letter-spacing:.33px;padding:10px 10px 5px;text-transform:uppercase}.ce-conversion-tool{display:-webkit-box;display:-ms-flexbox;display:flex;padding:5px 10px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-conversion-tool--hidden{display:none}.ce-conversion-tool--focused{background:rgba(34,186,255,.08)!important}.ce-conversion-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-conversion-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-conversion-tool:hover{background:#eff2f5}.ce-conversion-tool__icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px rgba(201,201,204,.48);box-shadow:0 0 0 1px #c9c9cc7a;border-radius:5px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background:#fff;-webkit-box-sizing:content-box;box-sizing:content-box;-ms-flex-negative:0;flex-shrink:0;margin-right:10px}.ce-conversion-tool__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-conversion-tool__icon{width:36px;height:36px;border-radius:8px}.ce-conversion-tool__icon svg{width:28px;height:28px}}.ce-conversion-tool--last{margin-right:0!important}.ce-conversion-tool--active{color:#388ae5!important}.ce-conversion-tool--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-conversion-tool__secondary-label{color:#707684;font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width: 650px){.ce-conversion-tool__secondary-label{display:none}}.ce-settings__button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;line-height:32px}.ce-settings__button svg{width:20px;height:20px}@media (max-width: 650px){.ce-settings__button svg{width:28px;height:28px}}@media (hover: hover){.ce-settings__button:hover{background-color:#eff2f5}}.ce-settings__button--active{color:#388ae5}.ce-settings__button--focused{background:rgba(34,186,255,.08)!important}.ce-settings__button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-settings__button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-settings__button:not(:nth-child(3n+3)){margin-right:3px}.ce-settings__button:nth-child(n+4){margin-top:3px}.ce-settings__button--disabled{cursor:not-allowed!important}.ce-settings__button--disabled{opacity:.3}.ce-settings__button--selected{color:#388ae5}@media (min-width: 651px){.codex-editor--narrow .ce-settings .ce-popover{right:0;left:auto;left:initial}}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button svg{width:20px;height:20px}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px 18px;margin:10px 0;border-radius:10px;background:#eff2f5;border:1px solid #EFF0F1;color:#707684;font-size:14px}.ce-stub svg{width:20px;height:20px}.ce-stub__info{margin-left:14px}.ce-stub__title{font-weight:500;text-transform:capitalize}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0px;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:rgba(232,232,235,.49);border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #e8e8eb;--color-shadow: rgba(13,20,33,.13);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #eff2f5;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:0;top:calc(100% + var(--offset-from-target));background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}.ce-popover--open-top{top:calc(-1 * (var(--offset-from-target) + var(--popover-height)))}@media (max-width: 650px){.ce-popover{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}.ce-popover .ce-popover__search{display:none}}.ce-popover__search,.ce-popover__custom-content:not(:empty){margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover__custom-content:not(:empty){padding:4px}@media (min-width: 651px){.ce-popover__custom-content:not(:empty){padding:0}}.ce-popover__custom-content--hidden{display:none}.ce-popover-item{--border-radius: 6px;--icon-size: 20px;--icon-size-mobile: 28px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:3px;color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{border-radius:5px;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px var(--color-border-icon);box-shadow:0 0 0 1px var(--color-border-icon);background:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:10px}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:var(--icon-size-mobile);height:var(--icon-size-mobile)}}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--active .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--disabled .ce-popover-item__icon{-webkit-box-shadow:0 0 0 1px var(--color-border-icon-disabled);box-shadow:0 0 0 1px var(--color-border-icon-disabled)}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--focused:not(.ce-popover-item--no-focus){-webkit-box-shadow:inset 0 0 0px 1px var(--color-shadow-item-focus);box-shadow:inset 0 0 0 1px var(--color-shadow-item-focus)}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}.ce-popover-item:hover .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__icon{color:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}.ce-popover-item--confirmation .ce-popover-item__icon,.ce-popover-item--active .ce-popover-item__icon,.ce-popover-item--focused .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}
`;class a0 extends H{constructor(){super(...arguments),this.isMobile=!1,this.contentRectCache=void 0,this.resizeDebouncer=bc(()=>{this.windowResize()},200)}get CSS(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}get contentRect(){if(this.contentRectCache)return this.contentRectCache;const e=this.nodes.wrapper.querySelector(`.${ye.CSS.content}`);return e?(this.contentRectCache=e.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}async prepare(){this.checkIsMobile(),this.make(),this.loadStyles()}toggleReadOnly(e){e?this.disableModuleBindings():window.requestIdleCallback(()=>{this.enableModuleBindings()},{timeout:2e3})}checkEmptiness(){const{BlockManager:e}=this.Editor;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,e.isEditorEmpty)}get someToolbarOpened(){const{Toolbar:e,BlockSettings:n,InlineToolbar:o,ConversionToolbar:r}=this.Editor;return n.opened||o.opened||r.opened||e.toolbox.opened}get someFlipperButtonFocused(){return this.Editor.Toolbar.toolbox.hasFocus()?!0:Object.entries(this.Editor).filter(([e,n])=>n.flipper instanceof Ct).some(([e,n])=>n.flipper.hasFocus())}destroy(){this.nodes.holder.innerHTML=""}closeAllToolbars(){const{Toolbar:e,BlockSettings:n,InlineToolbar:o,ConversionToolbar:r}=this.Editor;n.close(),o.close(),r.close(),e.toolbox.close()}checkIsMobile(){this.isMobile=window.innerWidth<dh}make(){this.nodes.holder=k.getHolder(this.config.holder),this.nodes.wrapper=k.make("div",[this.CSS.editorWrapper,...this.isRtl?[this.CSS.editorRtlFix]:[]]),this.nodes.redactor=k.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper)}loadStyles(){const e="editor-js-styles";if(k.get(e))return;const n=k.make("style",null,{id:e,textContent:l0.toString()});this.config.style&&!Ge(this.config.style)&&this.config.style.nonce&&n.setAttribute("nonce",this.config.style.nonce),k.prepend(document.head,n)}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.redactor,"click",n=>{this.redactorClicked(n)},!1),this.readOnlyMutableListeners.on(this.nodes.redactor,"mousedown",n=>{this.documentTouched(n)},{capture:!0,passive:!0}),this.readOnlyMutableListeners.on(this.nodes.redactor,"touchstart",n=>{this.documentTouched(n)},{capture:!0,passive:!0}),this.readOnlyMutableListeners.on(document,"keydown",n=>{this.documentKeydown(n)},!0),this.readOnlyMutableListeners.on(document,"mousedown",n=>{this.documentClicked(n)},!0);const e=bc(()=>{this.selectionChanged()},180);this.readOnlyMutableListeners.on(document,"selectionchange",e,!0),this.readOnlyMutableListeners.on(window,"resize",()=>{this.resizeDebouncer()},{passive:!0}),this.watchBlockHoveredEvents()}watchBlockHoveredEvents(){let e;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",Hs(n=>{const o=n.target.closest(".ce-block");this.Editor.BlockSelection.anyBlockSelected||o&&e!==o&&(e=o,this.eventsDispatcher.emit(Sh,{block:this.Editor.BlockManager.getBlockByChildNode(o)}))},20),{passive:!0})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}windowResize(){this.contentRectCache=null,this.checkIsMobile()}documentKeydown(e){switch(e.keyCode){case A.ENTER:this.enterPressed(e);break;case A.BACKSPACE:case A.DELETE:this.backspacePressed(e);break;case A.ESC:this.escapePressed(e);break;default:this.defaultBehaviour(e);break}}defaultBehaviour(e){const{currentBlock:n}=this.Editor.BlockManager,o=e.target.closest(`.${this.CSS.editorWrapper}`),r=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;if(n!==void 0&&o===null){this.Editor.BlockEvents.keydown(e);return}o||n&&r||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close())}backspacePressed(e){const{BlockManager:n,BlockSelection:o,Caret:r}=this.Editor;if(o.anyBlockSelected&&!O.isSelectionExists){const i=n.removeSelectedBlocks(),s=n.insertDefaultBlockAtIndex(i,!0);r.setToBlock(s,r.positions.START),o.clearSelection(e),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}}escapePressed(e){this.Editor.BlockSelection.clearSelection(e),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.ConversionToolbar.opened?this.Editor.ConversionToolbar.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}enterPressed(e){const{BlockManager:n,BlockSelection:o}=this.Editor,r=n.currentBlockIndex>=0;if(o.anyBlockSelected&&!O.isSelectionExists){o.clearSelection(e),e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation();return}if(!this.someToolbarOpened&&r&&e.target.tagName==="BODY"){const i=this.Editor.BlockManager.insert();this.Editor.Caret.setToBlock(i),this.Editor.Toolbar.moveAndOpen(i)}this.Editor.BlockSelection.clearSelection(e)}documentClicked(e){var n,o;if(!e.isTrusted)return;const r=e.target;this.nodes.holder.contains(r)||O.isAtEditor||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close());const i=(n=this.Editor.BlockSettings.nodes.wrapper)==null?void 0:n.contains(r),s=(o=this.Editor.Toolbar.nodes.settingsToggler)==null?void 0:o.contains(r),l=i||s;if(this.Editor.BlockSettings.opened&&!l){this.Editor.BlockSettings.close();const a=this.Editor.BlockManager.getBlockByChildNode(r);this.Editor.Toolbar.moveAndOpen(a)}this.Editor.BlockSelection.clearSelection(e)}documentTouched(e){let n=e.target;if(n===this.nodes.redactor){const o=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,r=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;n=document.elementFromPoint(o,r)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(n)}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.Toolbar.moveAndOpen()}redactorClicked(e){if(!O.isCollapsed)return;const n=e.target,o=e.metaKey||e.ctrlKey;if(k.isAnchor(n)&&o){e.stopImmediatePropagation(),e.stopPropagation();const r=n.getAttribute("href"),i=Lm(r);jm(i);return}this.processBottomZoneClick(e)}processBottomZoneClick(e){const n=this.Editor.BlockManager.getBlockByIndex(-1),o=k.offset(n.holder).bottom,r=e.pageY,{BlockSelection:i}=this.Editor;if(e.target instanceof Element&&e.target.isEqualNode(this.nodes.redactor)&&!i.anyBlockSelected&&o<r){e.stopImmediatePropagation(),e.stopPropagation();const{BlockManager:s,Caret:l,Toolbar:a}=this.Editor;(!s.lastBlock.tool.isDefault||!s.lastBlock.isEmpty)&&s.insertAtEnd(),l.setToTheLastBlock(),a.moveAndOpen(s.lastBlock)}}selectionChanged(){const{CrossBlockSelection:e,BlockSelection:n}=this.Editor,o=O.anchorElement;if(e.isCrossBlockSelectionStarted&&n.anyBlockSelected&&O.get().removeAllRanges(),!o){O.range||this.Editor.InlineToolbar.close();return}const r=o.closest(`.${ye.CSS.content}`)===null;if(r&&(this.Editor.InlineToolbar.containsNode(o)||this.Editor.InlineToolbar.close(),o.dataset.inlineToolbar!=="true"))return;this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(o);const i=r!==!0;this.Editor.InlineToolbar.tryToShow(!0,i)}}const c0={BlocksAPI:qm,CaretAPI:Wm,EventsAPI:Vm,I18nAPI:Ql,API:Ym,InlineToolbarAPI:Km,ListenersAPI:Zm,NotifierAPI:Jm,ReadOnlyAPI:eg,SanitizerAPI:lg,SaverAPI:ag,SelectionAPI:cg,StylesAPI:ug,ToolbarAPI:dg,TooltipAPI:gg,UiAPI:vg,BlockSettings:Lg,ConversionToolbar:Fe,Toolbar:Fg,InlineToolbar:zg,BlockEvents:$g,BlockManager:qg,BlockSelection:Wg,Caret:Jr,CrossBlockSelection:Vg,DragNDrop:Yg,ModificationsObserver:Kg,Paste:Bh,ReadOnly:Zg,RectangleSelection:bo,Renderer:Qg,Saver:Xg,Tools:Oh,UI:a0};class u0{constructor(e){this.moduleInstances={},this.eventsDispatcher=new yi;let n,o;this.isReady=new Promise((r,i)=>{n=r,o=i}),Promise.resolve().then(async()=>{this.configuration=e,this.validate(),this.init(),await this.start(),await this.render();const{BlockManager:r,Caret:i,UI:s,ModificationsObserver:l}=this.moduleInstances;s.checkEmptiness(),l.enable(),this.configuration.autofocus&&i.setToBlock(r.blocks[0],i.positions.START),n()}).catch(r=>{W(`Editor.js is not ready because of ${r}`,"error"),o(r)})}set configuration(e){var n,o;we(e)?this.config={...e}:this.config={holder:e},Ws(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),this.config.holder==null&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=ah.VERBOSE),Tm(this.config.logLevel),Ws(!!this.config.initialBlock,"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight!==void 0?this.config.minHeight:300;const r={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=this.config.hideToolbar?this.config.hideToolbar:!1,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||(()=>{}),this.config.onChange=this.config.onChange||(()=>{}),this.config.inlineToolbar=this.config.inlineToolbar!==void 0?this.config.inlineToolbar:!0,(Ge(this.config.data)||!this.config.data.blocks||this.config.data.blocks.length===0)&&(this.config.data={blocks:[r]}),this.config.readOnly=this.config.readOnly||!1,(n=this.config.i18n)!=null&&n.messages&&je.setDictionary(this.config.i18n.messages),this.config.i18n.direction=((o=this.config.i18n)==null?void 0:o.direction)||"ltr"}get configuration(){return this.config}validate(){const{holderId:e,holder:n}=this.config;if(e&&n)throw Error("«holderId» and «holder» param can't assign at the same time.");if(qt(n)&&!k.get(n))throw Error(`element with ID «${n}» is missing. Pass correct holder's ID.`);if(n&&we(n)&&!k.isElement(n))throw Error("«holder» value must be an Element node")}init(){this.constructModules(),this.configureModules()}async start(){await["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"].reduce((e,n)=>e.then(async()=>{try{await this.moduleInstances[n].prepare()}catch(o){if(o instanceof ph)throw new Error(o.message);W(`Module ${n} was skipped because of %o`,"warn",o)}}),Promise.resolve())}render(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}constructModules(){Object.entries(c0).forEach(([e,n])=>{try{this.moduleInstances[e]=new n({config:this.configuration,eventsDispatcher:this.eventsDispatcher})}catch(o){W("[constructModules]",`Module ${e} skipped because`,"error",o)}})}configureModules(){for(const e in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,e)&&(this.moduleInstances[e].state=this.getModulesDiff(e))}getModulesDiff(e){const n={};for(const o in this.moduleInstances)o!==e&&(n[o]=this.moduleInstances[o]);return n}}/**
 * Editor.js
 *
 * @license Apache-2.0
 * @see Editor.js <https://editorjs.io>
 * @author CodeX Team <https://codex.so>
 */class d0{static get version(){return"2.29.1"}constructor(e){let n=()=>{};we(e)&&Q(e.onReady)&&(n=e.onReady);const o=new u0(e);this.isReady=o.isReady.then(()=>{this.exportAPI(o),n()})}exportAPI(e){const n=["configuration"],o=()=>{Object.values(e.moduleInstances).forEach(r=>{Q(r.destroy)&&r.destroy(),r.listeners.removeAll()}),mg(),e=null;for(const r in this)Object.prototype.hasOwnProperty.call(this,r)&&delete this[r];Object.setPrototypeOf(this,null)};n.forEach(r=>{this[r]=e[r]}),this.destroy=o,Object.setPrototypeOf(this,e.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(([r,i])=>{Object.entries(i).forEach(([s,l])=>{this[l]=e.moduleInstances.API.methods[r][s]})})}}const h0=(t,e,n,o)=>{let r=JSON.parse(localStorage.getItem(ce));console.log("Selected chapter is",o),r.projects.forEach((i,s)=>{i.id==t.id&&(r.projects[s]=t)}),localStorage.setItem(ce,JSON.stringify(r)),e(n)},aa=({max:t,progress:e})=>(console.log(e,t),u.jsxs("div",{className:"bar",children:[u.jsxs("span",{children:[e," / ",t]}),u.jsx("div",{className:"progress",style:{width:`${e/t*100}%`}})]}));aa.propTypes={progress:E.number.isRequired,max:E.number.isRequired};const jh=({selectedChapter:t,PreSave:e,modificationActive:n,setModificationActive:o,newCharacterCount:r,dailyObjective:i,selectedProject:s})=>(console.log("At SelectChapters.jsx"),console.log(s),u.jsxs("div",{className:"field display-column",children:[u.jsxs("div",{className:"field display-row",id:"editor-header",children:[u.jsx(te,{icon:n?'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path d="M480-424 284-228q-11 11-28 11t-28-11q-11-11-11-28t11-28l196-196-196-196q-11-11-11-28t11-28q11-11 28-11t28 11l196 196 196-196q11-11 28-11t28 11q11 11 11 28t-11 28L536-480l196 196q11 11 11 28t-11 28q-11 11-28 11t-28-11L480-424Z"/></svg>':'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path d="M160-120q-17 0-28.5-11.5T120-160v-97q0-16 6-30.5t17-25.5l505-504q12-11 26.5-17t30.5-6q16 0 31 6t26 18l55 56q12 11 17.5 26t5.5 30q0 16-5.5 30.5T817-647L313-143q-11 11-25.5 17t-30.5 6h-97Zm544-528 56-56-56-56-56 56 56 56Z"/></svg>',text:n?"Fermer":`Modifier ${t.name}`,className:"primary width-fit-content",onClick:()=>{o(!n)}}),s&&s.end?u.jsx("div",{className:"daily-objective",children:r>=i?u.jsx("span",{id:"big-weight",children:"Objectif journalier atteint ! Bien joué !"}):u.jsxs(u.Fragment,{children:[u.jsx("span",{children:"Objectif journalier"}),u.jsx(aa,{max:i,progress:r})]})}):null]}),u.jsxs("div",{className:"field",style:{display:n?"flex":"none"},children:[u.jsx(Le,{type:"text",placeholder:"Nom du chapitre",value:t.name,onChange:()=>e(),parameters:{id:"chapter-name"}}),u.jsx(Le,{className:"textarea",placeholder:"Résumé du chapitre",value:t.description,onChange:()=>e(),parameters:{id:"chapter-description"}})]})]},0));jh.propTypes={selectedChapter:E.object.isRequired,PreSave:E.func.isRequired,modificationActive:E.bool.isRequired,setModificationActive:E.func.isRequired,newCharacterCount:E.number.isRequired,dailyObjective:E.number.isRequired,selectedProject:E.object.isRequired};const Ah=({projects:t,setDisplay:e,setSelectedProject:n,setShowAlert:o})=>u.jsx("div",{className:"field",children:u.jsxs("div",{className:"projects",children:[u.jsx(te,{icon:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path d="M440-440v120q0 17 11.5 28.5T480-280q17 0 28.5-11.5T520-320v-120h120q17 0 28.5-11.5T680-480q0-17-11.5-28.5T640-520H520v-120q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640v120H320q-17 0-28.5 11.5T280-480q0 17 11.5 28.5T320-440h120Zm40 360q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Z"/></svg>',text:"Nouveau projet",onClick:()=>{e(!1),o(!0)},className:"primary"}),t.map((r,i)=>u.jsxs("div",{className:"project",onClick:()=>n(r),children:[u.jsx("img",{src:r.image}),u.jsx("div",{className:"name",children:r.name})]},i))]})});Ah.propTypes={projects:E.array,setDisplay:E.func,setSelectedProject:E.func,setShowAlert:E.func};const p0=(t,e,n,o)=>{let r=JSON.parse(localStorage.getItem(ce));r.projects.forEach((i,s)=>{if(i.id===t.id){let l=0;console.log("Selected chapter is",o,"for deletion"),o.content.blocks.forEach(a=>{l+=a.data.text.length}),t.stats.sessions=t.stats.sessions.filter(a=>a.chapter!==o.id),t.stats.sessions.forEach((a,c)=>{t.stats.sessions[c].index=c+1}),t.stats.total-=l,t.chapters=i.chapters.filter(a=>a.id!==o.id),r.projects[s]=t}}),localStorage.setItem(ce,JSON.stringify(r)),n(r.projects),e(t)},Ph=({selectedProject:t,setSelectedChapter:e,setGlobalDisplayChapters:n,globalDisplayChapters:o,setProjects:r})=>u.jsxs("div",{className:"field",children:[u.jsxs("div",{className:"sub-field-container display-column",children:[u.jsx(aa,{max:t.length,progress:t.stats.total}),u.jsxs("div",{className:"sub-field display-row",children:[u.jsx(te,{icon:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path d="M440-440H240q-17 0-28.5-11.5T200-480q0-17 11.5-28.5T240-520h200v-200q0-17 11.5-28.5T480-760q17 0 28.5 11.5T520-720v200h200q17 0 28.5 11.5T760-480q0 17-11.5 28.5T720-440H520v200q0 17-11.5 28.5T480-200q-17 0-28.5-11.5T440-240v-200Z"/></svg>',onClick:()=>{t.chapters||(t.chapters=[]),t.chapters.push({name:"Nouveau chapitre",index:t.chapters.length+1,id:Vl(),content:{blocks:[]}}),e(t.chapters[t.chapters.length-1])},className:"primary width-fit-content"}),u.jsx(Le,{type:"text",placeholder:"Rechercher un chapitre",parameters:{id:"chapter-search"},onChange:()=>{let i=document.getElementById("chapter-search").value.toLowerCase();if(i.length>=2){let s=t.chapters.filter(l=>l.name.toLowerCase().includes(i)||l.description&&l.description.toLowerCase().includes(i));n(s)}else n(t.chapters)}})]})]}),u.jsx("div",{className:"chapters",children:o.map((i,s)=>u.jsxs("div",{className:"chapter",children:[u.jsxs("div",{className:"chapter-content",onClick:()=>{e(i)},children:[u.jsx("div",{className:"name",children:i.name}),u.jsx("div",{className:"description",children:i.description?i.description.length>150?i.description.substring(0,150)+"...":i.description:"Pas de description"})]}),u.jsx("div",{className:"icon-alone-display",onDoubleClick:()=>p0(t,i,r,n),children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 -960 960 960",width:"24",children:u.jsx("path",{d:"M280-120q-33 0-56.5-23.5T200-200v-520q-17 0-28.5-11.5T160-760q0-17 11.5-28.5T200-800h160q0-17 11.5-28.5T400-840h160q17 0 28.5 11.5T600-800h160q17 0 28.5 11.5T800-760q0 17-11.5 28.5T760-720v520q0 33-23.5 56.5T680-120H280Zm120-160q17 0 28.5-11.5T440-320v-280q0-17-11.5-28.5T400-640q-17 0-28.5 11.5T360-600v280q0 17 11.5 28.5T400-280Zm160 0q17 0 28.5-11.5T600-320v-280q0-17-11.5-28.5T560-640q-17 0-28.5 11.5T520-600v280q0 17 11.5 28.5T560-280Z"})})})]},s))})]});Ph.propTypes={selectedProject:E.object,setSelectedChapter:E.func,setGlobalDisplayChapters:E.func,globalDisplayChapters:E.array,setProjects:E.func};const Ic=(t,e,n,o,r,i,s)=>{e&&t.save().then(l=>{e.content=l;let a=JSON.parse(localStorage.getItem(ce));a.projects.forEach((c,p)=>{if(c.id===o.id){const d=r,f=i,y=Math.floor((new Date().getTime()-s)/36e5),v=Math.floor((new Date().getTime()-s)%36e5/6e4),x={words:d,date:f,hours:y,minutes:v,chapter:e.id};o.stats.total+=d,o.stats.sessions.push(x),a.projects[p]=o}}),localStorage.setItem(ce,JSON.stringify(a)),n(null),console.log("Saved chapter",e)})},Rh=({setDisplay:t,setShowAlert:e,selectedProject:n,setSelectedProject:o,selectedChapter:r,setSelectedChapter:i})=>{const[s,l]=F.useState(JSON.parse(localStorage.getItem(ce)).projects),[a,c]=F.useState([]),[p,d]=F.useState(null),f=new Date,y=f.getDate(),v=f.getMonth()+1,x=f.getFullYear(),m=`${y}/${v}/${x}`,h=new Date().getTime(),[g,w]=F.useState(0),[S,N]=F.useState(!1),[I,b]=F.useState();F.useEffect(()=>{if(n&&n.chapters&&(n.chapters.sort((T,j)=>T.index-j.index),c(n.chapters),n.end)){const T=new Date(n.end),j=Math.floor((T.getTime()-new Date().getTime())/(1e3*60*60*24)),P=n.length;b(Math.round(P/j)),console.log("Daily objective is",I)}},[n]),F.useEffect(()=>{console.log("New character count",g)},[g]),F.useEffect(()=>{if(r&&r.content){console.log("Selected chapter is",r);let T=0;n.stats.sessions.forEach(P=>{const D=P.date.includes("/")?P.date.split("/"):P.date.split("-"),V=new Date(D[2],D[1]-1,D[0]);console.log("Date is",V);const z=new Date;V.getDate()===z.getDate()&&V.getMonth()===z.getMonth()&&V.getFullYear()===z.getFullYear()&&(T+=P.words)}),console.log("Initialzied new character count",T),w(T);const j=new d0({holder:"editor",data:r.content,inlineToolbar:!0,tools:{},onChange:()=>{j.save().then(P=>{const D=P.blocks.reduce((ie,De)=>ie+De.data.text.length,0),V=r.content.blocks.reduce((ie,De)=>ie+De.data.text.length,0),z=D-V;console.log("New character count",z),w(T+z)})}});d(j)}else p&&(p.destroy(),d(null))},[r]);const B=()=>{r.name=document.getElementById("chapter-name").value,r.description=document.getElementById("chapter-description").value};return u.jsx(u.Fragment,{children:u.jsx(Kt,{title:n==null?"Sélectionner un projet":r==null?"Sélectionner un chapitre":null,message:n==null?"Sélectionner un projet pour voir les chapitres":r==null?`Sélectionner un chapitre de ${n.name}`:null,className:`select-editor ${r&&n?"dispatch-header":""} ${r?"big":""}`,buttons:[n?{text:"Retour",onClick:()=>{r==null?o(null):Ic(p,r,i,n,g,m,h)},className:"primary"}:null,r!=null?{text:"Sauvegarder",onClick:()=>{Ic(p,r,i,n,g,m,h),h0(n,l,s,r)},className:"primary"}:gi(t,null,r==null||n==null?"Quitter":null)],additional_content:[r?u.jsx(jh,{selectedChapter:r,PreSave:B,modificationActive:S,setModificationActive:N,newCharacterCount:g,dailyObjective:I,selectedProject:n}):null,n?null:u.jsx(Ah,{projects:s,setSelectedProject:o,setDisplay:t,setShowAlert:e}),n&&r==null?u.jsx(Ph,{globalDisplayChapters:a,setSelectedChapter:i,selectedProject:n,setDisplay:t,setShowAlert:e,setGlobalDisplayChapters:c}):null,r!=null&&n!=null?u.jsx("div",{id:"editor"}):null]})})};Rh.propTypes={setDisplay:E.func,setShowAlert:E.func,selectedProject:E.object,setSelectedProject:E.func,selectedChapter:E.object,setSelectedChapter:E.func};function f0(){const t=F.useRef(null),e=JSON.parse(localStorage.getItem(ce)),[n,o]=F.useState(!1),[r,i]=F.useState(null),[s,l]=F.useState(!1),[a,c]=F.useState(!1),[p,d]=F.useState(!1),[f,y]=F.useState([]),[v,x]=F.useState(null),[L,m]=F.useState(null),[h,g]=F.useState(!!(e&&(e.firstConnection===void 0||e.firstConnection===!0)));console.log("First connection ?",h);const w=()=>{const P=document.getElementById("searchInput").value.toLowerCase();if(P.length>=2){const V=(JSON.parse(localStorage.getItem(ce)).projects||[]).filter(z=>z.name.toLowerCase().includes(P));y(V)}else y([])},[S,N]=F.useState(!1);F.useEffect(()=>{s&&t.current.focus()},[s]);const[I,b]=F.useState(!1),[B,T]=F.useState(""),j=()=>{const P=JSON.parse(localStorage.getItem(ce));h==!0&&localStorage.setItem(ce,JSON.stringify({firstConnection:!1,projects:P.projects||[]})),g(!1)};return u.jsxs(u.Fragment,{children:[h==!0&&u.jsx(Kt,{title:"Bienvenue sur WriPilTra (Writing Pilot Tracker)",message:"Write Progress Tracker est une application qui vous permet de suivre la progression de vos projets d'écriture. Vous pouvez ajouter des projets, les mettre à jour et suivre vos progrès.",additional_content:[u.jsxs("div",{className:"field",children:[u.jsx("div",{className:"title",children:"Comment ça marche ?"}),u.jsxs("div",{className:"description",children:[u.jsx("span",{children:`WriPilTra est un outil simple d'utilisation. Vous pouvez ajouter un projet en cliquant sur le bouton "Créer un nouveau projet".`}),u.jsx("span",{children:'Vous pouvez rechercher un projet en cliquant sur le bouton "Rechercher".'}),u.jsx("span",{children:'Vous pouvez écrire en cliquant sur le bouton "Ecrire".'}),u.jsx("span",{children:'Vous pouvez mettre à jour un projet en cliquant sur le bouton "Mettre à jour" dans la liste des projets.'}),u.jsx("span",{children:'Vous pouvez obtenir des informations sur WriPilTra en cliquant sur le bouton "Informations".'})]})]},0),u.jsx("div",{className:"field",children:u.jsx("iframe",{src:"https://naflouille-creations.com/modules/sponsor/index.html",title:"Sponsor",width:"270",height:"90",style:{border:"none"}})},1)],buttons:[{text:"Commencer",className:"primary",onClick:()=>{j(),o(!0)}},{text:"En savoir plus",className:"secondary",onClick:()=>{j(),c(!0)}}]}),u.jsx("div",{className:`menu ${S?"view":"no-view"}`,children:u.jsxs("div",{className:"menu-content",children:[u.jsx(te,{icon:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"/></svg>',text:"Rechercher",className:"primary justify-start",onClick:()=>{y([]),l(!0)}}),u.jsx(te,{icon:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path d="M160-120q-17 0-28.5-11.5T120-160v-97q0-16 6-30.5t17-25.5l505-504q12-11 26.5-17t30.5-6q16 0 31 6t26 18l55 56q12 11 17.5 26t5.5 30q0 16-5.5 30.5T817-647L313-143q-11 11-25.5 17t-30.5 6h-97Zm544-528 56-56-56-56-56 56 56 56Z"/></svg>',text:"Ecrire",onClick:()=>{x(null),d(!0)},className:"primary add-project justify-start"}),u.jsx(te,{icon:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path d="M440-440H200v-80h240v-240h80v240h240v80H520v240h-80v-240Z"/></svg>',text:"Créer un nouveau projet",onClick:()=>o(!0),className:"primary add-project justify-start"}),u.jsx(te,{icon:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path d="M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Z"/></svg>',text:"Informations",onClick:()=>c(!0),className:"primary justify-start"}),u.jsx(te,{icon:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path d="M478-240q21 0 35.5-14.5T528-290q0-21-14.5-35.5T478-340q-21 0-35.5 14.5T428-290q0 21 14.5 35.5T478-240Zm-36-154h74q0-33 7.5-52t42.5-52q26-26 41-49.5t15-56.5q0-56-41-86t-97-30q-57 0-92.5 30T342-618l66 26q5-18 22.5-39t53.5-21q32 0 48 17.5t16 38.5q0 20-12 37.5T506-526q-44 39-54 59t-10 73Zm38 314q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Z"/></svg>',text:"Aide",onClick:()=>g(!0),className:"primary justify-start"})]})}),n&&u.jsx(Yl,{setState:o,update:!1}),s&&u.jsx(sh,{setViewSearch:l,searchProjects:f,findProjects:w,searchInputRef:t,setDisplayUpdatePopUp:i}),u.jsx("div",{className:"right-content",children:u.jsx(Yd,{displayUpdatePopUp:r,setDisplayUpdatePopUp:i,setProject:T,setDisplay:b,project:B,setSelectedProject:x,setViewProjectSelection:d})}),a&&u.jsx(lh,{setInformationsView:c}),r&&u.jsx(Kd,{setState:i,project:r}),p&&u.jsx(Rh,{setDisplay:d,setShowAlert:o,setSelectedProject:x,setSelectedChapter:m,selectedChapter:L,selectedProject:v}),I&&B!=""&&u.jsx(ih,{setProject:T,project:B,setDisplay:b,setDisplayUpdatePopUp:i})]})}Qi.createRoot(document.getElementById("root")).render(u.jsx(Jh.StrictMode,{children:u.jsx(f0,{})}));const ce="nfc_wpt_app";localStorage.getItem(ce)||localStorage.setItem(ce,JSON.stringify({projects:[]}));
